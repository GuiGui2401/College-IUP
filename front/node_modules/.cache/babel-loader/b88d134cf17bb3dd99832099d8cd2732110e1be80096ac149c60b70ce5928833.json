{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Check,X,Telephone,QuestionCircle}from'react-bootstrap-icons';import{usePhoneValidation}from'../hooks/usePhoneValidation';import{paramsTraductions}from'../local/params';import{getLang}from'../utils/lang';/**\n * Composant d'input pour num√©ros de t√©l√©phone avec validation int√©gr√©e\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PhoneInput=_ref=>{let{value='',onChange,onBlur,label,placeholder='+237 6XX XXX XXX',required=false,disabled=false,showSuggestions=true,className='',id,name}=_ref;const{validatePhone,formatPhone,detectCountry,getSuggestions}=usePhoneValidation();const[localValue,setLocalValue]=useState(value);const[showHelp,setShowHelp]=useState(false);const[validation,setValidation]=useState({isValid:true,message:''});const[country,setCountry]=useState({country:'Unknown',flag:'üåç',code:''});const[suggestions,setSuggestions]=useState([]);useEffect(()=>{setLocalValue(value);const validation=validatePhone(value);setValidation(validation);setCountry(detectCountry(value));if(!validation.isValid&&showSuggestions){setSuggestions(getSuggestions(value));}else{setSuggestions([]);}},[value,validatePhone,detectCountry,getSuggestions,showSuggestions]);const handleChange=e=>{const newValue=e.target.value;setLocalValue(newValue);// Valider en temps r√©el\nconst validation=validatePhone(newValue);setValidation(validation);setCountry(detectCountry(newValue));// Mettre √† jour la validit√© HTML5\nif(validation.isValid||newValue===''){e.target.setCustomValidity('');}else{e.target.setCustomValidity(validation.message);}if(onChange){onChange(e);}};const handleBlur=e=>{const formatted=formatPhone(e.target.value);const finalValidation=validatePhone(formatted||e.target.value);// Mettre √† jour la validation finale\nsetValidation(finalValidation);// Mettre √† jour la validit√© HTML5\nif(finalValidation.isValid||e.target.value===''){e.target.setCustomValidity('');}else{e.target.setCustomValidity(finalValidation.message);}if(formatted!==e.target.value&&finalValidation.isValid){setLocalValue(formatted);// Create a synthetic event with the formatted value\nconst syntheticEvent={...e,target:{...e.target,value:formatted}};if(onChange){onChange(syntheticEvent);}}if(onBlur){onBlur(e);}};const applySuggestion=suggestion=>{setLocalValue(suggestion.formatted);setSuggestions([]);const syntheticEvent={target:{value:suggestion.formatted}};if(onChange){onChange(syntheticEvent);}};return/*#__PURE__*/_jsxs(\"div\",{className:`phone-input-container ${className}`,children:[label&&/*#__PURE__*/_jsxs(\"label\",{htmlFor:id,className:\"form-label d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Telephone,{size:16,className:\"me-1\"}),label,required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger ms-1\",children:\"*\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-link btn-sm p-0 ms-2\",onClick:()=>setShowHelp(!showHelp),title:\"Aide sur le format\",children:/*#__PURE__*/_jsx(QuestionCircle,{size:14,className:\"text-muted\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"input-group-text bg-light border-end-0\",style:{minWidth:'60px'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-1\",title:country.country,children:country.flag}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:country.code})]}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:id,name:name,className:`form-control border-start-0 ${validation.isValid?'':'is-invalid'} ${localValue&&validation.isValid?'is-valid':''}`,value:localValue,onChange:handleChange,onBlur:handleBlur,placeholder:placeholder,disabled:disabled,required:required,noValidate:true,title:paramsTraductions[getLang()].phoneInputTitle||\"Entrez un num√©ro de t√©l√©phone valide\",onInvalid:e=>{e.preventDefault();// Utiliser notre validation personnalis√©e au lieu de la validation HTML5\nif(!validation.isValid){e.target.setCustomValidity(validation.message);}else{e.target.setCustomValidity('');}}}),/*#__PURE__*/_jsxs(\"span\",{className:\"input-group-text bg-light\",children:[localValue&&validation.isValid&&/*#__PURE__*/_jsx(Check,{size:16,className:\"text-success\",title:\"Format valide\"}),localValue&&!validation.isValid&&/*#__PURE__*/_jsx(X,{size:16,className:\"text-danger\",title:\"Format invalide\"})]})]}),showHelp&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info alert-dismissible fade show mt-2\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"strong\",{children:paramsTraductions[getLang()].phoneFormatHelp||'Formats accept√©s :'}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mb-1 mt-1\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"code\",{children:\"+237 6XX XXX XXX\"}),\" - Format international (recommand\\xE9)\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"code\",{children:\"237 6XX XXX XXX\"}),\" - Avec indicatif pays\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"code\",{children:\"6XX XXX XXX\"}),\" - Format local (Cameroun)\"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setShowHelp(false),\"aria-label\":\"Close\"})]}),!validation.isValid&&validation.message&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback d-block\",children:validation.message}),suggestions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:paramsTraductions[getLang()].phoneSuggestions||'Suggestions :'}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-1 mt-1\",children:suggestions.map((suggestion,index)=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary btn-sm\",onClick:()=>applySuggestion(suggestion),title:suggestion.description,children:suggestion.formatted},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-text d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:paramsTraductions[getLang()].phoneFormatExample||'Exemple : +237 671 234 567'}),localValue&&/*#__PURE__*/_jsx(\"span\",{className:`badge ${validation.isValid?'bg-success':'bg-danger'}`,children:validation.isValid?paramsTraductions[getLang()].validFormat||'Format valide':paramsTraductions[getLang()].invalidFormat||'Format invalide'})]})]});};export default PhoneInput;","map":{"version":3,"names":["React","useState","useEffect","Check","X","Telephone","QuestionCircle","usePhoneValidation","paramsTraductions","getLang","jsx","_jsx","jsxs","_jsxs","PhoneInput","_ref","value","onChange","onBlur","label","placeholder","required","disabled","showSuggestions","className","id","name","validatePhone","formatPhone","detectCountry","getSuggestions","localValue","setLocalValue","showHelp","setShowHelp","validation","setValidation","isValid","message","country","setCountry","flag","code","suggestions","setSuggestions","handleChange","e","newValue","target","setCustomValidity","handleBlur","formatted","finalValidation","syntheticEvent","applySuggestion","suggestion","children","htmlFor","size","type","onClick","title","style","minWidth","noValidate","phoneInputTitle","onInvalid","preventDefault","role","phoneFormatHelp","length","phoneSuggestions","map","index","description","phoneFormatExample","validFormat","invalidFormat"],"sources":["/var/www/College-IUP/front/src/components/PhoneInput.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Check, X, Telephone, QuestionCircle } from 'react-bootstrap-icons';\nimport { usePhoneValidation } from '../hooks/usePhoneValidation';\nimport { paramsTraductions } from '../local/params';\nimport { getLang } from '../utils/lang';\n\n/**\n * Composant d'input pour num√©ros de t√©l√©phone avec validation int√©gr√©e\n */\nconst PhoneInput = ({ \n    value = '', \n    onChange, \n    onBlur,\n    label,\n    placeholder = '+237 6XX XXX XXX',\n    required = false,\n    disabled = false,\n    showSuggestions = true,\n    className = '',\n    id,\n    name \n}) => {\n    const { validatePhone, formatPhone, detectCountry, getSuggestions } = usePhoneValidation();\n    const [localValue, setLocalValue] = useState(value);\n    const [showHelp, setShowHelp] = useState(false);\n    const [validation, setValidation] = useState({ isValid: true, message: '' });\n    const [country, setCountry] = useState({ country: 'Unknown', flag: 'üåç', code: '' });\n    const [suggestions, setSuggestions] = useState([]);\n\n    useEffect(() => {\n        setLocalValue(value);\n        const validation = validatePhone(value);\n        setValidation(validation);\n        setCountry(detectCountry(value));\n        \n        if (!validation.isValid && showSuggestions) {\n            setSuggestions(getSuggestions(value));\n        } else {\n            setSuggestions([]);\n        }\n    }, [value, validatePhone, detectCountry, getSuggestions, showSuggestions]);\n\n    const handleChange = (e) => {\n        const newValue = e.target.value;\n        setLocalValue(newValue);\n        \n        // Valider en temps r√©el\n        const validation = validatePhone(newValue);\n        setValidation(validation);\n        setCountry(detectCountry(newValue));\n        \n        // Mettre √† jour la validit√© HTML5\n        if (validation.isValid || newValue === '') {\n            e.target.setCustomValidity('');\n        } else {\n            e.target.setCustomValidity(validation.message);\n        }\n        \n        if (onChange) {\n            onChange(e);\n        }\n    };\n\n    const handleBlur = (e) => {\n        const formatted = formatPhone(e.target.value);\n        const finalValidation = validatePhone(formatted || e.target.value);\n        \n        // Mettre √† jour la validation finale\n        setValidation(finalValidation);\n        \n        // Mettre √† jour la validit√© HTML5\n        if (finalValidation.isValid || e.target.value === '') {\n            e.target.setCustomValidity('');\n        } else {\n            e.target.setCustomValidity(finalValidation.message);\n        }\n        \n        if (formatted !== e.target.value && finalValidation.isValid) {\n            setLocalValue(formatted);\n            \n            // Create a synthetic event with the formatted value\n            const syntheticEvent = {\n                ...e,\n                target: { ...e.target, value: formatted }\n            };\n            \n            if (onChange) {\n                onChange(syntheticEvent);\n            }\n        }\n        \n        if (onBlur) {\n            onBlur(e);\n        }\n    };\n\n    const applySuggestion = (suggestion) => {\n        setLocalValue(suggestion.formatted);\n        setSuggestions([]);\n        \n        const syntheticEvent = {\n            target: { value: suggestion.formatted }\n        };\n        \n        if (onChange) {\n            onChange(syntheticEvent);\n        }\n    };\n\n    return (\n        <div className={`phone-input-container ${className}`}>\n            {label && (\n                <label htmlFor={id} className=\"form-label d-flex align-items-center\">\n                    <Telephone size={16} className=\"me-1\" />\n                    {label}\n                    {required && <span className=\"text-danger ms-1\">*</span>}\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-link btn-sm p-0 ms-2\"\n                        onClick={() => setShowHelp(!showHelp)}\n                        title=\"Aide sur le format\"\n                    >\n                        <QuestionCircle size={14} className=\"text-muted\" />\n                    </button>\n                </label>\n            )}\n            \n            <div className=\"input-group\">\n                <span className=\"input-group-text bg-light border-end-0\" style={{ minWidth: '60px' }}>\n                    <span className=\"me-1\" title={country.country}>{country.flag}</span>\n                    <small className=\"text-muted\">{country.code}</small>\n                </span>\n                <input\n                    type=\"tel\"\n                    id={id}\n                    name={name}\n                    className={`form-control border-start-0 ${\n                        validation.isValid ? '' : 'is-invalid'\n                    } ${\n                        localValue && validation.isValid ? 'is-valid' : ''\n                    }`}\n                    value={localValue}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    placeholder={placeholder}\n                    disabled={disabled}\n                    required={required}\n                    noValidate={true}\n                    title={paramsTraductions[getLang()].phoneInputTitle || \"Entrez un num√©ro de t√©l√©phone valide\"}\n                    onInvalid={(e) => {\n                        e.preventDefault();\n                        // Utiliser notre validation personnalis√©e au lieu de la validation HTML5\n                        if (!validation.isValid) {\n                            e.target.setCustomValidity(validation.message);\n                        } else {\n                            e.target.setCustomValidity('');\n                        }\n                    }}\n                />\n                <span className=\"input-group-text bg-light\">\n                    {localValue && validation.isValid && (\n                        <Check size={16} className=\"text-success\" title=\"Format valide\" />\n                    )}\n                    {localValue && !validation.isValid && (\n                        <X size={16} className=\"text-danger\" title=\"Format invalide\" />\n                    )}\n                </span>\n            </div>\n            \n            {/* Messages d'aide et d'erreur */}\n            {showHelp && (\n                <div className=\"alert alert-info alert-dismissible fade show mt-2\" role=\"alert\">\n                    <strong>{paramsTraductions[getLang()].phoneFormatHelp || 'Formats accept√©s :'}</strong>\n                    <ul className=\"mb-1 mt-1\">\n                        <li><code>+237 6XX XXX XXX</code> - Format international (recommand√©)</li>\n                        <li><code>237 6XX XXX XXX</code> - Avec indicatif pays</li>\n                        <li><code>6XX XXX XXX</code> - Format local (Cameroun)</li>\n                    </ul>\n                    <button \n                        type=\"button\" \n                        className=\"btn-close\" \n                        onClick={() => setShowHelp(false)}\n                        aria-label=\"Close\"\n                    ></button>\n                </div>\n            )}\n            \n            {!validation.isValid && validation.message && (\n                <div className=\"invalid-feedback d-block\">\n                    {validation.message}\n                </div>\n            )}\n            \n            {/* Suggestions de correction */}\n            {suggestions.length > 0 && (\n                <div className=\"mt-2\">\n                    <small className=\"text-muted\">\n                        {paramsTraductions[getLang()].phoneSuggestions || 'Suggestions :'}\n                    </small>\n                    <div className=\"d-flex flex-wrap gap-1 mt-1\">\n                        {suggestions.map((suggestion, index) => (\n                            <button\n                                key={index}\n                                type=\"button\"\n                                className=\"btn btn-outline-primary btn-sm\"\n                                onClick={() => applySuggestion(suggestion)}\n                                title={suggestion.description}\n                            >\n                                {suggestion.formatted}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n            )}\n            \n            {/* Indicateur de format */}\n            <div className=\"form-text d-flex align-items-center justify-content-between\">\n                <span>\n                    {paramsTraductions[getLang()].phoneFormatExample || 'Exemple : +237 671 234 567'}\n                </span>\n                {localValue && (\n                    <span className={`badge ${\n                        validation.isValid ? 'bg-success' : 'bg-danger'\n                    }`}>\n                        {validation.isValid ? \n                            (paramsTraductions[getLang()].validFormat || 'Format valide') : \n                            (paramsTraductions[getLang()].invalidFormat || 'Format invalide')\n                        }\n                    </span>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default PhoneInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}