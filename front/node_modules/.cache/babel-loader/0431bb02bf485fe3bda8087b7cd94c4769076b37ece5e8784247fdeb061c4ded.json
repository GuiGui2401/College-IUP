{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Button,Form,Table,Alert,Spinner,Badge,ProgressBar}from'react-bootstrap';import{Calendar,People,BarChartFill,Download,Search,Filter,ChevronLeft,ChevronRight,Clock,CheckCircle,XCircle,InfoCircle,FiletypePdf,FileEarmarkExcel,PersonCheckFill}from'react-bootstrap-icons';import{secureApiEndpoints}from'../../utils/apiMigration';import{extractErrorMessage}from'../../utils/errorHandler';import{authService}from'../../services/authService';import{host}from'../../utils/fetch';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StaffAttendanceReport=()=>{const[attendanceData,setAttendanceData]=useState([]);const[monthlyStats,setMonthlyStats]=useState({});const[selectedMonth,setSelectedMonth]=useState(()=>{const now=new Date();return`${now.getFullYear()}-${(now.getMonth()+1).toString().padStart(2,'0')}`;});const[selectedRole,setSelectedRole]=useState('');const[selectedDepartment,setSelectedDepartment]=useState('');const[attendanceStatus,setAttendanceStatus]=useState('all');// all, excellent, good, average, poor\nconst[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const roles=[{value:'teacher',label:'Enseignant'},{value:'accountant',label:'Comptable'},{value:'admin',label:'Administrateur'},{value:'secretaire',label:'Secrétaire'},{value:'surveillant_general',label:'Surveillant Général'},{value:'comptable_superieur',label:'Comptable Supérieur'}];const statusFilters=[{value:'all',label:'Tous les statuts',color:'secondary'},{value:'excellent',label:'Excellent (≥95%)',color:'success'},{value:'good',label:'Bon (85-94%)',color:'info'},{value:'average',label:'Moyen (70-84%)',color:'warning'},{value:'poor',label:'Faible (<70%)',color:'danger'}];useEffect(()=>{if(selectedMonth){loadStaffAttendanceReport();}},[selectedMonth,selectedRole,selectedDepartment,attendanceStatus]);const loadStaffAttendanceReport=async()=>{try{setLoading(true);setError('');const params=new URLSearchParams({month:selectedMonth});if(selectedRole)params.append('role',selectedRole);if(selectedDepartment)params.append('department',selectedDepartment);if(attendanceStatus!=='all')params.append('status',attendanceStatus);const response=await fetch(`${host}/api/reports/staff-attendance-monthly?${params.toString()}`,{method:'GET',headers:{'Authorization':`Bearer ${authService.getToken()}`,'Accept':'application/json'}});if(!response.ok){throw new Error(`Erreur ${response.status}: ${response.statusText}`);}const data=await response.json();if(data.success){var _data$data$staff_atte;setAttendanceData(data.data.staff_attendance||[]);setMonthlyStats(data.data.monthly_stats||{});setSuccess(`${((_data$data$staff_atte=data.data.staff_attendance)===null||_data$data$staff_atte===void 0?void 0:_data$data$staff_atte.length)||0} membre(s) du personnel analysé(s)`);}else{setError(data.message||'Erreur lors du chargement des données');}}catch(error){console.error('Erreur lors du chargement du rapport:',error);setError(extractErrorMessage(error));}finally{setLoading(false);}};const exportToPdf=async()=>{try{setLoading(true);const params=new URLSearchParams({month:selectedMonth});if(selectedRole)params.append('role',selectedRole);if(selectedDepartment)params.append('department',selectedDepartment);if(attendanceStatus!=='all')params.append('status',attendanceStatus);const response=await fetch(`${host}/api/reports/staff-attendance-monthly/export-pdf?${params.toString()}`,{method:'GET',headers:{'Authorization':`Bearer ${authService.getToken()}`,'Accept':'application/pdf'}});if(response.ok){const blob=await response.blob();const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=`rapport_presence_personnel_${selectedMonth}.pdf`;document.body.appendChild(link);link.click();link.remove();window.URL.revokeObjectURL(url);setSuccess('Rapport PDF exporté avec succès');}else{setError('Erreur lors de l\\'export PDF');}}catch(error){setError('Erreur lors de l\\'export PDF: '+error.message);}finally{setLoading(false);}};const exportToExcel=async()=>{try{setLoading(true);const params=new URLSearchParams({month:selectedMonth});if(selectedRole)params.append('role',selectedRole);if(selectedDepartment)params.append('department',selectedDepartment);if(attendanceStatus!=='all')params.append('status',attendanceStatus);const response=await fetch(`${host}/api/reports/staff-attendance-monthly/export-excel?${params.toString()}`,{method:'GET',headers:{'Authorization':`Bearer ${authService.getToken()}`,'Accept':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}});if(response.ok){const blob=await response.blob();const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=`rapport_presence_personnel_${selectedMonth}.xlsx`;document.body.appendChild(link);link.click();link.remove();window.URL.revokeObjectURL(url);setSuccess('Rapport Excel exporté avec succès');}else{setError('Erreur lors de l\\'export Excel');}}catch(error){setError('Erreur lors de l\\'export Excel: '+error.message);}finally{setLoading(false);}};const goToPreviousMonth=()=>{const currentDate=new Date(selectedMonth+'-01');currentDate.setMonth(currentDate.getMonth()-1);setSelectedMonth(`${currentDate.getFullYear()}-${(currentDate.getMonth()+1).toString().padStart(2,'0')}`);};const goToNextMonth=()=>{const currentDate=new Date(selectedMonth+'-01');currentDate.setMonth(currentDate.getMonth()+1);setSelectedMonth(`${currentDate.getFullYear()}-${(currentDate.getMonth()+1).toString().padStart(2,'0')}`);};const goToCurrentMonth=()=>{const now=new Date();setSelectedMonth(`${now.getFullYear()}-${(now.getMonth()+1).toString().padStart(2,'0')}`);};const getAttendanceStatusBadge=stats=>{const attendanceRate=stats.total_days>0?stats.present_days/stats.total_days*100:0;if(attendanceRate>=95){return/*#__PURE__*/_jsxs(Badge,{bg:\"success\",className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:12}),\"Excellent\"]});}else if(attendanceRate>=85){return/*#__PURE__*/_jsxs(Badge,{bg:\"info\",className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(InfoCircle,{size:12}),\"Bon\"]});}else if(attendanceRate>=70){return/*#__PURE__*/_jsxs(Badge,{bg:\"warning\",className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(Clock,{size:12}),\"Moyen\"]});}else{return/*#__PURE__*/_jsxs(Badge,{bg:\"danger\",className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(XCircle,{size:12}),\"Faible\"]});}};const formatTime=minutes=>{if(!minutes)return'0h 0min';const hours=Math.floor(minutes/60);const mins=minutes%60;return`${hours}h ${mins}min`;};const formatMonthYear=monthStr=>{const date=new Date(monthStr+'-01');return date.toLocaleDateString('fr-FR',{month:'long',year:'numeric'});};const getRoleLabel=role=>{const roleObj=roles.find(r=>r.value===role);return roleObj?roleObj.label:role;};return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"py-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"d-flex align-items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(PersonCheckFill,{className:\"text-primary\"}),\"Rapport de Pr\\xE9sence du Personnel\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Statistiques et analyse mensuelle de la pr\\xE9sence du personnel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline-success\",onClick:exportToExcel,disabled:loading||attendanceData.length===0,size:\"sm\",children:[/*#__PURE__*/_jsx(FileEarmarkExcel,{className:\"me-1\"}),\"Excel\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"danger\",onClick:exportToPdf,disabled:loading||attendanceData.length===0,size:\"sm\",children:[/*#__PURE__*/_jsx(FiletypePdf,{className:\"me-1\"}),\"PDF\"]})]})]})})}),/*#__PURE__*/_jsxs(Card,{className:\"mb-4 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0 d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(Filter,{className:\"text-primary\"}),\" Filtres et P\\xE9riode\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:3,md:4,className:\"mb-3\",children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{className:\"fw-semibold\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"me-1\"}),\"Mois\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:goToPreviousMonth,disabled:loading,children:/*#__PURE__*/_jsx(ChevronLeft,{})}),/*#__PURE__*/_jsx(Form.Control,{type:\"month\",value:selectedMonth,onChange:e=>setSelectedMonth(e.target.value),size:\"sm\",disabled:loading,className:\"mx-1\",style:{minWidth:'140px'}}),/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:goToNextMonth,disabled:loading,children:/*#__PURE__*/_jsx(ChevronRight,{})})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:goToCurrentMonth,disabled:loading,className:\"mt-1 w-100\",children:\"Mois actuel\"})]})}),/*#__PURE__*/_jsx(Col,{lg:2,md:4,className:\"mb-3\",children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-semibold\",children:\"R\\xF4le\"}),/*#__PURE__*/_jsxs(Form.Select,{value:selectedRole,onChange:e=>setSelectedRole(e.target.value),size:\"sm\",disabled:loading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tous les r\\xF4les\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.value,children:role.label},role.value))]})]})}),/*#__PURE__*/_jsx(Col,{lg:3,md:4,className:\"mb-3\",children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-semibold\",children:\"Statut de Pr\\xE9sence\"}),/*#__PURE__*/_jsx(Form.Select,{value:attendanceStatus,onChange:e=>setAttendanceStatus(e.target.value),size:\"sm\",disabled:loading,children:statusFilters.map(status=>/*#__PURE__*/_jsx(\"option\",{value:status.value,children:status.label},status.value))})]})}),/*#__PURE__*/_jsx(Col,{lg:4,className:\"mb-3 d-flex align-items-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:loadStaffAttendanceReport,disabled:loading,className:\"d-flex align-items-center gap-2 w-100\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\"}),\" Chargement...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{}),\" Actualiser le rapport\"]})})})]})})]}),error&&/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",dismissible:true,onClose:()=>setError(''),className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Erreur:\"}),\" \",error]}),success&&/*#__PURE__*/_jsxs(Alert,{variant:\"success\",dismissible:true,onClose:()=>setSuccess(''),className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Succ\\xE8s:\"}),\" \",success]}),monthlyStats.total_staff>0&&/*#__PURE__*/_jsxs(Card,{className:\"mb-4 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-primary text-white\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0 d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChartFill,{}),\" Statistiques Globales - \",formatMonthYear(selectedMonth)]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{className:\"text-center\",children:[/*#__PURE__*/_jsx(Col,{lg:2,md:4,sm:6,className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border-end\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-primary mb-1\",children:monthlyStats.total_staff}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0 small\",children:\"Personnel Total\"})]})}),/*#__PURE__*/_jsx(Col,{lg:2,md:4,sm:6,className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border-end\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-success mb-1\",children:[monthlyStats.avg_attendance_rate,\"%\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0 small\",children:\"Taux Moyen\"})]})}),/*#__PURE__*/_jsx(Col,{lg:2,md:4,sm:6,className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border-end\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-info mb-1\",children:monthlyStats.total_working_days}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0 small\",children:\"Jours Ouvrables\"})]})}),/*#__PURE__*/_jsx(Col,{lg:2,md:4,sm:6,className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border-end\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-warning mb-1\",children:formatTime(monthlyStats.avg_working_hours)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0 small\",children:\"Temps Moyen/Jour\"})]})}),/*#__PURE__*/_jsx(Col,{lg:2,md:4,sm:6,className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border-end\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-success mb-1\",children:monthlyStats.excellent_attendance}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0 small\",children:\"Excellent (\\u226595%)\"})]})}),/*#__PURE__*/_jsxs(Col,{lg:2,md:4,sm:6,className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-danger mb-1\",children:monthlyStats.poor_attendance}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0 small\",children:\"Faible (<70%)\"})]})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"D\\xE9tail par Personnel\"}),attendanceData.length>0&&/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",children:[attendanceData.length,\" membre(s)\"]})]})}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-0\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-muted\",children:\"Chargement des donn\\xE9es de pr\\xE9sence...\"})]}):attendanceData.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(People,{size:48,className:\"text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-muted\",children:\"Aucune donn\\xE9e disponible\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Aucune donn\\xE9e de pr\\xE9sence trouv\\xE9e pour les crit\\xE8res s\\xE9lectionn\\xE9s.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Personnel\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"R\\xF4le\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Jours Travaill\\xE9s\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Jours Pr\\xE9sents\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Taux de Pr\\xE9sence\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Temps Total\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Temps Moyen/Jour\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Statut\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:attendanceData.map((staff,index)=>{const attendanceRate=staff.stats.total_days>0?staff.stats.present_days/staff.stats.total_days*100:0;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center fw-bold\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{className:\"d-block\",children:staff.name}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:staff.email})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",className:\"small\",children:getRoleLabel(staff.role)})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:staff.stats.total_days})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"strong\",{className:\"text-success\",children:staff.stats.present_days})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold mb-1\",children:[attendanceRate.toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(ProgressBar,{now:attendanceRate,variant:attendanceRate>=95?'success':attendanceRate>=85?'info':attendanceRate>=70?'warning':'danger',size:\"sm\",style:{height:'6px'}})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:formatTime(staff.stats.total_working_minutes)})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:formatTime(staff.stats.avg_working_minutes_per_day)})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:getAttendanceStatusBadge(staff.stats)})]},index);})})]})})})]})]});};export default StaffAttendanceReport;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Form","Table","Alert","Spinner","Badge","ProgressBar","Calendar","People","BarChartFill","Download","Search","Filter","ChevronLeft","ChevronRight","Clock","CheckCircle","XCircle","InfoCircle","FiletypePdf","FileEarmarkExcel","PersonCheckFill","secureApiEndpoints","extractErrorMessage","authService","host","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StaffAttendanceReport","attendanceData","setAttendanceData","monthlyStats","setMonthlyStats","selectedMonth","setSelectedMonth","now","Date","getFullYear","getMonth","toString","padStart","selectedRole","setSelectedRole","selectedDepartment","setSelectedDepartment","attendanceStatus","setAttendanceStatus","loading","setLoading","error","setError","success","setSuccess","roles","value","label","statusFilters","color","loadStaffAttendanceReport","params","URLSearchParams","month","append","response","fetch","method","headers","getToken","ok","Error","status","statusText","data","json","_data$data$staff_atte","staff_attendance","monthly_stats","length","message","console","exportToPdf","blob","url","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","remove","revokeObjectURL","exportToExcel","goToPreviousMonth","currentDate","setMonth","goToNextMonth","goToCurrentMonth","getAttendanceStatusBadge","stats","attendanceRate","total_days","present_days","bg","className","children","size","formatTime","minutes","hours","Math","floor","mins","formatMonthYear","monthStr","date","toLocaleDateString","year","getRoleLabel","role","roleObj","find","r","fluid","variant","onClick","disabled","Header","Body","lg","md","Group","Label","Control","type","onChange","e","target","style","minWidth","Select","map","dismissible","onClose","total_staff","sm","avg_attendance_rate","total_working_days","avg_working_hours","excellent_attendance","poor_attendance","animation","striped","hover","staff","index","name","email","toFixed","height","total_working_minutes","avg_working_minutes_per_day"],"sources":["/var/www/College-IUP/front/src/pages/comptables/StaffAttendanceReport.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n    Container,\n    Row,\n    Col,\n    Card,\n    Button,\n    Form,\n    Table,\n    Alert,\n    Spinner,\n    Badge,\n    ProgressBar\n} from 'react-bootstrap';\nimport {\n    Calendar,\n    People,\n    BarChartFill,\n    Download,\n    Search,\n    Filter,\n    ChevronLeft,\n    ChevronRight,\n    Clock,\n    CheckCircle,\n    XCircle,\n    InfoCircle,\n    FiletypePdf,\n    FileEarmarkExcel,\n    PersonCheckFill\n} from 'react-bootstrap-icons';\nimport { secureApiEndpoints } from '../../utils/apiMigration';\nimport { extractErrorMessage } from '../../utils/errorHandler';\nimport { authService } from '../../services/authService';\nimport { host } from '../../utils/fetch';\n\nconst StaffAttendanceReport = () => {\n    const [attendanceData, setAttendanceData] = useState([]);\n    const [monthlyStats, setMonthlyStats] = useState({});\n    const [selectedMonth, setSelectedMonth] = useState(() => {\n        const now = new Date();\n        return `${now.getFullYear()}-${(now.getMonth() + 1).toString().padStart(2, '0')}`;\n    });\n    const [selectedRole, setSelectedRole] = useState('');\n    const [selectedDepartment, setSelectedDepartment] = useState('');\n    const [attendanceStatus, setAttendanceStatus] = useState('all'); // all, excellent, good, average, poor\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    const roles = [\n        { value: 'teacher', label: 'Enseignant' },\n        { value: 'accountant', label: 'Comptable' },\n        { value: 'admin', label: 'Administrateur' },\n        { value: 'secretaire', label: 'Secrétaire' },\n        { value: 'surveillant_general', label: 'Surveillant Général' },\n        { value: 'comptable_superieur', label: 'Comptable Supérieur' }\n    ];\n\n    const statusFilters = [\n        { value: 'all', label: 'Tous les statuts', color: 'secondary' },\n        { value: 'excellent', label: 'Excellent (≥95%)', color: 'success' },\n        { value: 'good', label: 'Bon (85-94%)', color: 'info' },\n        { value: 'average', label: 'Moyen (70-84%)', color: 'warning' },\n        { value: 'poor', label: 'Faible (<70%)', color: 'danger' }\n    ];\n\n    useEffect(() => {\n        if (selectedMonth) {\n            loadStaffAttendanceReport();\n        }\n    }, [selectedMonth, selectedRole, selectedDepartment, attendanceStatus]);\n\n    const loadStaffAttendanceReport = async () => {\n        try {\n            setLoading(true);\n            setError('');\n\n            const params = new URLSearchParams({\n                month: selectedMonth\n            });\n\n            if (selectedRole) params.append('role', selectedRole);\n            if (selectedDepartment) params.append('department', selectedDepartment);\n            if (attendanceStatus !== 'all') params.append('status', attendanceStatus);\n\n            const response = await fetch(`${host}/api/reports/staff-attendance-monthly?${params.toString()}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${authService.getToken()}`,\n                    'Accept': 'application/json',\n                },\n            });\n\n            if (!response.ok) {\n                throw new Error(`Erreur ${response.status}: ${response.statusText}`);\n            }\n\n            const data = await response.json();\n\n            if (data.success) {\n                setAttendanceData(data.data.staff_attendance || []);\n                setMonthlyStats(data.data.monthly_stats || {});\n                setSuccess(`${data.data.staff_attendance?.length || 0} membre(s) du personnel analysé(s)`);\n            } else {\n                setError(data.message || 'Erreur lors du chargement des données');\n            }\n        } catch (error) {\n            console.error('Erreur lors du chargement du rapport:', error);\n            setError(extractErrorMessage(error));\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const exportToPdf = async () => {\n        try {\n            setLoading(true);\n            const params = new URLSearchParams({\n                month: selectedMonth\n            });\n\n            if (selectedRole) params.append('role', selectedRole);\n            if (selectedDepartment) params.append('department', selectedDepartment);\n            if (attendanceStatus !== 'all') params.append('status', attendanceStatus);\n\n            const response = await fetch(`${host}/api/reports/staff-attendance-monthly/export-pdf?${params.toString()}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${authService.getToken()}`,\n                    'Accept': 'application/pdf',\n                },\n            });\n\n            if (response.ok) {\n                const blob = await response.blob();\n                const url = window.URL.createObjectURL(blob);\n                const link = document.createElement('a');\n                link.href = url;\n                link.download = `rapport_presence_personnel_${selectedMonth}.pdf`;\n                document.body.appendChild(link);\n                link.click();\n                link.remove();\n                window.URL.revokeObjectURL(url);\n                setSuccess('Rapport PDF exporté avec succès');\n            } else {\n                setError('Erreur lors de l\\'export PDF');\n            }\n        } catch (error) {\n            setError('Erreur lors de l\\'export PDF: ' + error.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const exportToExcel = async () => {\n        try {\n            setLoading(true);\n            const params = new URLSearchParams({\n                month: selectedMonth\n            });\n\n            if (selectedRole) params.append('role', selectedRole);\n            if (selectedDepartment) params.append('department', selectedDepartment);\n            if (attendanceStatus !== 'all') params.append('status', attendanceStatus);\n\n            const response = await fetch(`${host}/api/reports/staff-attendance-monthly/export-excel?${params.toString()}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${authService.getToken()}`,\n                    'Accept': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n                },\n            });\n\n            if (response.ok) {\n                const blob = await response.blob();\n                const url = window.URL.createObjectURL(blob);\n                const link = document.createElement('a');\n                link.href = url;\n                link.download = `rapport_presence_personnel_${selectedMonth}.xlsx`;\n                document.body.appendChild(link);\n                link.click();\n                link.remove();\n                window.URL.revokeObjectURL(url);\n                setSuccess('Rapport Excel exporté avec succès');\n            } else {\n                setError('Erreur lors de l\\'export Excel');\n            }\n        } catch (error) {\n            setError('Erreur lors de l\\'export Excel: ' + error.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const goToPreviousMonth = () => {\n        const currentDate = new Date(selectedMonth + '-01');\n        currentDate.setMonth(currentDate.getMonth() - 1);\n        setSelectedMonth(`${currentDate.getFullYear()}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}`);\n    };\n\n    const goToNextMonth = () => {\n        const currentDate = new Date(selectedMonth + '-01');\n        currentDate.setMonth(currentDate.getMonth() + 1);\n        setSelectedMonth(`${currentDate.getFullYear()}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}`);\n    };\n\n    const goToCurrentMonth = () => {\n        const now = new Date();\n        setSelectedMonth(`${now.getFullYear()}-${(now.getMonth() + 1).toString().padStart(2, '0')}`);\n    };\n\n    const getAttendanceStatusBadge = (stats) => {\n        const attendanceRate = stats.total_days > 0 ? (stats.present_days / stats.total_days) * 100 : 0;\n        \n        if (attendanceRate >= 95) {\n            return <Badge bg=\"success\" className=\"d-flex align-items-center gap-1\">\n                <CheckCircle size={12} />Excellent\n            </Badge>;\n        } else if (attendanceRate >= 85) {\n            return <Badge bg=\"info\" className=\"d-flex align-items-center gap-1\">\n                <InfoCircle size={12} />Bon\n            </Badge>;\n        } else if (attendanceRate >= 70) {\n            return <Badge bg=\"warning\" className=\"d-flex align-items-center gap-1\">\n                <Clock size={12} />Moyen\n            </Badge>;\n        } else {\n            return <Badge bg=\"danger\" className=\"d-flex align-items-center gap-1\">\n                <XCircle size={12} />Faible\n            </Badge>;\n        }\n    };\n\n    const formatTime = (minutes) => {\n        if (!minutes) return '0h 0min';\n        const hours = Math.floor(minutes / 60);\n        const mins = minutes % 60;\n        return `${hours}h ${mins}min`;\n    };\n\n    const formatMonthYear = (monthStr) => {\n        const date = new Date(monthStr + '-01');\n        return date.toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });\n    };\n\n    const getRoleLabel = (role) => {\n        const roleObj = roles.find(r => r.value === role);\n        return roleObj ? roleObj.label : role;\n    };\n\n    return (\n        <Container fluid className=\"py-4\">\n            {/* Header */}\n            <Row className=\"mb-4\">\n                <Col>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <h2 className=\"d-flex align-items-center gap-2 mb-1\">\n                                <PersonCheckFill className=\"text-primary\" />\n                                Rapport de Présence du Personnel\n                            </h2>\n                            <p className=\"text-muted mb-0\">\n                                Statistiques et analyse mensuelle de la présence du personnel\n                            </p>\n                        </div>\n                        <div className=\"d-flex gap-2\">\n                            <Button\n                                variant=\"outline-success\"\n                                onClick={exportToExcel}\n                                disabled={loading || attendanceData.length === 0}\n                                size=\"sm\"\n                            >\n                                <FileEarmarkExcel className=\"me-1\" />\n                                Excel\n                            </Button>\n                            <Button\n                                variant=\"danger\"\n                                onClick={exportToPdf}\n                                disabled={loading || attendanceData.length === 0}\n                                size=\"sm\"\n                            >\n                                <FiletypePdf className=\"me-1\" />\n                                PDF\n                            </Button>\n                        </div>\n                    </div>\n                </Col>\n            </Row>\n\n            {/* Filtres */}\n            <Card className=\"mb-4 shadow-sm\">\n                <Card.Header className=\"bg-light\">\n                    <h5 className=\"mb-0 d-flex align-items-center gap-2\">\n                        <Filter className=\"text-primary\" /> Filtres et Période\n                    </h5>\n                </Card.Header>\n                <Card.Body>\n                    <Row>\n                        {/* Sélection du mois */}\n                        <Col lg={3} md={4} className=\"mb-3\">\n                            <Form.Group>\n                                <Form.Label className=\"fw-semibold\">\n                                    <Calendar className=\"me-1\" />Mois\n                                </Form.Label>\n                                <div className=\"d-flex align-items-center gap-1\">\n                                    <Button \n                                        variant=\"outline-primary\" \n                                        size=\"sm\"\n                                        onClick={goToPreviousMonth}\n                                        disabled={loading}\n                                    >\n                                        <ChevronLeft />\n                                    </Button>\n                                    \n                                    <Form.Control\n                                        type=\"month\"\n                                        value={selectedMonth}\n                                        onChange={(e) => setSelectedMonth(e.target.value)}\n                                        size=\"sm\"\n                                        disabled={loading}\n                                        className=\"mx-1\"\n                                        style={{ minWidth: '140px' }}\n                                    />\n                                    \n                                    <Button \n                                        variant=\"outline-primary\" \n                                        size=\"sm\"\n                                        onClick={goToNextMonth}\n                                        disabled={loading}\n                                    >\n                                        <ChevronRight />\n                                    </Button>\n                                </div>\n                                <Button \n                                    variant=\"outline-secondary\" \n                                    size=\"sm\"\n                                    onClick={goToCurrentMonth}\n                                    disabled={loading}\n                                    className=\"mt-1 w-100\"\n                                >\n                                    Mois actuel\n                                </Button>\n                            </Form.Group>\n                        </Col>\n\n                        {/* Filtre par rôle */}\n                        <Col lg={2} md={4} className=\"mb-3\">\n                            <Form.Group>\n                                <Form.Label className=\"fw-semibold\">Rôle</Form.Label>\n                                <Form.Select\n                                    value={selectedRole}\n                                    onChange={(e) => setSelectedRole(e.target.value)}\n                                    size=\"sm\"\n                                    disabled={loading}\n                                >\n                                    <option value=\"\">Tous les rôles</option>\n                                    {roles.map(role => (\n                                        <option key={role.value} value={role.value}>\n                                            {role.label}\n                                        </option>\n                                    ))}\n                                </Form.Select>\n                            </Form.Group>\n                        </Col>\n\n                        {/* Filtre par statut de présence */}\n                        <Col lg={3} md={4} className=\"mb-3\">\n                            <Form.Group>\n                                <Form.Label className=\"fw-semibold\">Statut de Présence</Form.Label>\n                                <Form.Select\n                                    value={attendanceStatus}\n                                    onChange={(e) => setAttendanceStatus(e.target.value)}\n                                    size=\"sm\"\n                                    disabled={loading}\n                                >\n                                    {statusFilters.map(status => (\n                                        <option key={status.value} value={status.value}>\n                                            {status.label}\n                                        </option>\n                                    ))}\n                                </Form.Select>\n                            </Form.Group>\n                        </Col>\n\n                        <Col lg={4} className=\"mb-3 d-flex align-items-end\">\n                            <Button \n                                variant=\"primary\"\n                                onClick={loadStaffAttendanceReport}\n                                disabled={loading}\n                                className=\"d-flex align-items-center gap-2 w-100\"\n                            >\n                                {loading ? (\n                                    <>\n                                        <Spinner size=\"sm\" /> Chargement...\n                                    </>\n                                ) : (\n                                    <>\n                                        <Search /> Actualiser le rapport\n                                    </>\n                                )}\n                            </Button>\n                        </Col>\n                    </Row>\n                </Card.Body>\n            </Card>\n\n            {/* Alerts */}\n            {error && (\n                <Alert variant=\"danger\" dismissible onClose={() => setError('')} className=\"mb-4\">\n                    <strong>Erreur:</strong> {error}\n                </Alert>\n            )}\n            {success && (\n                <Alert variant=\"success\" dismissible onClose={() => setSuccess('')} className=\"mb-4\">\n                    <strong>Succès:</strong> {success}\n                </Alert>\n            )}\n\n            {/* Statistiques mensuelles */}\n            {monthlyStats.total_staff > 0 && (\n                <Card className=\"mb-4 shadow-sm\">\n                    <Card.Header className=\"bg-primary text-white\">\n                        <h5 className=\"mb-0 d-flex align-items-center gap-2\">\n                            <BarChartFill /> Statistiques Globales - {formatMonthYear(selectedMonth)}\n                        </h5>\n                    </Card.Header>\n                    <Card.Body>\n                        <Row className=\"text-center\">\n                            <Col lg={2} md={4} sm={6} className=\"mb-3\">\n                                <div className=\"border-end\">\n                                    <h3 className=\"text-primary mb-1\">{monthlyStats.total_staff}</h3>\n                                    <p className=\"text-muted mb-0 small\">Personnel Total</p>\n                                </div>\n                            </Col>\n                            <Col lg={2} md={4} sm={6} className=\"mb-3\">\n                                <div className=\"border-end\">\n                                    <h3 className=\"text-success mb-1\">{monthlyStats.avg_attendance_rate}%</h3>\n                                    <p className=\"text-muted mb-0 small\">Taux Moyen</p>\n                                </div>\n                            </Col>\n                            <Col lg={2} md={4} sm={6} className=\"mb-3\">\n                                <div className=\"border-end\">\n                                    <h3 className=\"text-info mb-1\">{monthlyStats.total_working_days}</h3>\n                                    <p className=\"text-muted mb-0 small\">Jours Ouvrables</p>\n                                </div>\n                            </Col>\n                            <Col lg={2} md={4} sm={6} className=\"mb-3\">\n                                <div className=\"border-end\">\n                                    <h3 className=\"text-warning mb-1\">{formatTime(monthlyStats.avg_working_hours)}</h3>\n                                    <p className=\"text-muted mb-0 small\">Temps Moyen/Jour</p>\n                                </div>\n                            </Col>\n                            <Col lg={2} md={4} sm={6} className=\"mb-3\">\n                                <div className=\"border-end\">\n                                    <h3 className=\"text-success mb-1\">{monthlyStats.excellent_attendance}</h3>\n                                    <p className=\"text-muted mb-0 small\">Excellent (≥95%)</p>\n                                </div>\n                            </Col>\n                            <Col lg={2} md={4} sm={6} className=\"mb-3\">\n                                <h3 className=\"text-danger mb-1\">{monthlyStats.poor_attendance}</h3>\n                                <p className=\"text-muted mb-0 small\">Faible (&lt;70%)</p>\n                            </Col>\n                        </Row>\n                    </Card.Body>\n                </Card>\n            )}\n\n            {/* Tableau détaillé */}\n            <Card className=\"shadow-sm\">\n                <Card.Header className=\"bg-light\">\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <h5 className=\"mb-0\">Détail par Personnel</h5>\n                        {attendanceData.length > 0 && (\n                            <Badge bg=\"secondary\">{attendanceData.length} membre(s)</Badge>\n                        )}\n                    </div>\n                </Card.Header>\n                <Card.Body className=\"p-0\">\n                    {loading ? (\n                        <div className=\"text-center py-5\">\n                            <Spinner animation=\"border\" variant=\"primary\" />\n                            <p className=\"mt-3 text-muted\">Chargement des données de présence...</p>\n                        </div>\n                    ) : attendanceData.length === 0 ? (\n                        <div className=\"text-center py-5\">\n                            <People size={48} className=\"text-muted mb-3\" />\n                            <h5 className=\"text-muted\">Aucune donnée disponible</h5>\n                            <p className=\"text-muted\">\n                                Aucune donnée de présence trouvée pour les critères sélectionnés.\n                            </p>\n                        </div>\n                    ) : (\n                        <div className=\"table-responsive\">\n                            <Table striped hover className=\"mb-0\">\n                                <thead className=\"table-dark\">\n                                    <tr>\n                                        <th className=\"text-center\">#</th>\n                                        <th>Personnel</th>\n                                        <th className=\"text-center\">Rôle</th>\n                                        <th className=\"text-center\">Jours Travaillés</th>\n                                        <th className=\"text-center\">Jours Présents</th>\n                                        <th className=\"text-center\">Taux de Présence</th>\n                                        <th className=\"text-center\">Temps Total</th>\n                                        <th className=\"text-center\">Temps Moyen/Jour</th>\n                                        <th className=\"text-center\">Statut</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {attendanceData.map((staff, index) => {\n                                        const attendanceRate = staff.stats.total_days > 0 ? \n                                            (staff.stats.present_days / staff.stats.total_days) * 100 : 0;\n                                        \n                                        return (\n                                            <tr key={index}>\n                                                <td className=\"text-center fw-bold\">{index + 1}</td>\n                                                <td>\n                                                    <div>\n                                                        <strong className=\"d-block\">{staff.name}</strong>\n                                                        <small className=\"text-muted\">{staff.email}</small>\n                                                    </div>\n                                                </td>\n                                                <td className=\"text-center\">\n                                                    <Badge bg=\"secondary\" className=\"small\">\n                                                        {getRoleLabel(staff.role)}\n                                                    </Badge>\n                                                </td>\n                                                <td className=\"text-center\">\n                                                    <strong>{staff.stats.total_days}</strong>\n                                                </td>\n                                                <td className=\"text-center\">\n                                                    <strong className=\"text-success\">{staff.stats.present_days}</strong>\n                                                </td>\n                                                <td>\n                                                    <div className=\"text-center\">\n                                                        <div className=\"fw-bold mb-1\">\n                                                            {attendanceRate.toFixed(1)}%\n                                                        </div>\n                                                        <ProgressBar \n                                                            now={attendanceRate} \n                                                            variant={\n                                                                attendanceRate >= 95 ? 'success' :\n                                                                attendanceRate >= 85 ? 'info' :\n                                                                attendanceRate >= 70 ? 'warning' : 'danger'\n                                                            }\n                                                            size=\"sm\"\n                                                            style={{ height: '6px' }}\n                                                        />\n                                                    </div>\n                                                </td>\n                                                <td className=\"text-center\">\n                                                    <strong>{formatTime(staff.stats.total_working_minutes)}</strong>\n                                                </td>\n                                                <td className=\"text-center\">\n                                                    <strong>{formatTime(staff.stats.avg_working_minutes_per_day)}</strong>\n                                                </td>\n                                                <td className=\"text-center\">\n                                                    {getAttendanceStatusBadge(staff.stats)}\n                                                </td>\n                                            </tr>\n                                        );\n                                    })}\n                                </tbody>\n                            </Table>\n                        </div>\n                    )}\n                </Card.Body>\n            </Card>\n        </Container>\n    );\n};\n\nexport default StaffAttendanceReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}