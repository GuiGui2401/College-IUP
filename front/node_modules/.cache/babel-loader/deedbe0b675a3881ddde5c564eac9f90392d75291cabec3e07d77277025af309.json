{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Table,Button,Modal,Form,Badge,Alert,Spinner,Dropdown,ButtonGroup}from'react-bootstrap';import{PlusCircle,Pencil,Trash,Eye,PersonPlus,Award,Building,People,Calendar,FileEarmarkPdf}from'react-bootstrap-icons';import{host}from'../../utils/fetch';import'./DepartmentManagement.css';// Simple API helper to avoid circular imports\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const makeApiCall=async function(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const token=localStorage.getItem('token');const defaultHeaders={'Content-Type':'application/json',...(token&&{'Authorization':`Bearer ${token}`})};const config={...options,headers:{...defaultHeaders,...options.headers}};const response=await fetch(`${host}/api${endpoint}`,config);if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||`HTTP ${response.status}: ${response.statusText}`);}return response.json();};const api={get:endpoint=>makeApiCall(endpoint),post:(endpoint,data)=>makeApiCall(endpoint,{method:'POST',body:JSON.stringify(data)}),put:(endpoint,data)=>makeApiCall(endpoint,{method:'PUT',body:JSON.stringify(data)}),delete:endpoint=>makeApiCall(endpoint,{method:'DELETE'})};const DepartmentManagement=()=>{var _selectedDepartment$d,_selectedDepartment$d2,_selectedDepartment$d3,_selectedDepartment$d4,_selectedDepartment$d5,_selectedDepartment$d6,_selectedDepartment$d7;const[departments,setDepartments]=useState([]);const[teachers,setTeachers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[success,setSuccess]=useState('');// Modal states\nconst[showCreateModal,setShowCreateModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[showViewModal,setShowViewModal]=useState(false);const[showAssignModal,setShowAssignModal]=useState(false);const[showHeadModal,setShowHeadModal]=useState(false);const[selectedDepartment,setSelectedDepartment]=useState(null);const[selectedTeacher,setSelectedTeacher]=useState('');const[downloadingPdf,setDownloadingPdf]=useState(false);// Form data\nconst[formData,setFormData]=useState({name:'',code:'',description:'',color:'#6c757d',head_teacher_id:'',order:0});useEffect(()=>{loadDepartments();loadTeachers();},[]);const loadDepartments=async()=>{try{const response=await api.get('/departments');if(response.success){setDepartments(response.data);}}catch(error){setError('Erreur lors du chargement des départements');console.error('Error loading departments:',error);}};const loadTeachers=async()=>{try{const response=await api.get('/teachers');if(response.success){setTeachers(response.data);}}catch(error){console.error('Error loading teachers:',error);}finally{setLoading(false);}};const handleExportPdf=async()=>{try{setDownloadingPdf(true);const token=localStorage.getItem('token');const response=await fetch(`${host}/api/departments/export/pdf`,{method:'GET',headers:{'Authorization':`Bearer ${token}`,'Accept':'application/pdf'}});if(!response.ok){throw new Error(`HTTP Error ${response.status}: ${response.statusText}`);}// Créer le blob PDF\nconst blob=await response.blob();const downloadUrl=window.URL.createObjectURL(blob);// Créer le lien de téléchargement\nconst link=document.createElement('a');link.href=downloadUrl;link.download=`Liste_Personnel_Enseignant_${new Date().toISOString().split('T')[0]}.pdf`;document.body.appendChild(link);link.click();document.body.removeChild(link);// Nettoyer l'URL\nwindow.URL.revokeObjectURL(downloadUrl);setSuccess('PDF téléchargé avec succès');}catch(error){setError('Erreur lors du téléchargement du PDF: '+(error.message||'Une erreur inattendue s\\'est produite'));console.error('Error downloading PDF:',error);}finally{setDownloadingPdf(false);}};const resetForm=()=>{setFormData({name:'',code:'',description:'',color:'#6c757d',head_teacher_id:'',order:0});};const handleCreate=async e=>{e.preventDefault();try{const response=await api.post('/departments',formData);if(response.success){setSuccess('Département créé avec succès');setShowCreateModal(false);resetForm();loadDepartments();}}catch(error){setError(error.message||'Erreur lors de la création');}};const handleEdit=async e=>{e.preventDefault();try{const response=await api.put(`/departments/${selectedDepartment.id}`,formData);if(response.success){setSuccess('Département modifié avec succès');setShowEditModal(false);resetForm();loadDepartments();}}catch(error){setError(error.message||'Erreur lors de la modification');}};const handleDelete=async department=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer le département \"${department.name}\"?`)){try{const response=await api.delete(`/departments/${department.id}`);if(response.success){setSuccess('Département supprimé avec succès');loadDepartments();}}catch(error){setError(error.message||'Erreur lors de la suppression');}}};const handleAssignTeacher=async e=>{e.preventDefault();try{const response=await api.post(`/departments/${selectedDepartment.id}/assign-teacher`,{teacher_id:selectedTeacher});if(response.success){setSuccess('Enseignant assigné avec succès');setShowAssignModal(false);setSelectedTeacher('');loadDepartments();loadTeachers();}}catch(error){setError(error.message||'Erreur lors de l\\'assignation');}};const handleRemoveTeacher=async(departmentId,teacherId)=>{if(window.confirm('Êtes-vous sûr de vouloir retirer cet enseignant du département?')){try{const response=await api.post(`/departments/${departmentId}/remove-teacher`,{teacher_id:teacherId});if(response.success){setSuccess('Enseignant retiré avec succès');loadDepartments();loadTeachers();}}catch(error){setError(error.message||'Erreur lors du retrait');}}};const handleSetHead=async e=>{e.preventDefault();try{const response=await api.post(`/departments/${selectedDepartment.id}/set-head`,{teacher_id:selectedTeacher});if(response.success){setSuccess('Chef de département nommé avec succès');setShowHeadModal(false);setSelectedTeacher('');loadDepartments();}}catch(error){setError(error.message||'Erreur lors de la nomination');}};const openCreateModal=()=>{resetForm();setShowCreateModal(true);};const openEditModal=department=>{var _department$head_teac;console.log('Opening edit modal for department:',department);if(!department||!department.name){setError('Données du département invalides');return;}setSelectedDepartment(department);setFormData({name:department.name||'',code:department.code||'',description:department.description||'',color:department.color||'#6c757d',head_teacher_id:((_department$head_teac=department.head_teacher)===null||_department$head_teac===void 0?void 0:_department$head_teac.id)||'',order:department.order||0});setShowEditModal(true);};const openViewModal=async department=>{try{const response=await api.get(`/departments/${department.id}`);if(response.success){setSelectedDepartment(response.data);setShowViewModal(true);}}catch(error){setError('Erreur lors du chargement des détails');}};const openAssignModal=department=>{console.log('Opening assign modal for department:',department);if(!department||!department.id){setError('Données du département invalides');return;}setSelectedDepartment(department);setSelectedTeacher('');setShowAssignModal(true);};const openHeadModal=department=>{console.log('Opening head modal for department:',department);if(!department||!department.id){setError('Données du département invalides');return;}setSelectedDepartment(department);setSelectedTeacher('');setShowHeadModal(true);};const getAvailableTeachers=()=>{return teachers.filter(teacher=>teacher.is_active&&(!teacher.department_id||teacher.department_id===(selectedDepartment===null||selectedDepartment===void 0?void 0:selectedDepartment.id)));};const getDepartmentTeachers=department=>{if(!department||!department.id)return[];return teachers.filter(teacher=>teacher.department_id===department.id);};// Fonction pour obtenir l'avatar de l'enseignant\nconst getTeacherAvatar=function(teacher){let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:32;const initials=teacher.full_name?teacher.full_name.split(' ').map(n=>n[0]).join('').substring(0,2).toUpperCase():'T';const InitialsAvatar=()=>/*#__PURE__*/_jsx(\"div\",{style:{width:size,height:size,borderRadius:'50%',backgroundColor:'#007bff',color:'white',display:'flex',alignItems:'center',justifyContent:'center',fontSize:`${size*0.4}px`,fontWeight:'bold',border:'2px solid #fff',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:initials});if(teacher.photo){return/*#__PURE__*/_jsx(\"img\",{src:teacher.photo,alt:teacher.full_name,style:{width:size,height:size,borderRadius:'50%',objectFit:'cover',border:'2px solid #fff',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},onError:e=>{console.error('Error loading teacher image:',teacher.photo);e.target.style.display='none';// Créer et insérer l'avatar avec initiales\nconst parent=e.target.parentNode;if(parent&&!parent.querySelector('.initials-avatar')){const initialsDiv=document.createElement('div');initialsDiv.className='initials-avatar';initialsDiv.style.cssText=`\n                                width: ${size}px;\n                                height: ${size}px;\n                                border-radius: 50%;\n                                background-color: #007bff;\n                                color: white;\n                                display: flex;\n                                align-items: center;\n                                justify-content: center;\n                                font-size: ${size*0.4}px;\n                                font-weight: bold;\n                                border: 2px solid #fff;\n                                box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n                            `;initialsDiv.textContent=initials;parent.appendChild(initialsDiv);}}});}return/*#__PURE__*/_jsx(InitialsAvatar,{});};if(loading){return/*#__PURE__*/_jsx(Container,{className:\"d-flex justify-content-center align-items-center\",style:{minHeight:'400px'},children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"})});}return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"department-management\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(Building,{className:\"me-2\"}),\"Gestion des D\\xE9partements\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:handleExportPdf,disabled:downloadingPdf||loading,className:\"d-flex align-items-center\",children:downloadingPdf?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\",className:\"me-2\"}),\"G\\xE9n\\xE9ration...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FileEarmarkPdf,{className:\"me-2\"}),\"Export PDF\"]})}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:openCreateModal,children:[/*#__PURE__*/_jsx(PlusCircle,{className:\"me-2\"}),\"Nouveau D\\xE9partement\"]})]})]})})}),error&&/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Alert,{variant:\"danger\",onClose:()=>setError(''),dismissible:true,children:error})})}),success&&/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Alert,{variant:\"success\",onClose:()=>setSuccess(''),dismissible:true,children:success})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Liste des D\\xE9partements\"})}),/*#__PURE__*/_jsx(Card.Body,{children:departments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(Building,{size:48,className:\"text-muted mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Aucun d\\xE9partement cr\\xE9\\xE9\"})]}):/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Chef\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Enseignants\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Statut\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cr\\xE9\\xE9 le\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:departments.map(department=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"department-color-indicator me-2\",style:{backgroundColor:department.color}}),department.name]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:department.code})}),/*#__PURE__*/_jsx(\"td\",{children:department.head_teacher?/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(Award,{className:\"me-1 text-warning\",size:14}),department.head_teacher.full_name]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Aucun chef\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Badge,{bg:\"info\",children:[/*#__PURE__*/_jsx(People,{className:\"me-1\",size:12}),department.stats.active_teachers,\"/\",department.stats.total_teachers]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:department.is_active?'success':'secondary',children:department.is_active?'Actif':'Inactif'})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Calendar,{className:\"me-1\",size:14}),department.created_at]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Dropdown,{as:ButtonGroup,children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:()=>openViewModal(department),children:/*#__PURE__*/_jsx(Eye,{size:14})}),/*#__PURE__*/_jsx(Dropdown.Toggle,{split:true,variant:\"outline-primary\",size:\"sm\"}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[/*#__PURE__*/_jsxs(Dropdown.Item,{onClick:()=>openEditModal(department),children:[/*#__PURE__*/_jsx(Pencil,{className:\"me-2\",size:14}),\"Modifier\"]}),/*#__PURE__*/_jsxs(Dropdown.Item,{onClick:()=>openAssignModal(department),children:[/*#__PURE__*/_jsx(PersonPlus,{className:\"me-2\",size:14}),\"Assigner Enseignant\"]}),/*#__PURE__*/_jsxs(Dropdown.Item,{onClick:()=>openHeadModal(department),children:[/*#__PURE__*/_jsx(Award,{className:\"me-2\",size:14}),\"Nommer Chef\"]}),/*#__PURE__*/_jsx(Dropdown.Divider,{}),/*#__PURE__*/_jsxs(Dropdown.Item,{className:\"text-danger\",onClick:()=>handleDelete(department),children:[/*#__PURE__*/_jsx(Trash,{className:\"me-2\",size:14}),\"Supprimer\"]})]})]})})]},department.id))})]})})]})})}),/*#__PURE__*/_jsxs(Modal,{show:showCreateModal,onHide:()=>setShowCreateModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Cr\\xE9er un D\\xE9partement\"})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleCreate,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nom du d\\xE9partement *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),required:true})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Code *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.code,onChange:e=>setFormData({...formData,code:e.target.value}),maxLength:10,required:true})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:formData.description,onChange:e=>setFormData({...formData,description:e.target.value})})]})}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Couleur\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"color\",value:formData.color,onChange:e=>setFormData({...formData,color:e.target.value})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Ordre d'affichage\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:formData.order,onChange:e=>setFormData({...formData,order:parseInt(e.target.value)}),min:0})]})]})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Chef de d\\xE9partement\"}),/*#__PURE__*/_jsxs(Form.Select,{value:formData.head_teacher_id,onChange:e=>setFormData({...formData,head_teacher_id:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un enseignant\"}),teachers.filter(t=>t.is_active).map(teacher=>/*#__PURE__*/_jsx(\"option\",{value:teacher.id,children:teacher.full_name},teacher.id))]})]})})})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowCreateModal(false),children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Cr\\xE9er\"})]})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showEditModal,onHide:()=>setShowEditModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Modifier le D\\xE9partement\"})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleEdit,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nom du d\\xE9partement *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),required:true})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Code *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.code,onChange:e=>setFormData({...formData,code:e.target.value}),maxLength:10,required:true})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:formData.description,onChange:e=>setFormData({...formData,description:e.target.value})})]})}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Couleur\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"color\",value:formData.color,onChange:e=>setFormData({...formData,color:e.target.value})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Ordre d'affichage\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:formData.order,onChange:e=>setFormData({...formData,order:parseInt(e.target.value)}),min:0})]})]})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Chef de d\\xE9partement\"}),/*#__PURE__*/_jsxs(Form.Select,{value:formData.head_teacher_id,onChange:e=>setFormData({...formData,head_teacher_id:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un enseignant\"}),teachers.filter(t=>t.is_active).map(teacher=>/*#__PURE__*/_jsx(\"option\",{value:teacher.id,children:teacher.full_name},teacher.id))]})]})})})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowEditModal(false),children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Modifier\"})]})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showViewModal,onHide:()=>setShowViewModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"D\\xE9tails du D\\xE9partement\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:selectedDepartment&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h5\",{children:((_selectedDepartment$d=selectedDepartment.department)===null||_selectedDepartment$d===void 0?void 0:_selectedDepartment$d.name)||selectedDepartment.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:((_selectedDepartment$d2=selectedDepartment.department)===null||_selectedDepartment$d2===void 0?void 0:_selectedDepartment$d2.description)||selectedDepartment.description})]}),/*#__PURE__*/_jsxs(Col,{md:6,className:\"text-end\",children:[/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",className:\"me-2\",children:((_selectedDepartment$d3=selectedDepartment.department)===null||_selectedDepartment$d3===void 0?void 0:_selectedDepartment$d3.code)||selectedDepartment.code}),/*#__PURE__*/_jsx(Badge,{bg:((_selectedDepartment$d4=(_selectedDepartment$d5=selectedDepartment.department)===null||_selectedDepartment$d5===void 0?void 0:_selectedDepartment$d5.is_active)!==null&&_selectedDepartment$d4!==void 0?_selectedDepartment$d4:selectedDepartment.is_active)?'success':'secondary',children:((_selectedDepartment$d6=(_selectedDepartment$d7=selectedDepartment.department)===null||_selectedDepartment$d7===void 0?void 0:_selectedDepartment$d7.is_active)!==null&&_selectedDepartment$d6!==void 0?_selectedDepartment$d6:selectedDepartment.is_active)?'Actif':'Inactif'})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-primary\",children:selectedDepartment.stats.total_teachers}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Enseignants Total\"})]})})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-success\",children:selectedDepartment.stats.active_teachers}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Enseignants Actifs\"})]})})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-info\",children:selectedDepartment.stats.subjects_count}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Mati\\xE8res\"})]})})})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Enseignants du d\\xE9partement\"}),selectedDepartment.teachers&&selectedDepartment.teachers.length>0?/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Photo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xE9l\\xE9phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Statut\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedDepartment.teachers.map(teacher=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'center'},children:getTeacherAvatar(teacher,35)}),/*#__PURE__*/_jsxs(\"td\",{children:[teacher.is_head&&/*#__PURE__*/_jsx(Award,{className:\"me-1 text-warning\",size:14}),teacher.full_name]}),/*#__PURE__*/_jsx(\"td\",{children:teacher.email}),/*#__PURE__*/_jsx(\"td\",{children:teacher.phone_number}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:teacher.is_active?'success':'secondary',children:teacher.is_active?'Actif':'Inactif'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>{var _selectedDepartment$d8;return handleRemoveTeacher(((_selectedDepartment$d8=selectedDepartment.department)===null||_selectedDepartment$d8===void 0?void 0:_selectedDepartment$d8.id)||selectedDepartment.id,teacher.id);},children:/*#__PURE__*/_jsx(Trash,{size:14})})})]},teacher.id))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Aucun enseignant assign\\xE9\"})]})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowViewModal(false),children:\"Fermer\"})})]}),/*#__PURE__*/_jsxs(Modal,{show:showAssignModal,onHide:()=>setShowAssignModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Assigner un Enseignant \",selectedDepartment&&`au département ${selectedDepartment.name}`]})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleAssignTeacher,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"S\\xE9lectionner un enseignant\"}),/*#__PURE__*/_jsxs(Form.Select,{value:selectedTeacher,onChange:e=>setSelectedTeacher(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choisir un enseignant\"}),getAvailableTeachers().map(teacher=>/*#__PURE__*/_jsxs(\"option\",{value:teacher.id,children:[teacher.full_name,\" \",teacher.department_id?'(déjà assigné)':'']},teacher.id))]})]}),getAvailableTeachers().length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Enseignants disponibles :\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap gap-2\",children:[getAvailableTeachers().slice(0,6).map(teacher=>/*#__PURE__*/_jsxs(\"div\",{className:`d-flex align-items-center gap-2 p-2 border rounded ${selectedTeacher==teacher.id?'border-primary bg-light':''}`,style:{cursor:'pointer',fontSize:'0.875rem'},onClick:()=>setSelectedTeacher(teacher.id.toString()),children:[getTeacherAvatar(teacher,24),/*#__PURE__*/_jsx(\"span\",{children:teacher.full_name})]},teacher.id)),getAvailableTeachers().length>6&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"+\",getAvailableTeachers().length-6,\" autres...\"]})]})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowAssignModal(false),children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Assigner\"})]})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showHeadModal,onHide:()=>setShowHeadModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Nommer Chef \",selectedDepartment&&`du département ${selectedDepartment.name}`]})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSetHead,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"S\\xE9lectionner le chef de d\\xE9partement\"}),/*#__PURE__*/_jsxs(Form.Select,{value:selectedTeacher,onChange:e=>setSelectedTeacher(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choisir un enseignant\"}),getDepartmentTeachers(selectedDepartment||{}).map(teacher=>/*#__PURE__*/_jsx(\"option\",{value:teacher.id,children:teacher.full_name},teacher.id))]})]}),getDepartmentTeachers(selectedDepartment||{}).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Enseignants du d\\xE9partement :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-2\",children:getDepartmentTeachers(selectedDepartment||{}).map(teacher=>/*#__PURE__*/_jsxs(\"div\",{className:`d-flex align-items-center gap-2 p-2 border rounded ${selectedTeacher==teacher.id?'border-warning bg-light':''}`,style:{cursor:'pointer',fontSize:'0.875rem'},onClick:()=>setSelectedTeacher(teacher.id.toString()),children:[getTeacherAvatar(teacher,24),/*#__PURE__*/_jsxs(\"span\",{children:[teacher.full_name,teacher.is_head&&/*#__PURE__*/_jsx(Award,{className:\"ms-1 text-warning\",size:12})]})]},teacher.id))})]}),/*#__PURE__*/_jsx(Alert,{variant:\"info\",children:\"Seuls les enseignants d\\xE9j\\xE0 assign\\xE9s \\xE0 ce d\\xE9partement peuvent \\xEAtre nomm\\xE9s chef.\"})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowHeadModal(false),children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"warning\",children:\"Nommer Chef\"})]})]})]})]});};export default DepartmentManagement;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Table","Button","Modal","Form","Badge","Alert","Spinner","Dropdown","ButtonGroup","PlusCircle","Pencil","Trash","Eye","PersonPlus","Award","Building","People","Calendar","FileEarmarkPdf","host","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","makeApiCall","endpoint","options","arguments","length","undefined","token","localStorage","getItem","defaultHeaders","config","headers","response","fetch","ok","errorData","json","catch","Error","message","status","statusText","api","get","post","data","method","body","JSON","stringify","put","delete","DepartmentManagement","_selectedDepartment$d","_selectedDepartment$d2","_selectedDepartment$d3","_selectedDepartment$d4","_selectedDepartment$d5","_selectedDepartment$d6","_selectedDepartment$d7","departments","setDepartments","teachers","setTeachers","loading","setLoading","error","setError","success","setSuccess","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","showViewModal","setShowViewModal","showAssignModal","setShowAssignModal","showHeadModal","setShowHeadModal","selectedDepartment","setSelectedDepartment","selectedTeacher","setSelectedTeacher","downloadingPdf","setDownloadingPdf","formData","setFormData","name","code","description","color","head_teacher_id","order","loadDepartments","loadTeachers","console","handleExportPdf","blob","downloadUrl","window","URL","createObjectURL","link","document","createElement","href","download","Date","toISOString","split","appendChild","click","removeChild","revokeObjectURL","resetForm","handleCreate","e","preventDefault","handleEdit","id","handleDelete","department","confirm","handleAssignTeacher","teacher_id","handleRemoveTeacher","departmentId","teacherId","handleSetHead","openCreateModal","openEditModal","_department$head_teac","log","head_teacher","openViewModal","openAssignModal","openHeadModal","getAvailableTeachers","filter","teacher","is_active","department_id","getDepartmentTeachers","getTeacherAvatar","size","initials","full_name","map","n","join","substring","toUpperCase","InitialsAvatar","style","width","height","borderRadius","backgroundColor","display","alignItems","justifyContent","fontSize","fontWeight","border","boxShadow","children","photo","src","alt","objectFit","onError","target","parent","parentNode","querySelector","initialsDiv","className","cssText","textContent","minHeight","animation","variant","fluid","onClick","disabled","onClose","dismissible","Header","Body","responsive","striped","hover","bg","stats","active_teachers","total_teachers","created_at","as","Toggle","Menu","Item","Divider","show","onHide","closeButton","Title","onSubmit","md","Group","Label","Control","type","value","onChange","required","maxLength","rows","parseInt","min","Select","t","Footer","subjects_count","textAlign","is_head","email","phone_number","_selectedDepartment$d8","slice","cursor","toString"],"sources":["/var/www/College-IUP/front/src/pages/Departments/DepartmentManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n    Container,\n    Row,\n    Col,\n    Card,\n    Table,\n    Button,\n    Modal,\n    Form,\n    Badge,\n    Alert,\n    Spinner,\n    Dropdown,\n    ButtonGroup\n} from 'react-bootstrap';\nimport {\n    PlusCircle,\n    Pencil,\n    Trash,\n    Eye,\n    PersonPlus,\n    Award,\n    Building,\n    People,\n    Calendar,\n    FileEarmarkPdf\n} from 'react-bootstrap-icons';\nimport { host } from '../../utils/fetch';\nimport './DepartmentManagement.css';\n\n// Simple API helper to avoid circular imports\nconst makeApiCall = async (endpoint, options = {}) => {\n    const token = localStorage.getItem('token');\n    const defaultHeaders = {\n        'Content-Type': 'application/json',\n        ...(token && { 'Authorization': `Bearer ${token}` })\n    };\n    \n    const config = {\n        ...options,\n        headers: {\n            ...defaultHeaders,\n            ...options.headers\n        }\n    };\n    \n    const response = await fetch(`${host}/api${endpoint}`, config);\n    \n    if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || `HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    return response.json();\n};\n\nconst api = {\n    get: (endpoint) => makeApiCall(endpoint),\n    post: (endpoint, data) => makeApiCall(endpoint, {\n        method: 'POST',\n        body: JSON.stringify(data)\n    }),\n    put: (endpoint, data) => makeApiCall(endpoint, {\n        method: 'PUT',\n        body: JSON.stringify(data)\n    }),\n    delete: (endpoint) => makeApiCall(endpoint, {\n        method: 'DELETE'\n    })\n};\n\nconst DepartmentManagement = () => {\n    const [departments, setDepartments] = useState([]);\n    const [teachers, setTeachers] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    // Modal states\n    const [showCreateModal, setShowCreateModal] = useState(false);\n    const [showEditModal, setShowEditModal] = useState(false);\n    const [showViewModal, setShowViewModal] = useState(false);\n    const [showAssignModal, setShowAssignModal] = useState(false);\n    const [showHeadModal, setShowHeadModal] = useState(false);\n    \n    const [selectedDepartment, setSelectedDepartment] = useState(null);\n    const [selectedTeacher, setSelectedTeacher] = useState('');\n    const [downloadingPdf, setDownloadingPdf] = useState(false);\n\n    // Form data\n    const [formData, setFormData] = useState({\n        name: '',\n        code: '',\n        description: '',\n        color: '#6c757d',\n        head_teacher_id: '',\n        order: 0\n    });\n\n    useEffect(() => {\n        loadDepartments();\n        loadTeachers();\n    }, []);\n\n    const loadDepartments = async () => {\n        try {\n            const response = await api.get('/departments');\n            if (response.success) {\n                setDepartments(response.data);\n            }\n        } catch (error) {\n            setError('Erreur lors du chargement des départements');\n            console.error('Error loading departments:', error);\n        }\n    };\n\n    const loadTeachers = async () => {\n        try {\n            const response = await api.get('/teachers');\n            if (response.success) {\n                setTeachers(response.data);\n            }\n        } catch (error) {\n            console.error('Error loading teachers:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleExportPdf = async () => {\n        try {\n            setDownloadingPdf(true);\n            \n            const token = localStorage.getItem('token');\n            const response = await fetch(`${host}/api/departments/export/pdf`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`,\n                    'Accept': 'application/pdf'\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP Error ${response.status}: ${response.statusText}`);\n            }\n\n            // Créer le blob PDF\n            const blob = await response.blob();\n            const downloadUrl = window.URL.createObjectURL(blob);\n            \n            // Créer le lien de téléchargement\n            const link = document.createElement('a');\n            link.href = downloadUrl;\n            link.download = `Liste_Personnel_Enseignant_${new Date().toISOString().split('T')[0]}.pdf`;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            \n            // Nettoyer l'URL\n            window.URL.revokeObjectURL(downloadUrl);\n            \n            setSuccess('PDF téléchargé avec succès');\n            \n        } catch (error) {\n            setError('Erreur lors du téléchargement du PDF: ' + (error.message || 'Une erreur inattendue s\\'est produite'));\n            console.error('Error downloading PDF:', error);\n        } finally {\n            setDownloadingPdf(false);\n        }\n    };\n\n    const resetForm = () => {\n        setFormData({\n            name: '',\n            code: '',\n            description: '',\n            color: '#6c757d',\n            head_teacher_id: '',\n            order: 0\n        });\n    };\n\n    const handleCreate = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await api.post('/departments', formData);\n            if (response.success) {\n                setSuccess('Département créé avec succès');\n                setShowCreateModal(false);\n                resetForm();\n                loadDepartments();\n            }\n        } catch (error) {\n            setError(error.message || 'Erreur lors de la création');\n        }\n    };\n\n    const handleEdit = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await api.put(`/departments/${selectedDepartment.id}`, formData);\n            if (response.success) {\n                setSuccess('Département modifié avec succès');\n                setShowEditModal(false);\n                resetForm();\n                loadDepartments();\n            }\n        } catch (error) {\n            setError(error.message || 'Erreur lors de la modification');\n        }\n    };\n\n    const handleDelete = async (department) => {\n        if (window.confirm(`Êtes-vous sûr de vouloir supprimer le département \"${department.name}\"?`)) {\n            try {\n                const response = await api.delete(`/departments/${department.id}`);\n                if (response.success) {\n                    setSuccess('Département supprimé avec succès');\n                    loadDepartments();\n                }\n            } catch (error) {\n                setError(error.message || 'Erreur lors de la suppression');\n            }\n        }\n    };\n\n    const handleAssignTeacher = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await api.post(`/departments/${selectedDepartment.id}/assign-teacher`, {\n                teacher_id: selectedTeacher\n            });\n            if (response.success) {\n                setSuccess('Enseignant assigné avec succès');\n                setShowAssignModal(false);\n                setSelectedTeacher('');\n                loadDepartments();\n                loadTeachers();\n            }\n        } catch (error) {\n            setError(error.message || 'Erreur lors de l\\'assignation');\n        }\n    };\n\n    const handleRemoveTeacher = async (departmentId, teacherId) => {\n        if (window.confirm('Êtes-vous sûr de vouloir retirer cet enseignant du département?')) {\n            try {\n                const response = await api.post(`/departments/${departmentId}/remove-teacher`, {\n                    teacher_id: teacherId\n                });\n                if (response.success) {\n                    setSuccess('Enseignant retiré avec succès');\n                    loadDepartments();\n                    loadTeachers();\n                }\n            } catch (error) {\n                setError(error.message || 'Erreur lors du retrait');\n            }\n        }\n    };\n\n    const handleSetHead = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await api.post(`/departments/${selectedDepartment.id}/set-head`, {\n                teacher_id: selectedTeacher\n            });\n            if (response.success) {\n                setSuccess('Chef de département nommé avec succès');\n                setShowHeadModal(false);\n                setSelectedTeacher('');\n                loadDepartments();\n            }\n        } catch (error) {\n            setError(error.message || 'Erreur lors de la nomination');\n        }\n    };\n\n    const openCreateModal = () => {\n        resetForm();\n        setShowCreateModal(true);\n    };\n\n    const openEditModal = (department) => {\n        console.log('Opening edit modal for department:', department);\n        if (!department || !department.name) {\n            setError('Données du département invalides');\n            return;\n        }\n        setSelectedDepartment(department);\n        setFormData({\n            name: department.name || '',\n            code: department.code || '',\n            description: department.description || '',\n            color: department.color || '#6c757d',\n            head_teacher_id: department.head_teacher?.id || '',\n            order: department.order || 0\n        });\n        setShowEditModal(true);\n    };\n\n    const openViewModal = async (department) => {\n        try {\n            const response = await api.get(`/departments/${department.id}`);\n            if (response.success) {\n                setSelectedDepartment(response.data);\n                setShowViewModal(true);\n            }\n        } catch (error) {\n            setError('Erreur lors du chargement des détails');\n        }\n    };\n\n    const openAssignModal = (department) => {\n        console.log('Opening assign modal for department:', department);\n        if (!department || !department.id) {\n            setError('Données du département invalides');\n            return;\n        }\n        setSelectedDepartment(department);\n        setSelectedTeacher('');\n        setShowAssignModal(true);\n    };\n\n    const openHeadModal = (department) => {\n        console.log('Opening head modal for department:', department);\n        if (!department || !department.id) {\n            setError('Données du département invalides');\n            return;\n        }\n        setSelectedDepartment(department);\n        setSelectedTeacher('');\n        setShowHeadModal(true);\n    };\n\n    const getAvailableTeachers = () => {\n        return teachers.filter(teacher => \n            teacher.is_active && \n            (!teacher.department_id || teacher.department_id === selectedDepartment?.id)\n        );\n    };\n\n    const getDepartmentTeachers = (department) => {\n        if (!department || !department.id) return [];\n        return teachers.filter(teacher => teacher.department_id === department.id);\n    };\n\n    // Fonction pour obtenir l'avatar de l'enseignant\n    const getTeacherAvatar = (teacher, size = 32) => {\n        const initials = teacher.full_name ? \n            teacher.full_name.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase() :\n            'T';\n        \n        const InitialsAvatar = () => (\n            <div style={{\n                width: size,\n                height: size,\n                borderRadius: '50%',\n                backgroundColor: '#007bff',\n                color: 'white',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: `${size * 0.4}px`,\n                fontWeight: 'bold',\n                border: '2px solid #fff',\n                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n                {initials}\n            </div>\n        );\n\n        if (teacher.photo) {\n            return (\n                <img \n                    src={teacher.photo} \n                    alt={teacher.full_name}\n                    style={{\n                        width: size,\n                        height: size,\n                        borderRadius: '50%',\n                        objectFit: 'cover',\n                        border: '2px solid #fff',\n                        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n                    }}\n                    onError={(e) => {\n                        console.error('Error loading teacher image:', teacher.photo);\n                        e.target.style.display = 'none';\n                        // Créer et insérer l'avatar avec initiales\n                        const parent = e.target.parentNode;\n                        if (parent && !parent.querySelector('.initials-avatar')) {\n                            const initialsDiv = document.createElement('div');\n                            initialsDiv.className = 'initials-avatar';\n                            initialsDiv.style.cssText = `\n                                width: ${size}px;\n                                height: ${size}px;\n                                border-radius: 50%;\n                                background-color: #007bff;\n                                color: white;\n                                display: flex;\n                                align-items: center;\n                                justify-content: center;\n                                font-size: ${size * 0.4}px;\n                                font-weight: bold;\n                                border: 2px solid #fff;\n                                box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n                            `;\n                            initialsDiv.textContent = initials;\n                            parent.appendChild(initialsDiv);\n                        }\n                    }}\n                />\n            );\n        }\n\n        return <InitialsAvatar />;\n    };\n\n    if (loading) {\n        return (\n            <Container className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\n                <Spinner animation=\"border\" variant=\"primary\" />\n            </Container>\n        );\n    }\n\n    return (\n        <Container fluid className=\"department-management\">\n            <Row className=\"mb-4\">\n                <Col>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <h2><Building className=\"me-2\" />Gestion des Départements</h2>\n                        <div className=\"d-flex gap-2\">\n                            <Button \n                                variant=\"success\" \n                                onClick={handleExportPdf}\n                                disabled={downloadingPdf || loading}\n                                className=\"d-flex align-items-center\"\n                            >\n                                {downloadingPdf ? (\n                                    <>\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\n                                        Génération...\n                                    </>\n                                ) : (\n                                    <>\n                                        <FileEarmarkPdf className=\"me-2\" />\n                                        Export PDF\n                                    </>\n                                )}\n                            </Button>\n                            <Button variant=\"primary\" onClick={openCreateModal}>\n                                <PlusCircle className=\"me-2\" />Nouveau Département\n                            </Button>\n                        </div>\n                    </div>\n                </Col>\n            </Row>\n\n            {error && (\n                <Row className=\"mb-3\">\n                    <Col>\n                        <Alert variant=\"danger\" onClose={() => setError('')} dismissible>\n                            {error}\n                        </Alert>\n                    </Col>\n                </Row>\n            )}\n\n            {success && (\n                <Row className=\"mb-3\">\n                    <Col>\n                        <Alert variant=\"success\" onClose={() => setSuccess('')} dismissible>\n                            {success}\n                        </Alert>\n                    </Col>\n                </Row>\n            )}\n\n            <Row>\n                <Col>\n                    <Card>\n                        <Card.Header>\n                            <h5>Liste des Départements</h5>\n                        </Card.Header>\n                        <Card.Body>\n                            {departments.length === 0 ? (\n                                <div className=\"text-center py-4\">\n                                    <Building size={48} className=\"text-muted mb-3\" />\n                                    <p className=\"text-muted\">Aucun département créé</p>\n                                </div>\n                            ) : (\n                                <Table responsive striped hover>\n                                    <thead>\n                                        <tr>\n                                            <th>Nom</th>\n                                            <th>Code</th>\n                                            <th>Chef</th>\n                                            <th>Enseignants</th>\n                                            <th>Statut</th>\n                                            <th>Créé le</th>\n                                            <th>Actions</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {departments.map(department => (\n                                            <tr key={department.id}>\n                                                <td>\n                                                    <div className=\"d-flex align-items-center\">\n                                                        <div \n                                                            className=\"department-color-indicator me-2\"\n                                                            style={{ backgroundColor: department.color }}\n                                                        ></div>\n                                                        {department.name}\n                                                    </div>\n                                                </td>\n                                                <td>\n                                                    <Badge bg=\"secondary\">{department.code}</Badge>\n                                                </td>\n                                                <td>\n                                                    {department.head_teacher ? (\n                                                        <span>\n                                                            <Award className=\"me-1 text-warning\" size={14} />\n                                                            {department.head_teacher.full_name}\n                                                        </span>\n                                                    ) : (\n                                                        <span className=\"text-muted\">Aucun chef</span>\n                                                    )}\n                                                </td>\n                                                <td>\n                                                    <Badge bg=\"info\">\n                                                        <People className=\"me-1\" size={12} />\n                                                        {department.stats.active_teachers}/{department.stats.total_teachers}\n                                                    </Badge>\n                                                </td>\n                                                <td>\n                                                    <Badge bg={department.is_active ? 'success' : 'secondary'}>\n                                                        {department.is_active ? 'Actif' : 'Inactif'}\n                                                    </Badge>\n                                                </td>\n                                                <td>\n                                                    <Calendar className=\"me-1\" size={14} />\n                                                    {department.created_at}\n                                                </td>\n                                                <td>\n                                                    <Dropdown as={ButtonGroup}>\n                                                        <Button \n                                                            variant=\"outline-primary\" \n                                                            size=\"sm\"\n                                                            onClick={() => openViewModal(department)}\n                                                        >\n                                                            <Eye size={14} />\n                                                        </Button>\n                                                        \n                                                        <Dropdown.Toggle \n                                                            split \n                                                            variant=\"outline-primary\" \n                                                            size=\"sm\" \n                                                        />\n\n                                                        <Dropdown.Menu>\n                                                            <Dropdown.Item onClick={() => openEditModal(department)}>\n                                                                <Pencil className=\"me-2\" size={14} />Modifier\n                                                            </Dropdown.Item>\n                                                            <Dropdown.Item onClick={() => openAssignModal(department)}>\n                                                                <PersonPlus className=\"me-2\" size={14} />Assigner Enseignant\n                                                            </Dropdown.Item>\n                                                            <Dropdown.Item onClick={() => openHeadModal(department)}>\n                                                                <Award className=\"me-2\" size={14} />Nommer Chef\n                                                            </Dropdown.Item>\n                                                            <Dropdown.Divider />\n                                                            <Dropdown.Item \n                                                                className=\"text-danger\"\n                                                                onClick={() => handleDelete(department)}\n                                                            >\n                                                                <Trash className=\"me-2\" size={14} />Supprimer\n                                                            </Dropdown.Item>\n                                                        </Dropdown.Menu>\n                                                    </Dropdown>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </Table>\n                            )}\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n\n            {/* Create Modal */}\n            <Modal show={showCreateModal} onHide={() => setShowCreateModal(false)} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title>Créer un Département</Modal.Title>\n                </Modal.Header>\n                <Form onSubmit={handleCreate}>\n                    <Modal.Body>\n                        <Row>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Nom du département *</Form.Label>\n                                    <Form.Control\n                                        type=\"text\"\n                                        value={formData.name}\n                                        onChange={(e) => setFormData({...formData, name: e.target.value})}\n                                        required\n                                    />\n                                </Form.Group>\n                            </Col>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Code *</Form.Label>\n                                    <Form.Control\n                                        type=\"text\"\n                                        value={formData.code}\n                                        onChange={(e) => setFormData({...formData, code: e.target.value})}\n                                        maxLength={10}\n                                        required\n                                    />\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col md={8}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Description</Form.Label>\n                                    <Form.Control\n                                        as=\"textarea\"\n                                        rows={3}\n                                        value={formData.description}\n                                        onChange={(e) => setFormData({...formData, description: e.target.value})}\n                                    />\n                                </Form.Group>\n                            </Col>\n                            <Col md={4}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Couleur</Form.Label>\n                                    <Form.Control\n                                        type=\"color\"\n                                        value={formData.color}\n                                        onChange={(e) => setFormData({...formData, color: e.target.value})}\n                                    />\n                                </Form.Group>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Ordre d'affichage</Form.Label>\n                                    <Form.Control\n                                        type=\"number\"\n                                        value={formData.order}\n                                        onChange={(e) => setFormData({...formData, order: parseInt(e.target.value)})}\n                                        min={0}\n                                    />\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Chef de département</Form.Label>\n                                    <Form.Select\n                                        value={formData.head_teacher_id}\n                                        onChange={(e) => setFormData({...formData, head_teacher_id: e.target.value})}\n                                    >\n                                        <option value=\"\">Sélectionner un enseignant</option>\n                                        {teachers.filter(t => t.is_active).map(teacher => (\n                                            <option key={teacher.id} value={teacher.id}>\n                                                {teacher.full_name}\n                                            </option>\n                                        ))}\n                                    </Form.Select>\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => setShowCreateModal(false)}>\n                            Annuler\n                        </Button>\n                        <Button type=\"submit\" variant=\"primary\">\n                            Créer\n                        </Button>\n                    </Modal.Footer>\n                </Form>\n            </Modal>\n\n            {/* Edit Modal */}\n            <Modal show={showEditModal} onHide={() => setShowEditModal(false)} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title>Modifier le Département</Modal.Title>\n                </Modal.Header>\n                <Form onSubmit={handleEdit}>\n                    <Modal.Body>\n                        <Row>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Nom du département *</Form.Label>\n                                    <Form.Control\n                                        type=\"text\"\n                                        value={formData.name}\n                                        onChange={(e) => setFormData({...formData, name: e.target.value})}\n                                        required\n                                    />\n                                </Form.Group>\n                            </Col>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Code *</Form.Label>\n                                    <Form.Control\n                                        type=\"text\"\n                                        value={formData.code}\n                                        onChange={(e) => setFormData({...formData, code: e.target.value})}\n                                        maxLength={10}\n                                        required\n                                    />\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col md={8}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Description</Form.Label>\n                                    <Form.Control\n                                        as=\"textarea\"\n                                        rows={3}\n                                        value={formData.description}\n                                        onChange={(e) => setFormData({...formData, description: e.target.value})}\n                                    />\n                                </Form.Group>\n                            </Col>\n                            <Col md={4}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Couleur</Form.Label>\n                                    <Form.Control\n                                        type=\"color\"\n                                        value={formData.color}\n                                        onChange={(e) => setFormData({...formData, color: e.target.value})}\n                                    />\n                                </Form.Group>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Ordre d'affichage</Form.Label>\n                                    <Form.Control\n                                        type=\"number\"\n                                        value={formData.order}\n                                        onChange={(e) => setFormData({...formData, order: parseInt(e.target.value)})}\n                                        min={0}\n                                    />\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Chef de département</Form.Label>\n                                    <Form.Select\n                                        value={formData.head_teacher_id}\n                                        onChange={(e) => setFormData({...formData, head_teacher_id: e.target.value})}\n                                    >\n                                        <option value=\"\">Sélectionner un enseignant</option>\n                                        {teachers.filter(t => t.is_active).map(teacher => (\n                                            <option key={teacher.id} value={teacher.id}>\n                                                {teacher.full_name}\n                                            </option>\n                                        ))}\n                                    </Form.Select>\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => setShowEditModal(false)}>\n                            Annuler\n                        </Button>\n                        <Button type=\"submit\" variant=\"primary\">\n                            Modifier\n                        </Button>\n                    </Modal.Footer>\n                </Form>\n            </Modal>\n\n            {/* View Modal */}\n            <Modal show={showViewModal} onHide={() => setShowViewModal(false)} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title>Détails du Département</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {selectedDepartment && (\n                        <div>\n                            <Row className=\"mb-4\">\n                                <Col md={6}>\n                                    <h5>{selectedDepartment.department?.name || selectedDepartment.name}</h5>\n                                    <p className=\"text-muted\">{selectedDepartment.department?.description || selectedDepartment.description}</p>\n                                </Col>\n                                <Col md={6} className=\"text-end\">\n                                    <Badge bg=\"secondary\" className=\"me-2\">{selectedDepartment.department?.code || selectedDepartment.code}</Badge>\n                                    <Badge bg={(selectedDepartment.department?.is_active ?? selectedDepartment.is_active) ? 'success' : 'secondary'}>\n                                        {(selectedDepartment.department?.is_active ?? selectedDepartment.is_active) ? 'Actif' : 'Inactif'}\n                                    </Badge>\n                                </Col>\n                            </Row>\n\n                            <Row className=\"mb-4\">\n                                <Col md={4}>\n                                    <Card className=\"text-center\">\n                                        <Card.Body>\n                                            <h3 className=\"text-primary\">{selectedDepartment.stats.total_teachers}</h3>\n                                            <p className=\"mb-0\">Enseignants Total</p>\n                                        </Card.Body>\n                                    </Card>\n                                </Col>\n                                <Col md={4}>\n                                    <Card className=\"text-center\">\n                                        <Card.Body>\n                                            <h3 className=\"text-success\">{selectedDepartment.stats.active_teachers}</h3>\n                                            <p className=\"mb-0\">Enseignants Actifs</p>\n                                        </Card.Body>\n                                    </Card>\n                                </Col>\n                                <Col md={4}>\n                                    <Card className=\"text-center\">\n                                        <Card.Body>\n                                            <h3 className=\"text-info\">{selectedDepartment.stats.subjects_count}</h3>\n                                            <p className=\"mb-0\">Matières</p>\n                                        </Card.Body>\n                                    </Card>\n                                </Col>\n                            </Row>\n\n                            <h6>Enseignants du département</h6>\n                            {selectedDepartment.teachers && selectedDepartment.teachers.length > 0 ? (\n                                <Table responsive striped>\n                                    <thead>\n                                        <tr>\n                                            <th>Photo</th>\n                                            <th>Nom</th>\n                                            <th>Email</th>\n                                            <th>Téléphone</th>\n                                            <th>Statut</th>\n                                            <th>Actions</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {selectedDepartment.teachers.map(teacher => (\n                                            <tr key={teacher.id}>\n                                                <td style={{ textAlign: 'center' }}>\n                                                    {getTeacherAvatar(teacher, 35)}\n                                                </td>\n                                                <td>\n                                                    {teacher.is_head && <Award className=\"me-1 text-warning\" size={14} />}\n                                                    {teacher.full_name}\n                                                </td>\n                                                <td>{teacher.email}</td>\n                                                <td>{teacher.phone_number}</td>\n                                                <td>\n                                                    <Badge bg={teacher.is_active ? 'success' : 'secondary'}>\n                                                        {teacher.is_active ? 'Actif' : 'Inactif'}\n                                                    </Badge>\n                                                </td>\n                                                <td>\n                                                    <Button\n                                                        variant=\"outline-danger\"\n                                                        size=\"sm\"\n                                                        onClick={() => handleRemoveTeacher(selectedDepartment.department?.id || selectedDepartment.id, teacher.id)}\n                                                    >\n                                                        <Trash size={14} />\n                                                    </Button>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </Table>\n                            ) : (\n                                <p className=\"text-muted\">Aucun enseignant assigné</p>\n                            )}\n                        </div>\n                    )}\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={() => setShowViewModal(false)}>\n                        Fermer\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n\n            {/* Assign Teacher Modal */}\n            <Modal show={showAssignModal} onHide={() => setShowAssignModal(false)}>\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        Assigner un Enseignant {selectedDepartment && `au département ${selectedDepartment.name}`}\n                    </Modal.Title>\n                </Modal.Header>\n                <Form onSubmit={handleAssignTeacher}>\n                    <Modal.Body>\n                        <Form.Group className=\"mb-3\">\n                            <Form.Label>Sélectionner un enseignant</Form.Label>\n                            <Form.Select\n                                value={selectedTeacher}\n                                onChange={(e) => setSelectedTeacher(e.target.value)}\n                                required\n                            >\n                                <option value=\"\">Choisir un enseignant</option>\n                                {getAvailableTeachers().map(teacher => (\n                                    <option key={teacher.id} value={teacher.id}>\n                                        {teacher.full_name} {teacher.department_id ? '(déjà assigné)' : ''}\n                                    </option>\n                                ))}\n                            </Form.Select>\n                        </Form.Group>\n                        \n                        {/* Affichage visuel des enseignants disponibles */}\n                        {getAvailableTeachers().length > 0 && (\n                            <div className=\"mt-3\">\n                                <Form.Label>Enseignants disponibles :</Form.Label>\n                                <div className=\"d-flex flex-wrap gap-2\">\n                                    {getAvailableTeachers().slice(0, 6).map(teacher => (\n                                        <div \n                                            key={teacher.id}\n                                            className={`d-flex align-items-center gap-2 p-2 border rounded ${selectedTeacher == teacher.id ? 'border-primary bg-light' : ''}`}\n                                            style={{ cursor: 'pointer', fontSize: '0.875rem' }}\n                                            onClick={() => setSelectedTeacher(teacher.id.toString())}\n                                        >\n                                            {getTeacherAvatar(teacher, 24)}\n                                            <span>{teacher.full_name}</span>\n                                        </div>\n                                    ))}\n                                    {getAvailableTeachers().length > 6 && (\n                                        <small className=\"text-muted\">\n                                            +{getAvailableTeachers().length - 6} autres...\n                                        </small>\n                                    )}\n                                </div>\n                            </div>\n                        )}\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => setShowAssignModal(false)}>\n                            Annuler\n                        </Button>\n                        <Button type=\"submit\" variant=\"primary\">\n                            Assigner\n                        </Button>\n                    </Modal.Footer>\n                </Form>\n            </Modal>\n\n            {/* Set Head Modal */}\n            <Modal show={showHeadModal} onHide={() => setShowHeadModal(false)}>\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        Nommer Chef {selectedDepartment && `du département ${selectedDepartment.name}`}\n                    </Modal.Title>\n                </Modal.Header>\n                <Form onSubmit={handleSetHead}>\n                    <Modal.Body>\n                        <Form.Group className=\"mb-3\">\n                            <Form.Label>Sélectionner le chef de département</Form.Label>\n                            <Form.Select\n                                value={selectedTeacher}\n                                onChange={(e) => setSelectedTeacher(e.target.value)}\n                                required\n                            >\n                                <option value=\"\">Choisir un enseignant</option>\n                                {getDepartmentTeachers(selectedDepartment || {}).map(teacher => (\n                                    <option key={teacher.id} value={teacher.id}>\n                                        {teacher.full_name}\n                                    </option>\n                                ))}\n                            </Form.Select>\n                        </Form.Group>\n                        \n                        {/* Affichage visuel des enseignants du département */}\n                        {getDepartmentTeachers(selectedDepartment || {}).length > 0 && (\n                            <div className=\"mt-3\">\n                                <Form.Label>Enseignants du département :</Form.Label>\n                                <div className=\"d-flex flex-wrap gap-2\">\n                                    {getDepartmentTeachers(selectedDepartment || {}).map(teacher => (\n                                        <div \n                                            key={teacher.id}\n                                            className={`d-flex align-items-center gap-2 p-2 border rounded ${selectedTeacher == teacher.id ? 'border-warning bg-light' : ''}`}\n                                            style={{ cursor: 'pointer', fontSize: '0.875rem' }}\n                                            onClick={() => setSelectedTeacher(teacher.id.toString())}\n                                        >\n                                            {getTeacherAvatar(teacher, 24)}\n                                            <span>\n                                                {teacher.full_name}\n                                                {teacher.is_head && <Award className=\"ms-1 text-warning\" size={12} />}\n                                            </span>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        )}\n                        <Alert variant=\"info\">\n                            Seuls les enseignants déjà assignés à ce département peuvent être nommés chef.\n                        </Alert>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => setShowHeadModal(false)}>\n                            Annuler\n                        </Button>\n                        <Button type=\"submit\" variant=\"warning\">\n                            Nommer Chef\n                        </Button>\n                    </Modal.Footer>\n                </Form>\n            </Modal>\n        </Container>\n    );\n};\n\nexport default DepartmentManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}