{"ast":null,"code":"/**\n * Scanner de pr√©sences pour le personnel\n * Scanner pour g√©rer les pr√©sences de tout le personnel (enseignants, comptables, surveillants, etc.)\n */import React,{useState,useEffect,useRef}from'react';import{Card,Button,Alert,Container,Row,Col,Table,Badge,Spinner,ButtonGroup,Form,Toast,ToastContainer}from'react-bootstrap';import{QrCodeScan,CheckCircleFill,Calendar,Clock,ArrowRightCircle,ArrowLeftCircle,PersonBadge,Wifi,PersonCheck,PersonX}from'react-bootstrap-icons';import{useAuth}from'../../hooks/useAuth';import{secureApiEndpoints}from'../../utils/apiMigration';import QrScanner from'qr-scanner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TeacherAttendanceScanner=()=>{const[isScanning,setIsScanning]=useState(false);const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('');const[todayAttendances,setTodayAttendances]=useState([]);const[isLoading,setIsLoading]=useState(false);const[scannerError,setScannerError]=useState('');const[showManualInput,setShowManualInput]=useState(false);const[manualQrCode,setManualQrCode]=useState('');const[eventType,setEventType]=useState('auto');const[entryExitStats,setEntryExitStats]=useState(null);const[toastList,setToastList]=useState([]);const{user}=useAuth();// Valeurs par d√©faut sans mode offline\nconst isOnline=true;const isSyncing=false;const videoRef=useRef(null);const qrScannerRef=useRef(null);// Le useEffect sera d√©plac√© apr√®s les d√©finitions des fonctions\nconst loadTodayAttendances=async()=>{try{setIsLoading(true);if(isOnline){const response=await secureApiEndpoints.staff.getDailyAttendance({supervisor_id:user.id});if(response.success){setTodayAttendances(response.data.attendances||[]);}}}catch(error){console.error('Erreur lors du chargement des pr√©sences:',error);showToast('Erreur lors du chargement des pr√©sences','danger');}finally{setIsLoading(false);}};const loadEntryExitStats=async()=>{try{if(!isOnline)return;const response=await secureApiEndpoints.staff.getEntryExitStats({supervisor_id:user.id});if(response.success){setEntryExitStats(response.data);}}catch(error){console.error('Erreur lors du chargement des statistiques:',error);}};const loadStaffList=async()=>{try{if(!isOnline)return;const response=await secureApiEndpoints.staff.getStaffWithQR();if(response.success){// Liste du personnel charg√©e (mode offline supprim√©)\n}}catch(error){console.error('Erreur lors du chargement du personnel:',error);}};const handleScanResult=async result=>{if(!result||result.trim()==='')return;console.log('üîç QR Code personnel scann√©:',result);setIsScanning(false);stopScanner();try{await processTeacherAttendanceScan(result);}catch(error){console.error('Erreur lors du traitement du scan:',error);setMessage('Erreur lors du traitement du scan');setMessageType('danger');}};const processTeacherAttendanceScan=async qrCode=>{try{setIsLoading(true);setMessage('');const response=await secureApiEndpoints.staff.scanQR({staff_qr_code:qrCode,supervisor_id:user.id,event_type:eventType});if(response.success){const data=response.data;setMessage(`‚úÖ ${response.message}`);setMessageType('success');await loadTodayAttendances();await loadEntryExitStats();// Afficher des informations d√©taill√©es\nif(data.punctuality_info){const info=data.punctuality_info;let statusMessage='';if(info.late_minutes>0){statusMessage+=` (${info.late_minutes} min de retard)`;}if(info.early_departure_minutes>0){statusMessage+=` (${info.early_departure_minutes} min de d√©part anticip√©)`;}if(info.work_hours>0){statusMessage+=` (${info.work_hours}h travaill√©es)`;}if(statusMessage){showToast(`Pr√©sence enregistr√©e${statusMessage}`,'info');}}showToast('Pr√©sence personnel enregistr√©e','success');}else{setMessage(`‚ùå ${response.message}`);setMessageType('danger');showToast(response.message,'danger');}}catch(error){console.error('Erreur lors du traitement:',error);setMessage('‚ùå Erreur lors de l\\'enregistrement de la pr√©sence');setMessageType('danger');showToast('Erreur lors de l\\'enregistrement','danger');}finally{setIsLoading(false);}};const startScanner=async()=>{try{setScannerError('');setIsScanning(true);const stream=await navigator.mediaDevices.getUserMedia({video:true});stream.getTracks().forEach(track=>track.stop());const cameras=await QrScanner.listCameras(true);if(cameras.length===0){throw new Error('Aucune cam√©ra trouv√©e sur cet appareil');}if(videoRef.current){qrScannerRef.current=new QrScanner(videoRef.current,result=>handleScanResult(result.data),{returnDetailedScanResult:true,highlightScanRegion:true,highlightCodeOutline:true});await qrScannerRef.current.start();console.log('‚úÖ Scanner QR personnel d√©marr√© avec succ√®s');}}catch(error){console.error('‚ùå Erreur scanner:',error);setScannerError(error.message);setIsScanning(false);showToast('Erreur du scanner: '+error.message,'danger');}};const stopScanner=()=>{if(qrScannerRef.current){qrScannerRef.current.stop();setIsScanning(false);console.log('‚èπÔ∏è Scanner arr√™t√©');}};const handleManualScan=async()=>{if(manualQrCode.trim()){await processTeacherAttendanceScan(manualQrCode.trim());setManualQrCode('');setShowManualInput(false);}};const showToast=function(message){let variant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';let icon=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const id=Date.now();const newToast={id,message,variant,icon,timestamp:new Date()};setToastList(prev=>[...prev,newToast]);// Auto-suppression apr√®s 5 secondes\nsetTimeout(()=>{setToastList(prev=>prev.filter(toast=>toast.id!==id));},5000);};const getNetworkStatusBadge=()=>{return/*#__PURE__*/_jsxs(Badge,{bg:\"success\",className:\"ms-2\",children:[/*#__PURE__*/_jsx(Wifi,{size:12,className:\"me-1\"}),\"Online\"]});};const getAttendanceTypeIcon=eventType=>{return eventType==='entry'?/*#__PURE__*/_jsx(ArrowRightCircle,{size:12,className:\"me-1\"}):/*#__PURE__*/_jsx(ArrowLeftCircle,{size:12,className:\"me-1\"});};const getAttendanceTypeBadge=eventType=>{return eventType==='entry'?/*#__PURE__*/_jsxs(Badge,{bg:\"success\",size:\"sm\",children:[getAttendanceTypeIcon(eventType),\"Entr\\xE9e\"]}):/*#__PURE__*/_jsxs(Badge,{bg:\"warning\",size:\"sm\",children:[getAttendanceTypeIcon(eventType),\"Sortie\"]});};const getRoleLabel=role=>{const roleLabels={'teacher':'Enseignant','accountant':'Comptable','comptable_superieur':'Comptable Sup√©rieur','general_accountant':'Comptable G√©n√©ral','surveillant_general':'Surveillant G√©n√©ral','admin':'Administrateur','secretaire':'Secr√©taire'};return roleLabels[role]||role;};// Effet pour charger les donn√©es au montage du composant\nuseEffect(()=>{loadTodayAttendances();loadEntryExitStats();loadStaffList();return()=>{if(qrScannerRef.current){qrScannerRef.current.destroy();}};},[]);// eslint-disable-line react-hooks/exhaustive-deps\nreturn/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"py-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mb-0 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(PersonBadge,{className:\"me-2\"}),\"Scanner Pr\\xE9sences Personnel\",getNetworkStatusBadge()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0\",children:[\"Surveillance: \",user===null||user===void 0?void 0:user.name]})]})})})}),entryExitStats&&entryExitStats.stats_by_type&&/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(PersonCheck,{size:24,className:\"text-success mb-2\"}),/*#__PURE__*/_jsx(\"h4\",{children:Object.values(entryExitStats.stats_by_type).reduce((sum,stats)=>sum+(stats.present_count||0),0)}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Pr\\xE9sents\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(ArrowRightCircle,{size:24,className:\"text-primary mb-2\"}),/*#__PURE__*/_jsx(\"h4\",{children:Object.values(entryExitStats.stats_by_type).reduce((sum,stats)=>sum+(stats.entries||0),0)}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Entr\\xE9es\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(ArrowLeftCircle,{size:24,className:\"text-warning mb-2\"}),/*#__PURE__*/_jsx(\"h4\",{children:Object.values(entryExitStats.stats_by_type).reduce((sum,stats)=>sum+(stats.exits||0),0)}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Sorties\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Clock,{size:24,className:\"text-danger mb-2\"}),/*#__PURE__*/_jsx(\"h4\",{children:Object.values(entryExitStats.stats_by_type).reduce((sum,stats)=>sum+(stats.late_count||0),0)}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"En retard\"})]})})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:6,className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Card.Header,{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(QrCodeScan,{className:\"me-2\"}),\"Scanner QR Code Personnel\"]}),/*#__PURE__*/_jsx(ButtonGroup,{size:\"sm\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:()=>setShowManualInput(!showManualInput),children:\"Saisie manuelle\"})})]}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 mb-3\",children:[/*#__PURE__*/_jsxs(Button,{variant:isScanning?\"danger\":\"success\",onClick:isScanning?stopScanner:startScanner,disabled:isLoading,children:[isScanning?\"Arr√™ter\":\"D√©marrer\",\" Scanner\"]}),/*#__PURE__*/_jsxs(Form.Select,{value:eventType,onChange:e=>setEventType(e.target.value),style:{width:'auto'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"auto\",children:\"Auto-d\\xE9tection\"}),/*#__PURE__*/_jsx(\"option\",{value:\"entry\",children:\"Entr\\xE9e forc\\xE9e\"}),/*#__PURE__*/_jsx(\"option\",{value:\"exit\",children:\"Sortie forc\\xE9e\"})]})]}),showManualInput&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Code QR personnel\",value:manualQrCode,onChange:e=>setManualQrCode(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleManualScan()}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleManualScan,disabled:!manualQrCode.trim()||isLoading,children:\"Scanner\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,style:{width:'100%',maxWidth:'400px',height:'300px',border:'2px solid #dee2e6',borderRadius:'8px',display:isScanning?'block':'none'}}),!isScanning&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center text-muted\",style:{height:'300px',border:'2px dashed #dee2e6',borderRadius:'8px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(PersonBadge,{size:48,className:\"mb-2\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Scanner QR Code Personnel\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Cliquez sur \\\"D\\xE9marrer Scanner\\\"\"})]})})]}),scannerError&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",className:\"mt-3\",children:scannerError}),message&&/*#__PURE__*/_jsx(Alert,{variant:messageType,className:\"mt-3\",children:message}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-3\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-muted\",children:\"Traitement en cours...\"})]})]})]})}),/*#__PURE__*/_jsx(Col,{lg:6,className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Card.Header,{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"me-2\"}),\"Pr\\xE9sences Personnel du jour\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[isSyncing&&/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\",className:\"me-2\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:loadTodayAttendances,disabled:isLoading,children:\"Actualiser\"})]})]}),/*#__PURE__*/_jsx(Card.Body,{style:{maxHeight:'500px',overflowY:'auto'},children:todayAttendances.length>0?/*#__PURE__*/_jsxs(Table,{responsive:true,size:\"sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Heure\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Personnel\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Statut\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:todayAttendances.map((attendance,index)=>{var _attendance$user,_attendance$teacher,_attendance$user2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(Clock,{size:12,className:\"me-1\"}),attendance.scanned_at||attendance.timestamp?new Date(attendance.scanned_at||attendance.timestamp).toLocaleTimeString():'N/A']})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[((_attendance$user=attendance.user)===null||_attendance$user===void 0?void 0:_attendance$user.name)||((_attendance$teacher=attendance.teacher)===null||_attendance$teacher===void 0?void 0:_attendance$teacher.full_name)||attendance.teacherName||attendance.staffName||'Inconnu',((_attendance$user2=attendance.user)===null||_attendance$user2===void 0?void 0:_attendance$user2.role)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\" - \",getRoleLabel(attendance.user.role)]})]})}),/*#__PURE__*/_jsx(\"td\",{children:getAttendanceTypeBadge(attendance.event_type||attendance.eventType)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"success\",size:\"sm\",children:/*#__PURE__*/_jsx(CheckCircleFill,{size:12})})})]},index);})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-muted py-4\",children:[/*#__PURE__*/_jsx(PersonX,{size:32,className:\"mb-2\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Aucune pr\\xE9sence personnel enregistr\\xE9e aujourd'hui\"})]})})]})})]}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-end\",className:\"p-3\",children:toastList.map(toast=>/*#__PURE__*/_jsx(Toast,{bg:toast.variant,show:true,onClose:()=>setToastList(prev=>prev.filter(t=>t.id!==toast.id)),delay:5000,autohide:true,children:/*#__PURE__*/_jsxs(Toast.Body,{className:\"text-white\",children:[toast.icon&&/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:toast.icon}),toast.message]})},toast.id))})]});};export default TeacherAttendanceScanner;","map":{"version":3,"names":["React","useState","useEffect","useRef","Card","Button","Alert","Container","Row","Col","Table","Badge","Spinner","ButtonGroup","Form","Toast","ToastContainer","QrCodeScan","CheckCircleFill","Calendar","Clock","ArrowRightCircle","ArrowLeftCircle","PersonBadge","Wifi","PersonCheck","PersonX","useAuth","secureApiEndpoints","QrScanner","jsx","_jsx","jsxs","_jsxs","TeacherAttendanceScanner","isScanning","setIsScanning","message","setMessage","messageType","setMessageType","todayAttendances","setTodayAttendances","isLoading","setIsLoading","scannerError","setScannerError","showManualInput","setShowManualInput","manualQrCode","setManualQrCode","eventType","setEventType","entryExitStats","setEntryExitStats","toastList","setToastList","user","isOnline","isSyncing","videoRef","qrScannerRef","loadTodayAttendances","response","staff","getDailyAttendance","supervisor_id","id","success","data","attendances","error","console","showToast","loadEntryExitStats","getEntryExitStats","loadStaffList","getStaffWithQR","handleScanResult","result","trim","log","stopScanner","processTeacherAttendanceScan","qrCode","scanQR","staff_qr_code","event_type","punctuality_info","info","statusMessage","late_minutes","early_departure_minutes","work_hours","startScanner","stream","navigator","mediaDevices","getUserMedia","video","getTracks","forEach","track","stop","cameras","listCameras","length","Error","current","returnDetailedScanResult","highlightScanRegion","highlightCodeOutline","start","handleManualScan","variant","arguments","undefined","icon","Date","now","newToast","timestamp","prev","setTimeout","filter","toast","getNetworkStatusBadge","bg","className","children","size","getAttendanceTypeIcon","getAttendanceTypeBadge","getRoleLabel","role","roleLabels","destroy","fluid","name","stats_by_type","md","Body","Object","values","reduce","sum","stats","present_count","entries","exits","late_count","lg","Header","onClick","disabled","Select","value","onChange","e","target","style","width","Control","type","placeholder","onKeyPress","key","ref","maxWidth","height","border","borderRadius","display","animation","maxHeight","overflowY","responsive","map","attendance","index","_attendance$user","_attendance$teacher","_attendance$user2","scanned_at","toLocaleTimeString","teacher","full_name","teacherName","staffName","position","show","onClose","t","delay","autohide"],"sources":["/var/www/College-IUP/front/src/pages/Attendance/TeacherAttendanceScanner.jsx"],"sourcesContent":["/**\n * Scanner de pr√©sences pour le personnel\n * Scanner pour g√©rer les pr√©sences de tout le personnel (enseignants, comptables, surveillants, etc.)\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { \n    Card, \n    Button, \n    Alert, \n    Container, \n    Row, \n    Col, \n    Table, \n    Badge, \n    Spinner, \n    ButtonGroup, \n    Form,\n    Toast,\n    ToastContainer\n} from 'react-bootstrap';\nimport { \n    QrCodeScan, \n    CheckCircleFill, \n    Calendar, \n    Clock, \n    ArrowRightCircle, \n    ArrowLeftCircle,\n    PersonBadge,\n    Wifi,\n    PersonCheck,\n    PersonX\n} from 'react-bootstrap-icons';\nimport { useAuth } from '../../hooks/useAuth';\nimport { secureApiEndpoints } from '../../utils/apiMigration';\nimport QrScanner from 'qr-scanner';\n\nconst TeacherAttendanceScanner = () => {\n    const [isScanning, setIsScanning] = useState(false);\n    const [message, setMessage] = useState('');\n    const [messageType, setMessageType] = useState('');\n    const [todayAttendances, setTodayAttendances] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [scannerError, setScannerError] = useState('');\n    const [showManualInput, setShowManualInput] = useState(false);\n    const [manualQrCode, setManualQrCode] = useState('');\n    const [eventType, setEventType] = useState('auto');\n    const [entryExitStats, setEntryExitStats] = useState(null);\n    const [toastList, setToastList] = useState([]);\n\n    const { user } = useAuth();\n    \n    // Valeurs par d√©faut sans mode offline\n    const isOnline = true;\n    const isSyncing = false;\n\n    const videoRef = useRef(null);\n    const qrScannerRef = useRef(null);\n\n    // Le useEffect sera d√©plac√© apr√®s les d√©finitions des fonctions\n\n\n\n    const loadTodayAttendances = async () => {\n        try {\n            setIsLoading(true);\n            \n            if (isOnline) {\n                const response = await secureApiEndpoints.staff.getDailyAttendance({\n                    supervisor_id: user.id\n                });\n\n                if (response.success) {\n                    setTodayAttendances(response.data.attendances || []);\n                }\n            }\n        } catch (error) {\n            console.error('Erreur lors du chargement des pr√©sences:', error);\n            showToast('Erreur lors du chargement des pr√©sences', 'danger');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const loadEntryExitStats = async () => {\n        try {\n            if (!isOnline) return;\n\n            const response = await secureApiEndpoints.staff.getEntryExitStats({\n                supervisor_id: user.id\n            });\n\n            if (response.success) {\n                setEntryExitStats(response.data);\n            }\n        } catch (error) {\n            console.error('Erreur lors du chargement des statistiques:', error);\n        }\n    };\n\n    const loadStaffList = async () => {\n        try {\n            if (!isOnline) return;\n\n            const response = await secureApiEndpoints.staff.getStaffWithQR();\n\n            if (response.success) {\n                // Liste du personnel charg√©e (mode offline supprim√©)\n            }\n        } catch (error) {\n            console.error('Erreur lors du chargement du personnel:', error);\n        }\n    };\n\n\n    const handleScanResult = async (result) => {\n        if (!result || result.trim() === '') return;\n\n        console.log('üîç QR Code personnel scann√©:', result);\n        setIsScanning(false);\n        stopScanner();\n\n        try {\n            await processTeacherAttendanceScan(result);\n        } catch (error) {\n            console.error('Erreur lors du traitement du scan:', error);\n            setMessage('Erreur lors du traitement du scan');\n            setMessageType('danger');\n        }\n    };\n\n    const processTeacherAttendanceScan = async (qrCode) => {\n        try {\n            setIsLoading(true);\n            setMessage('');\n\n            const response = await secureApiEndpoints.staff.scanQR({\n                staff_qr_code: qrCode,\n                supervisor_id: user.id,\n                event_type: eventType\n            });\n\n            if (response.success) {\n                const data = response.data;\n                \n                setMessage(`‚úÖ ${response.message}`);\n                setMessageType('success');\n                await loadTodayAttendances();\n                await loadEntryExitStats();\n                \n                // Afficher des informations d√©taill√©es\n                if (data.punctuality_info) {\n                    const info = data.punctuality_info;\n                    let statusMessage = '';\n                    \n                    if (info.late_minutes > 0) {\n                        statusMessage += ` (${info.late_minutes} min de retard)`;\n                    }\n                    if (info.early_departure_minutes > 0) {\n                        statusMessage += ` (${info.early_departure_minutes} min de d√©part anticip√©)`;\n                    }\n                    if (info.work_hours > 0) {\n                        statusMessage += ` (${info.work_hours}h travaill√©es)`;\n                    }\n                    \n                    if (statusMessage) {\n                        showToast(`Pr√©sence enregistr√©e${statusMessage}`, 'info');\n                    }\n                }\n                \n                showToast('Pr√©sence personnel enregistr√©e', 'success');\n            } else {\n                setMessage(`‚ùå ${response.message}`);\n                setMessageType('danger');\n                showToast(response.message, 'danger');\n            }\n\n        } catch (error) {\n            console.error('Erreur lors du traitement:', error);\n            setMessage('‚ùå Erreur lors de l\\'enregistrement de la pr√©sence');\n            setMessageType('danger');\n            showToast('Erreur lors de l\\'enregistrement', 'danger');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const startScanner = async () => {\n        try {\n            setScannerError('');\n            setIsScanning(true);\n            \n            const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n            stream.getTracks().forEach(track => track.stop());\n            \n            const cameras = await QrScanner.listCameras(true);\n            \n            if (cameras.length === 0) {\n                throw new Error('Aucune cam√©ra trouv√©e sur cet appareil');\n            }\n            \n            if (videoRef.current) {\n                qrScannerRef.current = new QrScanner(\n                    videoRef.current,\n                    (result) => handleScanResult(result.data),\n                    {\n                        returnDetailedScanResult: true,\n                        highlightScanRegion: true,\n                        highlightCodeOutline: true,\n                    }\n                );\n                \n                await qrScannerRef.current.start();\n                console.log('‚úÖ Scanner QR personnel d√©marr√© avec succ√®s');\n            }\n        } catch (error) {\n            console.error('‚ùå Erreur scanner:', error);\n            setScannerError(error.message);\n            setIsScanning(false);\n            showToast('Erreur du scanner: ' + error.message, 'danger');\n        }\n    };\n\n    const stopScanner = () => {\n        if (qrScannerRef.current) {\n            qrScannerRef.current.stop();\n            setIsScanning(false);\n            console.log('‚èπÔ∏è Scanner arr√™t√©');\n        }\n    };\n\n    const handleManualScan = async () => {\n        if (manualQrCode.trim()) {\n            await processTeacherAttendanceScan(manualQrCode.trim());\n            setManualQrCode('');\n            setShowManualInput(false);\n        }\n    };\n\n\n    const showToast = (message, variant = 'info', icon = null) => {\n        const id = Date.now();\n        const newToast = {\n            id,\n            message,\n            variant,\n            icon,\n            timestamp: new Date()\n        };\n        \n        setToastList(prev => [...prev, newToast]);\n        \n        // Auto-suppression apr√®s 5 secondes\n        setTimeout(() => {\n            setToastList(prev => prev.filter(toast => toast.id !== id));\n        }, 5000);\n    };\n\n    const getNetworkStatusBadge = () => {\n        return <Badge bg=\"success\" className=\"ms-2\">\n            <Wifi size={12} className=\"me-1\" />\n            Online\n        </Badge>;\n    };\n\n    const getAttendanceTypeIcon = (eventType) => {\n        return eventType === 'entry' ? (\n            <ArrowRightCircle size={12} className=\"me-1\" />\n        ) : (\n            <ArrowLeftCircle size={12} className=\"me-1\" />\n        );\n    };\n\n    const getAttendanceTypeBadge = (eventType) => {\n        return eventType === 'entry' ? (\n            <Badge bg=\"success\" size=\"sm\">\n                {getAttendanceTypeIcon(eventType)}\n                Entr√©e\n            </Badge>\n        ) : (\n            <Badge bg=\"warning\" size=\"sm\">\n                {getAttendanceTypeIcon(eventType)}\n                Sortie\n            </Badge>\n        );\n    };\n\n    const getRoleLabel = (role) => {\n        const roleLabels = {\n            'teacher': 'Enseignant',\n            'accountant': 'Comptable',\n            'comptable_superieur': 'Comptable Sup√©rieur',\n            'general_accountant': 'Comptable G√©n√©ral',\n            'surveillant_general': 'Surveillant G√©n√©ral',\n            'admin': 'Administrateur',\n            'secretaire': 'Secr√©taire'\n        };\n        return roleLabels[role] || role;\n    };\n\n    // Effet pour charger les donn√©es au montage du composant\n    useEffect(() => {\n        loadTodayAttendances();\n        loadEntryExitStats();\n        loadStaffList();\n        \n        return () => {\n            if (qrScannerRef.current) {\n                qrScannerRef.current.destroy();\n            }\n        };\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return (\n        <Container fluid className=\"py-4\">\n            {/* Header avec statut r√©seau */}\n            <Row className=\"mb-4\">\n                <Col>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <h2 className=\"mb-0 d-flex align-items-center\">\n                                <PersonBadge className=\"me-2\" />\n                                Scanner Pr√©sences Personnel\n                                {getNetworkStatusBadge()}\n                            </h2>\n                            <p className=\"text-muted mb-0\">\n                                Surveillance: {user?.name}\n                            </p>\n                        </div>\n                        \n                    </div>\n                </Col>\n            </Row>\n\n            {/* Statistiques rapides */}\n            {entryExitStats && entryExitStats.stats_by_type && (\n                <Row className=\"mb-4\">\n                    <Col md={3}>\n                        <Card className=\"text-center\">\n                            <Card.Body>\n                                <PersonCheck size={24} className=\"text-success mb-2\" />\n                                <h4>\n                                    {Object.values(entryExitStats.stats_by_type).reduce((sum, stats) => sum + (stats.present_count || 0), 0)}\n                                </h4>\n                                <small className=\"text-muted\">Pr√©sents</small>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                    <Col md={3}>\n                        <Card className=\"text-center\">\n                            <Card.Body>\n                                <ArrowRightCircle size={24} className=\"text-primary mb-2\" />\n                                <h4>\n                                    {Object.values(entryExitStats.stats_by_type).reduce((sum, stats) => sum + (stats.entries || 0), 0)}\n                                </h4>\n                                <small className=\"text-muted\">Entr√©es</small>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                    <Col md={3}>\n                        <Card className=\"text-center\">\n                            <Card.Body>\n                                <ArrowLeftCircle size={24} className=\"text-warning mb-2\" />\n                                <h4>\n                                    {Object.values(entryExitStats.stats_by_type).reduce((sum, stats) => sum + (stats.exits || 0), 0)}\n                                </h4>\n                                <small className=\"text-muted\">Sorties</small>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                    <Col md={3}>\n                        <Card className=\"text-center\">\n                            <Card.Body>\n                                <Clock size={24} className=\"text-danger mb-2\" />\n                                <h4>\n                                    {Object.values(entryExitStats.stats_by_type).reduce((sum, stats) => sum + (stats.late_count || 0), 0)}\n                                </h4>\n                                <small className=\"text-muted\">En retard</small>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            )}\n\n\n            {/* Interface de scan principale */}\n            <Row>\n                <Col lg={6} className=\"mb-4\">\n                    <Card>\n                        <Card.Header className=\"d-flex justify-content-between align-items-center\">\n                            <div className=\"d-flex align-items-center\">\n                                <QrCodeScan className=\"me-2\" />\n                                Scanner QR Code Personnel\n                            </div>\n                            <ButtonGroup size=\"sm\">\n                                <Button \n                                    variant=\"outline-secondary\"\n                                    onClick={() => setShowManualInput(!showManualInput)}\n                                >\n                                    Saisie manuelle\n                                </Button>\n                            </ButtonGroup>\n                        </Card.Header>\n                        \n                        <Card.Body>\n                            {/* Contr√¥les du scanner */}\n                            <div className=\"mb-3\">\n                                <div className=\"d-flex gap-2 mb-3\">\n                                    <Button \n                                        variant={isScanning ? \"danger\" : \"success\"}\n                                        onClick={isScanning ? stopScanner : startScanner}\n                                        disabled={isLoading}\n                                    >\n                                        {isScanning ? \"Arr√™ter\" : \"D√©marrer\"} Scanner\n                                    </Button>\n                                    \n                                    <Form.Select \n                                        value={eventType} \n                                        onChange={(e) => setEventType(e.target.value)}\n                                        style={{ width: 'auto' }}\n                                    >\n                                        <option value=\"auto\">Auto-d√©tection</option>\n                                        <option value=\"entry\">Entr√©e forc√©e</option>\n                                        <option value=\"exit\">Sortie forc√©e</option>\n                                    </Form.Select>\n                                </div>\n\n                                {/* Saisie manuelle */}\n                                {showManualInput && (\n                                    <div className=\"mb-3\">\n                                        <div className=\"d-flex gap-2\">\n                                            <Form.Control\n                                                type=\"text\"\n                                                placeholder=\"Code QR personnel\"\n                                                value={manualQrCode}\n                                                onChange={(e) => setManualQrCode(e.target.value)}\n                                                onKeyPress={(e) => e.key === 'Enter' && handleManualScan()}\n                                            />\n                                            <Button \n                                                variant=\"primary\" \n                                                onClick={handleManualScan}\n                                                disabled={!manualQrCode.trim() || isLoading}\n                                            >\n                                                Scanner\n                                            </Button>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* Zone de scan vid√©o */}\n                            <div className=\"text-center\">\n                                <video \n                                    ref={videoRef}\n                                    style={{ \n                                        width: '100%', \n                                        maxWidth: '400px',\n                                        height: '300px',\n                                        border: '2px solid #dee2e6',\n                                        borderRadius: '8px',\n                                        display: isScanning ? 'block' : 'none'\n                                    }}\n                                />\n                                \n                                {!isScanning && (\n                                    <div \n                                        className=\"d-flex align-items-center justify-content-center text-muted\"\n                                        style={{ height: '300px', border: '2px dashed #dee2e6', borderRadius: '8px' }}\n                                    >\n                                        <div className=\"text-center\">\n                                            <PersonBadge size={48} className=\"mb-2\" />\n                                            <p>Scanner QR Code Personnel</p>\n                                            <small className=\"text-muted\">Cliquez sur \"D√©marrer Scanner\"</small>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* Messages et erreurs */}\n                            {scannerError && (\n                                <Alert variant=\"danger\" className=\"mt-3\">\n                                    {scannerError}\n                                </Alert>\n                            )}\n                            \n                            {message && (\n                                <Alert variant={messageType} className=\"mt-3\">\n                                    {message}\n                                </Alert>\n                            )}\n\n                            {/* Loader */}\n                            {isLoading && (\n                                <div className=\"text-center mt-3\">\n                                    <Spinner animation=\"border\" variant=\"primary\" />\n                                    <p className=\"mt-2 text-muted\">Traitement en cours...</p>\n                                </div>\n                            )}\n                        </Card.Body>\n                    </Card>\n                </Col>\n\n                {/* Liste des pr√©sences du jour */}\n                <Col lg={6} className=\"mb-4\">\n                    <Card>\n                        <Card.Header className=\"d-flex justify-content-between align-items-center\">\n                            <div className=\"d-flex align-items-center\">\n                                <Calendar className=\"me-2\" />\n                                Pr√©sences Personnel du jour\n                            </div>\n                            <div>\n                                {isSyncing && <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />}\n                                <Button \n                                    variant=\"outline-primary\" \n                                    size=\"sm\"\n                                    onClick={loadTodayAttendances}\n                                    disabled={isLoading}\n                                >\n                                    Actualiser\n                                </Button>\n                            </div>\n                        </Card.Header>\n                        \n                        <Card.Body style={{ maxHeight: '500px', overflowY: 'auto' }}>\n                            {todayAttendances.length > 0 ? (\n                                <Table responsive size=\"sm\">\n                                    <thead>\n                                        <tr>\n                                            <th>Heure</th>\n                                            <th>Personnel</th>\n                                            <th>Type</th>\n                                            <th>Statut</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {todayAttendances.map((attendance, index) => (\n                                            <tr key={index}>\n                                                <td>\n                                                    <small>\n                                                        <Clock size={12} className=\"me-1\" />\n                                                        {attendance.scanned_at || attendance.timestamp ? \n                                                            new Date(attendance.scanned_at || attendance.timestamp).toLocaleTimeString() : \n                                                            'N/A'\n                                                        }\n                                                    </small>\n                                                </td>\n                                                <td>\n                                                    <small>\n                                                        {attendance.user?.name || attendance.teacher?.full_name || attendance.teacherName || attendance.staffName || 'Inconnu'}\n                                                        {attendance.user?.role && (\n                                                            <span className=\"text-muted\"> - {getRoleLabel(attendance.user.role)}</span>\n                                                        )}\n                                                    </small>\n                                                </td>\n                                                <td>\n                                                    {getAttendanceTypeBadge(attendance.event_type || attendance.eventType)}\n                                                </td>\n                                                <td>\n                                                    <Badge bg=\"success\" size=\"sm\">\n                                                        <CheckCircleFill size={12} />\n                                                    </Badge>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </Table>\n                            ) : (\n                                <div className=\"text-center text-muted py-4\">\n                                    <PersonX size={32} className=\"mb-2\" />\n                                    <p>Aucune pr√©sence personnel enregistr√©e aujourd'hui</p>\n                                </div>\n                            )}\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n\n\n            {/* Toasts de notification */}\n            <ToastContainer position=\"top-end\" className=\"p-3\">\n                {toastList.map(toast => (\n                    <Toast \n                        key={toast.id}\n                        bg={toast.variant}\n                        show={true}\n                        onClose={() => setToastList(prev => prev.filter(t => t.id !== toast.id))}\n                        delay={5000}\n                        autohide\n                    >\n                        <Toast.Body className=\"text-white\">\n                            {toast.icon && <span className=\"me-2\">{toast.icon}</span>}\n                            {toast.message}\n                        </Toast.Body>\n                    </Toast>\n                ))}\n            </ToastContainer>\n        </Container>\n    );\n};\n\nexport default TeacherAttendanceScanner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}