{"ast":null,"code":"import{useState,useEffect}from'react';import{Container,Row,Col,Card,Table,Button,Modal,Form,Alert,Spinner,Badge,ButtonGroup}from'react-bootstrap';import{Plus,PencilSquare,Trash,Building,CurrencyDollar,Check,X,InfoCircle}from'react-bootstrap-icons';import{secureApiEndpoints}from'../../utils/apiMigration';import Swal from'sweetalert2';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ClassScholarships=()=>{const[scholarships,setScholarships]=useState([]);const[schoolClasses,setSchoolClasses]=useState([]);const[paymentTranches,setPaymentTranches]=useState([]);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[showModal,setShowModal]=useState(false);const[editingScholarship,setEditingScholarship]=useState(null);const[form,setForm]=useState({school_class_id:'',payment_tranche_id:'',name:'',description:'',amount:'',is_active:true});useEffect(()=>{loadData();},[]);const loadData=async()=>{try{setLoading(true);// Charger les bourses, classes et tranches de paiement en parallèle\nconst[scholarshipsResponse,classesResponse,tranchesResponse]=await Promise.all([secureApiEndpoints.scholarships.getAll(),secureApiEndpoints.schoolClasses.getAll(),secureApiEndpoints.paymentTranches.getAll()]);if(scholarshipsResponse.success){setScholarships(scholarshipsResponse.data);}if(classesResponse.success){setSchoolClasses(classesResponse.data);}if(tranchesResponse.success){setPaymentTranches(tranchesResponse.data);}}catch(error){setError('Erreur lors du chargement des données');console.error('Error loading data:',error);}finally{setLoading(false);}};const handleOpenModal=function(){let scholarship=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(scholarship){setEditingScholarship(scholarship);setForm({school_class_id:scholarship.school_class_id,payment_tranche_id:scholarship.payment_tranche_id||'',name:scholarship.name,description:scholarship.description||'',amount:scholarship.amount,is_active:scholarship.is_active});}else{setEditingScholarship(null);setForm({school_class_id:'',payment_tranche_id:'',name:'',description:'',amount:'',is_active:true});}setShowModal(true);setError('');setSuccess('');};const handleCloseModal=()=>{setShowModal(false);setEditingScholarship(null);setForm({school_class_id:'',payment_tranche_id:'',name:'',description:'',amount:'',is_active:true});};const handleInputChange=(field,value)=>{setForm(prev=>({...prev,[field]:value}));};const handleSubmit=async e=>{e.preventDefault();if(!form.school_class_id||!form.payment_tranche_id||!form.name||!form.amount){setError('Veuillez remplir tous les champs obligatoires');return;}if(parseFloat(form.amount)<0){setError('Le montant doit être positif');return;}try{setSaving(true);setError('');const scholarshipData={...form,amount:parseFloat(form.amount)};let response;if(editingScholarship){response=await secureApiEndpoints.scholarships.update(editingScholarship.id,scholarshipData);}else{response=await secureApiEndpoints.scholarships.create(scholarshipData);}if(response.success){setSuccess(editingScholarship?'Bourse mise à jour avec succès':'Bourse créée avec succès');handleCloseModal();await loadData();// Notification de succès\nSwal.fire({title:'Succès !',text:response.message,icon:'success',confirmButtonText:'OK'});}else{setError(response.message||'Erreur lors de la sauvegarde');}}catch(error){setError('Erreur lors de la sauvegarde de la bourse');console.error('Error saving scholarship:',error);}finally{setSaving(false);}};const handleDelete=async scholarship=>{const result=await Swal.fire({title:'Confirmer la suppression',text:`Êtes-vous sûr de vouloir supprimer la bourse \"${scholarship.name}\" ?`,icon:'warning',showCancelButton:true,confirmButtonColor:'#d33',cancelButtonColor:'#3085d6',confirmButtonText:'Supprimer',cancelButtonText:'Annuler'});if(result.isConfirmed){try{const response=await secureApiEndpoints.scholarships.delete(scholarship.id);if(response.success){setSuccess('Bourse supprimée avec succès');await loadData();Swal.fire({title:'Supprimé !',text:'La bourse a été supprimée avec succès.',icon:'success',confirmButtonText:'OK'});}else{setError(response.message||'Erreur lors de la suppression');}}catch(error){setError('Erreur lors de la suppression de la bourse');console.error('Error deleting scholarship:',error);}}};const formatAmount=amount=>{return parseInt(amount).toLocaleString()+' FCFA';};const getClassName=classId=>{const schoolClass=schoolClasses.find(c=>c.id===classId);return schoolClass?schoolClass.name:'Classe inconnue';};const getTrancheName=trancheId=>{const tranche=paymentTranches.find(t=>t.id===trancheId);return tranche?tranche.name:'Tranche inconnue';};if(loading){return/*#__PURE__*/_jsx(Container,{fluid:true,className:\"py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Chargement...\"})})})});}return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"py-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gestion des Bourses par Classe\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Cr\\xE9ez et g\\xE9rez les bourses disponibles pour chaque classe\"})]}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:()=>handleOpenModal(),children:[/*#__PURE__*/_jsx(Plus,{size:16,className:\"me-2\"}),\"Nouvelle Bourse\"]})]})})}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",dismissible:true,onClose:()=>setError(''),children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",dismissible:true,onClose:()=>setSuccess(''),children:success}),/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{className:\"border-info\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-start\",children:[/*#__PURE__*/_jsx(InfoCircle,{size:20,className:\"text-info me-3 mt-1\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-info mb-2\",children:\"\\xC0 propos des bourses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Les bourses sont appliqu\\xE9es automatiquement aux \\xE9tudiants \\xE9ligibles lors des paiements, en fonction de leur classe et du respect de la date limite configur\\xE9e dans les param\\xE8tres d'\\xE9tablissement.\"})]})]})})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(Building,{className:\"me-2\"}),\"Bourses Configur\\xE9es (\",scholarships.length,\")\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:scholarships.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Aucune bourse configur\\xE9e\"}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-primary\",onClick:()=>handleOpenModal(),children:[/*#__PURE__*/_jsx(Plus,{size:16,className:\"me-2\"}),\"Cr\\xE9er la premi\\xE8re bourse\"]})]}):/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Classe\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tranche\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nom de la Bourse\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Montant\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Statut\"}),/*#__PURE__*/_jsx(\"th\",{width:\"120\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:scholarships.map(scholarship=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:getClassName(scholarship.school_class_id)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"info\",className:\"me-1\",children:getTrancheName(scholarship.payment_tranche_id)})}),/*#__PURE__*/_jsx(\"td\",{children:scholarship.name}),/*#__PURE__*/_jsx(\"td\",{children:scholarship.description?/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:scholarship.description}):/*#__PURE__*/_jsx(\"em\",{className:\"text-muted\",children:\"Aucune description\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{className:\"text-success\",children:formatAmount(scholarship.amount)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:scholarship.is_active?'success':'secondary',children:scholarship.is_active?'Active':'Inactive'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{size:\"sm\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",onClick:()=>handleOpenModal(scholarship),title:\"Modifier\",children:/*#__PURE__*/_jsx(PencilSquare,{size:14})}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:()=>handleDelete(scholarship),title:\"Supprimer\",children:/*#__PURE__*/_jsx(Trash,{size:14})})]})})]},scholarship.id))})]})})]})})}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:handleCloseModal,size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:editingScholarship?'Modifier la Bourse':'Nouvelle Bourse'})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Classe *\"}),/*#__PURE__*/_jsxs(Form.Select,{value:form.school_class_id,onChange:e=>handleInputChange('school_class_id',e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une classe\"}),schoolClasses.map(schoolClass=>/*#__PURE__*/_jsx(\"option\",{value:schoolClass.id,children:schoolClass.name},schoolClass.id))]})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tranche de Paiement *\"}),/*#__PURE__*/_jsxs(Form.Select,{value:form.payment_tranche_id,onChange:e=>handleInputChange('payment_tranche_id',e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une tranche\"}),paymentTranches.map(tranche=>/*#__PURE__*/_jsx(\"option\",{value:tranche.id,children:tranche.name},tranche.id))]})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nom de la Bourse *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:form.name,onChange:e=>handleInputChange('name',e.target.value),placeholder:\"Ex: Bourse d'Excellence\",required:true})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Form.Label,{children:[/*#__PURE__*/_jsx(CurrencyDollar,{className:\"me-1\"}),\"Montant (FCFA) *\"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",min:\"0\",step:\"1\",value:form.amount,onChange:e=>handleInputChange('amount',e.target.value),placeholder:\"Ex: 50000\",required:true})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Statut\"}),/*#__PURE__*/_jsxs(Form.Select,{value:form.is_active?'true':'false',onChange:e=>handleInputChange('is_active',e.target.value==='true'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Inactive\"})]})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:form.description,onChange:e=>handleInputChange('description',e.target.value),placeholder:\"Description de la bourse (optionnel)...\"})]})})})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsxs(Button,{variant:\"secondary\",onClick:handleCloseModal,children:[/*#__PURE__*/_jsx(X,{size:16,className:\"me-2\"}),\"Annuler\"]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:saving,children:saving?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\",className:\"me-2\"}),\"Sauvegarde...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Check,{size:16,className:\"me-2\"}),editingScholarship?'Mettre à jour':'Créer la Bourse']})})]})]})]})]});};export default ClassScholarships;","map":{"version":3,"names":["useState","useEffect","Container","Row","Col","Card","Table","Button","Modal","Form","Alert","Spinner","Badge","ButtonGroup","Plus","PencilSquare","Trash","Building","CurrencyDollar","Check","X","InfoCircle","secureApiEndpoints","Swal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ClassScholarships","scholarships","setScholarships","schoolClasses","setSchoolClasses","paymentTranches","setPaymentTranches","loading","setLoading","saving","setSaving","error","setError","success","setSuccess","showModal","setShowModal","editingScholarship","setEditingScholarship","form","setForm","school_class_id","payment_tranche_id","name","description","amount","is_active","loadData","scholarshipsResponse","classesResponse","tranchesResponse","Promise","all","getAll","data","console","handleOpenModal","scholarship","arguments","length","undefined","handleCloseModal","handleInputChange","field","value","prev","handleSubmit","e","preventDefault","parseFloat","scholarshipData","response","update","id","create","fire","title","text","message","icon","confirmButtonText","handleDelete","result","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","isConfirmed","delete","formatAmount","parseInt","toLocaleString","getClassName","classId","schoolClass","find","c","getTrancheName","trancheId","tranche","t","fluid","className","children","animation","role","variant","onClick","size","dismissible","onClose","Body","Header","responsive","hover","width","map","bg","show","onHide","closeButton","Title","onSubmit","md","Group","Label","Select","onChange","target","required","Control","type","placeholder","min","step","as","rows","Footer","disabled"],"sources":["/var/www/College-IUP/front/src/pages/Settings/ClassScholarships.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n    Container,\n    Row,\n    Col,\n    Card,\n    Table,\n    Button,\n    Modal,\n    Form,\n    Alert,\n    Spinner,\n    Badge,\n    ButtonGroup\n} from 'react-bootstrap';\nimport {\n    Plus,\n    PencilSquare,\n    Trash,\n    Building,\n    CurrencyDollar,\n    Check,\n    X,\n    InfoCircle\n} from 'react-bootstrap-icons';\nimport { secureApiEndpoints } from '../../utils/apiMigration';\nimport Swal from 'sweetalert2';\n\nconst ClassScholarships = () => {\n    const [scholarships, setScholarships] = useState([]);\n    const [schoolClasses, setSchoolClasses] = useState([]);\n    const [paymentTranches, setPaymentTranches] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    \n    const [showModal, setShowModal] = useState(false);\n    const [editingScholarship, setEditingScholarship] = useState(null);\n    \n    const [form, setForm] = useState({\n        school_class_id: '',\n        payment_tranche_id: '',\n        name: '',\n        description: '',\n        amount: '',\n        is_active: true\n    });\n\n    useEffect(() => {\n        loadData();\n    }, []);\n\n    const loadData = async () => {\n        try {\n            setLoading(true);\n            \n            // Charger les bourses, classes et tranches de paiement en parallèle\n            const [scholarshipsResponse, classesResponse, tranchesResponse] = await Promise.all([\n                secureApiEndpoints.scholarships.getAll(),\n                secureApiEndpoints.schoolClasses.getAll(),\n                secureApiEndpoints.paymentTranches.getAll()\n            ]);\n            \n            if (scholarshipsResponse.success) {\n                setScholarships(scholarshipsResponse.data);\n            }\n            \n            if (classesResponse.success) {\n                setSchoolClasses(classesResponse.data);\n            }\n            \n            if (tranchesResponse.success) {\n                setPaymentTranches(tranchesResponse.data);\n            }\n            \n        } catch (error) {\n            setError('Erreur lors du chargement des données');\n            console.error('Error loading data:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleOpenModal = (scholarship = null) => {\n        if (scholarship) {\n            setEditingScholarship(scholarship);\n            setForm({\n                school_class_id: scholarship.school_class_id,\n                payment_tranche_id: scholarship.payment_tranche_id || '',\n                name: scholarship.name,\n                description: scholarship.description || '',\n                amount: scholarship.amount,\n                is_active: scholarship.is_active\n            });\n        } else {\n            setEditingScholarship(null);\n            setForm({\n                school_class_id: '',\n                payment_tranche_id: '',\n                name: '',\n                description: '',\n                amount: '',\n                is_active: true\n            });\n        }\n        setShowModal(true);\n        setError('');\n        setSuccess('');\n    };\n\n    const handleCloseModal = () => {\n        setShowModal(false);\n        setEditingScholarship(null);\n        setForm({\n            school_class_id: '',\n            payment_tranche_id: '',\n            name: '',\n            description: '',\n            amount: '',\n            is_active: true\n        });\n    };\n\n    const handleInputChange = (field, value) => {\n        setForm(prev => ({\n            ...prev,\n            [field]: value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        if (!form.school_class_id || !form.payment_tranche_id || !form.name || !form.amount) {\n            setError('Veuillez remplir tous les champs obligatoires');\n            return;\n        }\n\n        if (parseFloat(form.amount) < 0) {\n            setError('Le montant doit être positif');\n            return;\n        }\n\n        try {\n            setSaving(true);\n            setError('');\n            \n            const scholarshipData = {\n                ...form,\n                amount: parseFloat(form.amount)\n            };\n\n            let response;\n            if (editingScholarship) {\n                response = await secureApiEndpoints.scholarships.update(editingScholarship.id, scholarshipData);\n            } else {\n                response = await secureApiEndpoints.scholarships.create(scholarshipData);\n            }\n            \n            if (response.success) {\n                setSuccess(editingScholarship ? 'Bourse mise à jour avec succès' : 'Bourse créée avec succès');\n                handleCloseModal();\n                await loadData();\n                \n                // Notification de succès\n                Swal.fire({\n                    title: 'Succès !',\n                    text: response.message,\n                    icon: 'success',\n                    confirmButtonText: 'OK'\n                });\n            } else {\n                setError(response.message || 'Erreur lors de la sauvegarde');\n            }\n        } catch (error) {\n            setError('Erreur lors de la sauvegarde de la bourse');\n            console.error('Error saving scholarship:', error);\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    const handleDelete = async (scholarship) => {\n        const result = await Swal.fire({\n            title: 'Confirmer la suppression',\n            text: `Êtes-vous sûr de vouloir supprimer la bourse \"${scholarship.name}\" ?`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#d33',\n            cancelButtonColor: '#3085d6',\n            confirmButtonText: 'Supprimer',\n            cancelButtonText: 'Annuler'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await secureApiEndpoints.scholarships.delete(scholarship.id);\n                \n                if (response.success) {\n                    setSuccess('Bourse supprimée avec succès');\n                    await loadData();\n                    \n                    Swal.fire({\n                        title: 'Supprimé !',\n                        text: 'La bourse a été supprimée avec succès.',\n                        icon: 'success',\n                        confirmButtonText: 'OK'\n                    });\n                } else {\n                    setError(response.message || 'Erreur lors de la suppression');\n                }\n            } catch (error) {\n                setError('Erreur lors de la suppression de la bourse');\n                console.error('Error deleting scholarship:', error);\n            }\n        }\n    };\n\n    const formatAmount = (amount) => {\n        return parseInt(amount).toLocaleString() + ' FCFA';\n    };\n\n    const getClassName = (classId) => {\n        const schoolClass = schoolClasses.find(c => c.id === classId);\n        return schoolClass ? schoolClass.name : 'Classe inconnue';\n    };\n\n    const getTrancheName = (trancheId) => {\n        const tranche = paymentTranches.find(t => t.id === trancheId);\n        return tranche ? tranche.name : 'Tranche inconnue';\n    };\n\n    if (loading) {\n        return (\n            <Container fluid className=\"py-4\">\n                <div className=\"text-center\">\n                    <Spinner animation=\"border\" role=\"status\">\n                        <span className=\"visually-hidden\">Chargement...</span>\n                    </Spinner>\n                </div>\n            </Container>\n        );\n    }\n\n    return (\n        <Container fluid className=\"py-4\">\n            {/* Header */}\n            <Row className=\"mb-4\">\n                <Col>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <h2>Gestion des Bourses par Classe</h2>\n                            <p className=\"text-muted\">Créez et gérez les bourses disponibles pour chaque classe</p>\n                        </div>\n                        <Button \n                            variant=\"primary\" \n                            onClick={() => handleOpenModal()}\n                        >\n                            <Plus size={16} className=\"me-2\" />\n                            Nouvelle Bourse\n                        </Button>\n                    </div>\n                </Col>\n            </Row>\n\n            {/* Alerts */}\n            {error && (\n                <Alert variant=\"danger\" dismissible onClose={() => setError('')}>\n                    {error}\n                </Alert>\n            )}\n            {success && (\n                <Alert variant=\"success\" dismissible onClose={() => setSuccess('')}>\n                    {success}\n                </Alert>\n            )}\n\n            {/* Info Card */}\n            <Row className=\"mb-4\">\n                <Col>\n                    <Card className=\"border-info\">\n                        <Card.Body>\n                            <div className=\"d-flex align-items-start\">\n                                <InfoCircle size={20} className=\"text-info me-3 mt-1\" />\n                                <div>\n                                    <h6 className=\"text-info mb-2\">À propos des bourses</h6>\n                                    <p className=\"text-muted mb-0\">\n                                        Les bourses sont appliquées automatiquement aux étudiants éligibles lors des paiements, \n                                        en fonction de leur classe et du respect de la date limite configurée dans les paramètres d'établissement.\n                                    </p>\n                                </div>\n                            </div>\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n\n            {/* Scholarships Table */}\n            <Row>\n                <Col>\n                    <Card>\n                        <Card.Header>\n                            <h5 className=\"mb-0\">\n                                <Building className=\"me-2\" />\n                                Bourses Configurées ({scholarships.length})\n                            </h5>\n                        </Card.Header>\n                        <Card.Body>\n                            {scholarships.length === 0 ? (\n                                <div className=\"text-center py-4\">\n                                    <p className=\"text-muted\">Aucune bourse configurée</p>\n                                    <Button \n                                        variant=\"outline-primary\" \n                                        onClick={() => handleOpenModal()}\n                                    >\n                                        <Plus size={16} className=\"me-2\" />\n                                        Créer la première bourse\n                                    </Button>\n                                </div>\n                            ) : (\n                                <Table responsive hover>\n                                    <thead>\n                                        <tr>\n                                            <th>Classe</th>\n                                            <th>Tranche</th>\n                                            <th>Nom de la Bourse</th>\n                                            <th>Description</th>\n                                            <th>Montant</th>\n                                            <th>Statut</th>\n                                            <th width=\"120\">Actions</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {scholarships.map((scholarship) => (\n                                            <tr key={scholarship.id}>\n                                                <td>\n                                                    <strong>{getClassName(scholarship.school_class_id)}</strong>\n                                                </td>\n                                                <td>\n                                                    <Badge bg=\"info\" className=\"me-1\">\n                                                        {getTrancheName(scholarship.payment_tranche_id)}\n                                                    </Badge>\n                                                </td>\n                                                <td>{scholarship.name}</td>\n                                                <td>\n                                                    {scholarship.description ? (\n                                                        <span className=\"text-muted\">{scholarship.description}</span>\n                                                    ) : (\n                                                        <em className=\"text-muted\">Aucune description</em>\n                                                    )}\n                                                </td>\n                                                <td>\n                                                    <strong className=\"text-success\">\n                                                        {formatAmount(scholarship.amount)}\n                                                    </strong>\n                                                </td>\n                                                <td>\n                                                    <Badge bg={scholarship.is_active ? 'success' : 'secondary'}>\n                                                        {scholarship.is_active ? 'Active' : 'Inactive'}\n                                                    </Badge>\n                                                </td>\n                                                <td>\n                                                    <ButtonGroup size=\"sm\">\n                                                        <Button\n                                                            variant=\"outline-primary\"\n                                                            onClick={() => handleOpenModal(scholarship)}\n                                                            title=\"Modifier\"\n                                                        >\n                                                            <PencilSquare size={14} />\n                                                        </Button>\n                                                        <Button\n                                                            variant=\"outline-danger\"\n                                                            onClick={() => handleDelete(scholarship)}\n                                                            title=\"Supprimer\"\n                                                        >\n                                                            <Trash size={14} />\n                                                        </Button>\n                                                    </ButtonGroup>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </Table>\n                            )}\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n\n            {/* Modal pour créer/modifier une bourse */}\n            <Modal show={showModal} onHide={handleCloseModal} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        {editingScholarship ? 'Modifier la Bourse' : 'Nouvelle Bourse'}\n                    </Modal.Title>\n                </Modal.Header>\n                <Form onSubmit={handleSubmit}>\n                    <Modal.Body>\n                        <Row>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Classe *</Form.Label>\n                                    <Form.Select\n                                        value={form.school_class_id}\n                                        onChange={(e) => handleInputChange('school_class_id', e.target.value)}\n                                        required\n                                    >\n                                        <option value=\"\">Sélectionner une classe</option>\n                                        {schoolClasses.map((schoolClass) => (\n                                            <option key={schoolClass.id} value={schoolClass.id}>\n                                                {schoolClass.name}\n                                            </option>\n                                        ))}\n                                    </Form.Select>\n                                </Form.Group>\n                            </Col>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Tranche de Paiement *</Form.Label>\n                                    <Form.Select\n                                        value={form.payment_tranche_id}\n                                        onChange={(e) => handleInputChange('payment_tranche_id', e.target.value)}\n                                        required\n                                    >\n                                        <option value=\"\">Sélectionner une tranche</option>\n                                        {paymentTranches.map((tranche) => (\n                                            <option key={tranche.id} value={tranche.id}>\n                                                {tranche.name}\n                                            </option>\n                                        ))}\n                                    </Form.Select>\n                                </Form.Group>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Nom de la Bourse *</Form.Label>\n                                    <Form.Control\n                                        type=\"text\"\n                                        value={form.name}\n                                        onChange={(e) => handleInputChange('name', e.target.value)}\n                                        placeholder=\"Ex: Bourse d'Excellence\"\n                                        required\n                                    />\n                                </Form.Group>\n                            </Col>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>\n                                        <CurrencyDollar className=\"me-1\" />\n                                        Montant (FCFA) *\n                                    </Form.Label>\n                                    <Form.Control\n                                        type=\"number\"\n                                        min=\"0\"\n                                        step=\"1\"\n                                        value={form.amount}\n                                        onChange={(e) => handleInputChange('amount', e.target.value)}\n                                        placeholder=\"Ex: 50000\"\n                                        required\n                                    />\n                                </Form.Group>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Statut</Form.Label>\n                                    <Form.Select\n                                        value={form.is_active ? 'true' : 'false'}\n                                        onChange={(e) => handleInputChange('is_active', e.target.value === 'true')}\n                                    >\n                                        <option value=\"true\">Active</option>\n                                        <option value=\"false\">Inactive</option>\n                                    </Form.Select>\n                                </Form.Group>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Description</Form.Label>\n                                    <Form.Control\n                                        as=\"textarea\"\n                                        rows={3}\n                                        value={form.description}\n                                        onChange={(e) => handleInputChange('description', e.target.value)}\n                                        placeholder=\"Description de la bourse (optionnel)...\"\n                                    />\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleCloseModal}>\n                            <X size={16} className=\"me-2\" />\n                            Annuler\n                        </Button>\n                        <Button variant=\"primary\" type=\"submit\" disabled={saving}>\n                            {saving ? (\n                                <>\n                                    <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\n                                    Sauvegarde...\n                                </>\n                            ) : (\n                                <>\n                                    <Check size={16} className=\"me-2\" />\n                                    {editingScholarship ? 'Mettre à jour' : 'Créer la Bourse'}\n                                </>\n                            )}\n                        </Button>\n                    </Modal.Footer>\n                </Form>\n            </Modal>\n        </Container>\n    );\n};\n\nexport default ClassScholarships;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}