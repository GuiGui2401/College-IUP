{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Spinner,Alert,Badge,Tabs,Tab}from'react-bootstrap';import{BarChartFill,Person,Building,PersonFill,Grid3x3Gap,Calendar,TrendingUp,PieChartFill}from'react-bootstrap-icons';// Composants de graphiques personnalisés simples\nimport{secureApiEndpoints}from'../utils/apiMigration';import{useAuth}from'../hooks/useAuth';// Composant simple de graphique en barres\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SimpleBarChart=_ref=>{let{data,title,color='#0d6efd'}=_ref;if(!data||data.length===0)return null;const maxValue=Math.max(...data.map(item=>item.value));return/*#__PURE__*/_jsxs(\"div\",{className:\"simple-chart\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-center mb-3\",children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-bars\",children:data.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-label\",style:{width:'120px',fontSize:'0.8rem'},children:item.label}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-bar-container flex-grow-1 mx-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-bar\",style:{width:`${item.value/maxValue*100}%`,height:'20px',backgroundColor:color,borderRadius:'4px',minWidth:'2px'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-value\",style:{width:'40px',fontSize:'0.8rem',textAlign:'right'},children:item.value})]},index))})]});};// Composant simple de graphique en secteurs\nconst SimplePieChart=_ref2=>{let{data,title,colors=['#0d6efd','#dc3545']}=_ref2;if(!data||data.length===0)return null;const total=data.reduce((sum,item)=>sum+item.value,0);if(total===0)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"simple-chart\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-center mb-3\",children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pie-chart-container\",style:{width:'150px',height:'150px',borderRadius:'50%',background:`conic-gradient(${data.map((item,index)=>{const percentage=item.value/total*100;const previousPercentage=data.slice(0,index).reduce((sum,prev)=>sum+prev.value/total*100,0);return`${colors[index]||'#6c757d'} ${previousPercentage}% ${previousPercentage+percentage}%`;}).join(', ')})`}})}),/*#__PURE__*/_jsx(\"div\",{className:\"pie-chart-legend\",children:data.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center mb-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-color me-2\",style:{width:'12px',height:'12px',backgroundColor:colors[index]||'#6c757d',borderRadius:'2px'}}),/*#__PURE__*/_jsxs(\"small\",{children:[item.label,\": \",item.value,\" (\",Math.round(item.value/total*100),\"%)\"]})]},index))})]});};// Composant simple de graphique linéaire\nconst SimpleLineChart=_ref3=>{let{data,title,color='#198754'}=_ref3;if(!data||data.length===0)return null;const maxValue=Math.max(...data.map(item=>item.value));const minValue=Math.min(...data.map(item=>item.value));const range=maxValue-minValue||1;return/*#__PURE__*/_jsxs(\"div\",{className:\"simple-chart\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-center mb-3\",children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"line-chart-container\",style:{height:'200px',position:'relative',padding:'20px'},children:/*#__PURE__*/_jsxs(\"svg\",{width:\"100%\",height:\"100%\",style:{position:'absolute',top:0,left:0},children:[/*#__PURE__*/_jsx(\"polyline\",{fill:\"none\",stroke:color,strokeWidth:\"2\",points:data.map((item,index)=>{const x=index/(data.length-1)*100;const y=100-(item.value-minValue)/range*80;return`${x}%,${y}%`;}).join(' ')}),data.map((item,index)=>{const x=index/(data.length-1)*100;const y=100-(item.value-minValue)/range*80;return/*#__PURE__*/_jsx(\"circle\",{cx:`${x}%`,cy:`${y}%`,r:\"3\",fill:color},index);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between text-muted small\",children:data.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{style:{transform:'rotate(-45deg)',transformOrigin:'center'},children:item.label},index))})]});};const Stats=()=>{var _stats$meta,_stats$students4,_stats$students5,_stats$students6,_stats$classes3,_stats$classes4,_stats$teachers3,_stats$teachers4,_stats$teachers5;const{user}=useAuth();const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[activeTab,setActiveTab]=useState('students');useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{try{setLoading(true);setError('');const response=await secureApiEndpoints.stats.getGlobal();if(response.success){setStats(response.data);}else{setError(response.message||'Erreur lors du chargement des statistiques');}}catch(error){console.error('Stats error:',error);setError('Erreur lors du chargement des statistiques');}finally{setLoading(false);}};// Configuration des couleurs\nconst colors={primary:'#0d6efd',success:'#198754',info:'#0dcaf0',warning:'#ffc107',danger:'#dc3545',secondary:'#6c757d',light:'#f8f9fa',dark:'#212529'};// Graphique de répartition par genre (étudiants)\nconst renderStudentGenderChart=()=>{var _stats$students;if(!(stats!==null&&stats!==void 0&&(_stats$students=stats.students)!==null&&_stats$students!==void 0&&_stats$students.gender_distribution))return null;const data=[{label:'Garçons',value:stats.students.gender_distribution.male},{label:'Filles',value:stats.students.gender_distribution.female}];return/*#__PURE__*/_jsx(SimplePieChart,{data:data,title:\"R\\xE9partition par Genre\",colors:[colors.info,colors.danger]});};// Graphique de répartition par section (étudiants)\nconst renderStudentSectionChart=()=>{var _stats$students2;if(!(stats!==null&&stats!==void 0&&(_stats$students2=stats.students)!==null&&_stats$students2!==void 0&&_stats$students2.section_distribution)||stats.students.section_distribution.length===0)return null;const data=stats.students.section_distribution.map(item=>({label:item.section_name,value:item.count}));return/*#__PURE__*/_jsx(SimpleBarChart,{data:data,title:\"R\\xE9partition par Section\",color:colors.primary});};// Graphique d'évolution mensuelle des étudiants\nconst renderStudentEvolutionChart=()=>{var _stats$students3;if(!(stats!==null&&stats!==void 0&&(_stats$students3=stats.students)!==null&&_stats$students3!==void 0&&_stats$students3.monthly_evolution)||stats.students.monthly_evolution.length===0)return null;const data=stats.students.monthly_evolution.map(item=>({label:item.month_name,value:item.count}));return/*#__PURE__*/_jsx(SimpleLineChart,{data:data,title:\"\\xC9volution des Inscriptions (12 derniers mois)\",color:colors.success});};// Graphique des classes les plus remplies\nconst renderTopClassesChart=()=>{var _stats$classes;if(!(stats!==null&&stats!==void 0&&(_stats$classes=stats.classes)!==null&&_stats$classes!==void 0&&_stats$classes.top_classes)||stats.classes.top_classes.length===0)return null;const data=stats.classes.top_classes.map(item=>({label:item.name,value:item.students_count}));return/*#__PURE__*/_jsx(SimpleBarChart,{data:data,title:\"Classes avec le Plus d'\\xC9l\\xE8ves\",color:colors.success});};// Graphique de taux d'occupation des séries\nconst renderOccupancyChart=()=>{var _stats$classes2;if(!(stats!==null&&stats!==void 0&&(_stats$classes2=stats.classes)!==null&&_stats$classes2!==void 0&&_stats$classes2.capacity_stats)||stats.classes.capacity_stats.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"simple-chart\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-center mb-3\",children:\"Taux d'Occupation des S\\xE9ries\"}),/*#__PURE__*/_jsx(\"div\",{className:\"occupancy-chart\",children:stats.classes.capacity_stats.slice(0,8).map((item,index)=>{const color=item.occupancy_rate>90?colors.danger:item.occupancy_rate>70?colors.warning:colors.success;return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-label\",style:{width:'120px',fontSize:'0.8rem'},children:item.series_name}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow-1 mx-2\",style:{height:'20px',backgroundColor:'#e9ecef',borderRadius:'4px',position:'relative'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:`${item.occupancy_rate}%`,height:'100%',backgroundColor:color,borderRadius:'4px',minWidth:'2px'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-value\",style:{width:'50px',fontSize:'0.8rem',textAlign:'right'},children:[item.occupancy_rate.toFixed(1),\"%\"]})]},index);})})]});};// Graphique de répartition par genre (enseignants) - Admin seulement\nconst renderTeacherGenderChart=()=>{var _stats$teachers;if(!(stats!==null&&stats!==void 0&&(_stats$teachers=stats.teachers)!==null&&_stats$teachers!==void 0&&_stats$teachers.gender_distribution))return null;const data=[{label:'Hommes',value:stats.teachers.gender_distribution.male},{label:'Femmes',value:stats.teachers.gender_distribution.female}];return/*#__PURE__*/_jsx(SimplePieChart,{data:data,title:\"R\\xE9partition par Genre\",colors:[colors.warning,colors.info]});};// Graphique de qualification des enseignants\nconst renderTeacherQualificationChart=()=>{var _stats$teachers2;if(!(stats!==null&&stats!==void 0&&(_stats$teachers2=stats.teachers)!==null&&_stats$teachers2!==void 0&&_stats$teachers2.qualification_distribution)||stats.teachers.qualification_distribution.length===0)return null;const data=stats.teachers.qualification_distribution.map(item=>({label:item.qualification,value:item.count}));return/*#__PURE__*/_jsx(SimpleBarChart,{data:data,title:\"R\\xE9partition par Qualification\",color:colors.warning});};if(loading){return/*#__PURE__*/_jsx(Container,{fluid:true,className:\"py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:\"Chargement des statistiques...\"})]})});}if(error){return/*#__PURE__*/_jsx(Container,{fluid:true,className:\"py-4\",children:/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"Erreur\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]})});}return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"py-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"h4 mb-1 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(BarChartFill,{size:24,className:\"me-2\"}),\"Statistiques du Syst\\xE8me\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0\",children:[\"Vue d'ensemble des donn\\xE9es du syst\\xE8me\",(stats===null||stats===void 0?void 0:(_stats$meta=stats.meta)===null||_stats$meta===void 0?void 0:_stats$meta.current_year)&&/*#__PURE__*/_jsxs(\"span\",{children:[\" - \",stats.meta.current_year]})]})]}),/*#__PURE__*/_jsxs(Badge,{bg:\"info\",children:[\"Derni\\xE8re mise \\xE0 jour: \",new Date().toLocaleString('fr-FR')]})]})})}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{className:\"border-primary\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:/*#__PURE__*/_jsx(Person,{size:32,className:\"text-primary\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:(stats===null||stats===void 0?void 0:(_stats$students4=stats.students)===null||_stats$students4===void 0?void 0:_stats$students4.total)||0}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"\\xC9l\\xE8ves Total\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Badge,{bg:\"success\",className:\"me-1\",children:[(stats===null||stats===void 0?void 0:(_stats$students5=stats.students)===null||_stats$students5===void 0?void 0:_stats$students5.active)||0,\" actifs\"]}),/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",children:[(stats===null||stats===void 0?void 0:(_stats$students6=stats.students)===null||_stats$students6===void 0?void 0:_stats$students6.inactive)||0,\" inactifs\"]})]})]})]})})})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{className:\"border-success\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:/*#__PURE__*/_jsx(Building,{size:32,className:\"text-success\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:(stats===null||stats===void 0?void 0:(_stats$classes3=stats.classes)===null||_stats$classes3===void 0?void 0:_stats$classes3.total_classes)||0}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Classes\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Badge,{bg:\"info\",children:[(stats===null||stats===void 0?void 0:(_stats$classes4=stats.classes)===null||_stats$classes4===void 0?void 0:_stats$classes4.total_series)||0,\" s\\xE9ries\"]})})]})]})})})}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{className:\"border-warning\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:/*#__PURE__*/_jsx(PersonFill,{size:32,className:\"text-warning\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:(stats===null||stats===void 0?void 0:(_stats$teachers3=stats.teachers)===null||_stats$teachers3===void 0?void 0:_stats$teachers3.total)||0}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Enseignants\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Badge,{bg:\"success\",className:\"me-1\",children:[(stats===null||stats===void 0?void 0:(_stats$teachers4=stats.teachers)===null||_stats$teachers4===void 0?void 0:_stats$teachers4.active)||0,\" actifs\"]}),/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",children:[(stats===null||stats===void 0?void 0:(_stats$teachers5=stats.teachers)===null||_stats$teachers5===void 0?void 0:_stats$teachers5.inactive)||0,\" inactifs\"]})]})]})]})})})})]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onSelect:setActiveTab,children:[/*#__PURE__*/_jsxs(Tab,{eventKey:\"students\",title:/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Person,{className:\"me-2\"}),\"\\xC9l\\xE8ves\"]}),children:[/*#__PURE__*/_jsxs(Row,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",children:/*#__PURE__*/_jsx(Card.Body,{children:renderStudentGenderChart()})})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",children:/*#__PURE__*/_jsx(Card.Body,{children:renderStudentSectionChart()})})})]}),/*#__PURE__*/_jsx(Row,{className:\"mt-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:renderStudentEvolutionChart()})})})})]}),/*#__PURE__*/_jsx(Tab,{eventKey:\"classes\",title:/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Building,{className:\"me-2\"}),\"Classes\"]}),children:/*#__PURE__*/_jsxs(Row,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",children:/*#__PURE__*/_jsx(Card.Body,{children:renderTopClassesChart()})})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",children:/*#__PURE__*/_jsx(Card.Body,{children:renderOccupancyChart()})})})]})}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(Tab,{eventKey:\"teachers\",title:/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(PersonFill,{className:\"me-2\"}),\"Enseignants\"]}),children:/*#__PURE__*/_jsxs(Row,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",children:/*#__PURE__*/_jsx(Card.Body,{children:renderTeacherGenderChart()})})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",children:/*#__PURE__*/_jsx(Card.Body,{children:renderTeacherQualificationChart()})})})]})})]})})})]});};export default Stats;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Spinner","Alert","Badge","Tabs","Tab","BarChartFill","Person","Building","PersonFill","Grid3x3Gap","Calendar","TrendingUp","PieChartFill","secureApiEndpoints","useAuth","jsx","_jsx","jsxs","_jsxs","SimpleBarChart","_ref","data","title","color","length","maxValue","Math","max","map","item","value","className","children","index","style","width","fontSize","label","height","backgroundColor","borderRadius","minWidth","textAlign","SimplePieChart","_ref2","colors","total","reduce","sum","background","percentage","previousPercentage","slice","prev","join","round","SimpleLineChart","_ref3","minValue","min","range","position","padding","top","left","fill","stroke","strokeWidth","points","x","y","cx","cy","r","transform","transformOrigin","Stats","_stats$meta","_stats$students4","_stats$students5","_stats$students6","_stats$classes3","_stats$classes4","_stats$teachers3","_stats$teachers4","_stats$teachers5","user","stats","setStats","loading","setLoading","error","setError","activeTab","setActiveTab","fetchStats","response","getGlobal","success","message","console","primary","info","warning","danger","secondary","light","dark","renderStudentGenderChart","_stats$students","students","gender_distribution","male","female","renderStudentSectionChart","_stats$students2","section_distribution","section_name","count","renderStudentEvolutionChart","_stats$students3","monthly_evolution","month_name","renderTopClassesChart","_stats$classes","classes","top_classes","name","students_count","renderOccupancyChart","_stats$classes2","capacity_stats","occupancy_rate","series_name","toFixed","renderTeacherGenderChart","_stats$teachers","teachers","renderTeacherQualificationChart","_stats$teachers2","qualification_distribution","qualification","fluid","animation","size","variant","Heading","meta","current_year","bg","Date","toLocaleString","md","Body","active","inactive","total_classes","total_series","role","activeKey","onSelect","eventKey"],"sources":["/var/www/College-IUP/front/src/pages/Stats.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n    Container,\n    Row,\n    Col,\n    Card,\n    Spinner,\n    Alert,\n    Badge,\n    Tabs,\n    Tab\n} from 'react-bootstrap';\nimport {\n    BarChartFill,\n    Person,\n    Building,\n    PersonFill,\n    Grid3x3Gap,\n    Calendar,\n    TrendingUp,\n    PieChartFill\n} from 'react-bootstrap-icons';\n// Composants de graphiques personnalisés simples\nimport { secureApiEndpoints } from '../utils/apiMigration';\nimport { useAuth } from '../hooks/useAuth';\n\n// Composant simple de graphique en barres\nconst SimpleBarChart = ({ data, title, color = '#0d6efd' }) => {\n    if (!data || data.length === 0) return null;\n    \n    const maxValue = Math.max(...data.map(item => item.value));\n    \n    return (\n        <div className=\"simple-chart\">\n            <h6 className=\"text-center mb-3\">{title}</h6>\n            <div className=\"chart-bars\">\n                {data.map((item, index) => (\n                    <div key={index} className=\"d-flex align-items-center mb-2\">\n                        <div className=\"chart-label\" style={{ width: '120px', fontSize: '0.8rem' }}>\n                            {item.label}\n                        </div>\n                        <div className=\"chart-bar-container flex-grow-1 mx-2\">\n                            <div \n                                className=\"chart-bar\" \n                                style={{ \n                                    width: `${(item.value / maxValue) * 100}%`,\n                                    height: '20px',\n                                    backgroundColor: color,\n                                    borderRadius: '4px',\n                                    minWidth: '2px'\n                                }}\n                            ></div>\n                        </div>\n                        <div className=\"chart-value\" style={{ width: '40px', fontSize: '0.8rem', textAlign: 'right' }}>\n                            {item.value}\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\n// Composant simple de graphique en secteurs\nconst SimplePieChart = ({ data, title, colors = ['#0d6efd', '#dc3545'] }) => {\n    if (!data || data.length === 0) return null;\n    \n    const total = data.reduce((sum, item) => sum + item.value, 0);\n    if (total === 0) return null;\n    \n    return (\n        <div className=\"simple-chart\">\n            <h6 className=\"text-center mb-3\">{title}</h6>\n            <div className=\"d-flex justify-content-center mb-3\">\n                <div \n                    className=\"pie-chart-container\"\n                    style={{\n                        width: '150px',\n                        height: '150px',\n                        borderRadius: '50%',\n                        background: `conic-gradient(${data.map((item, index) => {\n                            const percentage = (item.value / total) * 100;\n                            const previousPercentage = data.slice(0, index).reduce((sum, prev) => sum + (prev.value / total) * 100, 0);\n                            return `${colors[index] || '#6c757d'} ${previousPercentage}% ${previousPercentage + percentage}%`;\n                        }).join(', ')})`\n                    }}\n                ></div>\n            </div>\n            <div className=\"pie-chart-legend\">\n                {data.map((item, index) => (\n                    <div key={index} className=\"d-flex align-items-center justify-content-center mb-1\">\n                        <div \n                            className=\"legend-color me-2\"\n                            style={{\n                                width: '12px',\n                                height: '12px',\n                                backgroundColor: colors[index] || '#6c757d',\n                                borderRadius: '2px'\n                            }}\n                        ></div>\n                        <small>{item.label}: {item.value} ({Math.round((item.value / total) * 100)}%)</small>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\n// Composant simple de graphique linéaire\nconst SimpleLineChart = ({ data, title, color = '#198754' }) => {\n    if (!data || data.length === 0) return null;\n    \n    const maxValue = Math.max(...data.map(item => item.value));\n    const minValue = Math.min(...data.map(item => item.value));\n    const range = maxValue - minValue || 1;\n    \n    return (\n        <div className=\"simple-chart\">\n            <h6 className=\"text-center mb-3\">{title}</h6>\n            <div className=\"line-chart-container\" style={{ height: '200px', position: 'relative', padding: '20px' }}>\n                <svg width=\"100%\" height=\"100%\" style={{ position: 'absolute', top: 0, left: 0 }}>\n                    <polyline\n                        fill=\"none\"\n                        stroke={color}\n                        strokeWidth=\"2\"\n                        points={data.map((item, index) => {\n                            const x = (index / (data.length - 1)) * 100;\n                            const y = 100 - ((item.value - minValue) / range) * 80;\n                            return `${x}%,${y}%`;\n                        }).join(' ')}\n                    />\n                    {data.map((item, index) => {\n                        const x = (index / (data.length - 1)) * 100;\n                        const y = 100 - ((item.value - minValue) / range) * 80;\n                        return (\n                            <circle\n                                key={index}\n                                cx={`${x}%`}\n                                cy={`${y}%`}\n                                r=\"3\"\n                                fill={color}\n                            />\n                        );\n                    })}\n                </svg>\n            </div>\n            <div className=\"d-flex justify-content-between text-muted small\">\n                {data.map((item, index) => (\n                    <div key={index} style={{ transform: 'rotate(-45deg)', transformOrigin: 'center' }}>\n                        {item.label}\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst Stats = () => {\n    const { user } = useAuth();\n    const [stats, setStats] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [activeTab, setActiveTab] = useState('students');\n\n    useEffect(() => {\n        fetchStats();\n    }, []);\n\n    const fetchStats = async () => {\n        try {\n            setLoading(true);\n            setError('');\n            \n            const response = await secureApiEndpoints.stats.getGlobal();\n            \n            if (response.success) {\n                setStats(response.data);\n            } else {\n                setError(response.message || 'Erreur lors du chargement des statistiques');\n            }\n        } catch (error) {\n            console.error('Stats error:', error);\n            setError('Erreur lors du chargement des statistiques');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Configuration des couleurs\n    const colors = {\n        primary: '#0d6efd',\n        success: '#198754',\n        info: '#0dcaf0',\n        warning: '#ffc107',\n        danger: '#dc3545',\n        secondary: '#6c757d',\n        light: '#f8f9fa',\n        dark: '#212529'\n    };\n\n    // Graphique de répartition par genre (étudiants)\n    const renderStudentGenderChart = () => {\n        if (!stats?.students?.gender_distribution) return null;\n\n        const data = [\n            { label: 'Garçons', value: stats.students.gender_distribution.male },\n            { label: 'Filles', value: stats.students.gender_distribution.female }\n        ];\n\n        return <SimplePieChart \n            data={data} \n            title=\"Répartition par Genre\" \n            colors={[colors.info, colors.danger]} \n        />;\n    };\n\n    // Graphique de répartition par section (étudiants)\n    const renderStudentSectionChart = () => {\n        if (!stats?.students?.section_distribution || stats.students.section_distribution.length === 0) return null;\n\n        const data = stats.students.section_distribution.map(item => ({\n            label: item.section_name,\n            value: item.count\n        }));\n\n        return <SimpleBarChart \n            data={data} \n            title=\"Répartition par Section\" \n            color={colors.primary} \n        />;\n    };\n\n    // Graphique d'évolution mensuelle des étudiants\n    const renderStudentEvolutionChart = () => {\n        if (!stats?.students?.monthly_evolution || stats.students.monthly_evolution.length === 0) return null;\n\n        const data = stats.students.monthly_evolution.map(item => ({\n            label: item.month_name,\n            value: item.count\n        }));\n\n        return <SimpleLineChart \n            data={data} \n            title=\"Évolution des Inscriptions (12 derniers mois)\" \n            color={colors.success} \n        />;\n    };\n\n    // Graphique des classes les plus remplies\n    const renderTopClassesChart = () => {\n        if (!stats?.classes?.top_classes || stats.classes.top_classes.length === 0) return null;\n\n        const data = stats.classes.top_classes.map(item => ({\n            label: item.name,\n            value: item.students_count\n        }));\n\n        return <SimpleBarChart \n            data={data} \n            title=\"Classes avec le Plus d'Élèves\" \n            color={colors.success} \n        />;\n    };\n\n    // Graphique de taux d'occupation des séries\n    const renderOccupancyChart = () => {\n        if (!stats?.classes?.capacity_stats || stats.classes.capacity_stats.length === 0) return null;\n\n        return (\n            <div className=\"simple-chart\">\n                <h6 className=\"text-center mb-3\">Taux d'Occupation des Séries</h6>\n                <div className=\"occupancy-chart\">\n                    {stats.classes.capacity_stats.slice(0, 8).map((item, index) => {\n                        const color = item.occupancy_rate > 90 ? colors.danger : \n                                    item.occupancy_rate > 70 ? colors.warning : colors.success;\n                        return (\n                            <div key={index} className=\"d-flex align-items-center mb-2\">\n                                <div className=\"chart-label\" style={{ width: '120px', fontSize: '0.8rem' }}>\n                                    {item.series_name}\n                                </div>\n                                <div className=\"flex-grow-1 mx-2\" style={{ height: '20px', backgroundColor: '#e9ecef', borderRadius: '4px', position: 'relative' }}>\n                                    <div \n                                        style={{ \n                                            width: `${item.occupancy_rate}%`,\n                                            height: '100%',\n                                            backgroundColor: color,\n                                            borderRadius: '4px',\n                                            minWidth: '2px'\n                                        }}\n                                    ></div>\n                                </div>\n                                <div className=\"chart-value\" style={{ width: '50px', fontSize: '0.8rem', textAlign: 'right' }}>\n                                    {item.occupancy_rate.toFixed(1)}%\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        );\n    };\n\n    // Graphique de répartition par genre (enseignants) - Admin seulement\n    const renderTeacherGenderChart = () => {\n        if (!stats?.teachers?.gender_distribution) return null;\n\n        const data = [\n            { label: 'Hommes', value: stats.teachers.gender_distribution.male },\n            { label: 'Femmes', value: stats.teachers.gender_distribution.female }\n        ];\n\n        return <SimplePieChart \n            data={data} \n            title=\"Répartition par Genre\" \n            colors={[colors.warning, colors.info]} \n        />;\n    };\n\n    // Graphique de qualification des enseignants\n    const renderTeacherQualificationChart = () => {\n        if (!stats?.teachers?.qualification_distribution || stats.teachers.qualification_distribution.length === 0) return null;\n\n        const data = stats.teachers.qualification_distribution.map(item => ({\n            label: item.qualification,\n            value: item.count\n        }));\n\n        return <SimpleBarChart \n            data={data} \n            title=\"Répartition par Qualification\" \n            color={colors.warning} \n        />;\n    };\n\n    if (loading) {\n        return (\n            <Container fluid className=\"py-4\">\n                <div className=\"text-center\">\n                    <Spinner animation=\"border\" size=\"lg\" />\n                    <p className=\"mt-3\">Chargement des statistiques...</p>\n                </div>\n            </Container>\n        );\n    }\n\n    if (error) {\n        return (\n            <Container fluid className=\"py-4\">\n                <Alert variant=\"danger\">\n                    <Alert.Heading>Erreur</Alert.Heading>\n                    <p>{error}</p>\n                </Alert>\n            </Container>\n        );\n    }\n\n    return (\n        <Container fluid className=\"py-4\">\n            {/* Header */}\n            <Row className=\"mb-4\">\n                <Col>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <h2 className=\"h4 mb-1 d-flex align-items-center\">\n                                <BarChartFill size={24} className=\"me-2\" />\n                                Statistiques du Système\n                            </h2>\n                            <p className=\"text-muted mb-0\">\n                                Vue d'ensemble des données du système\n                                {stats?.meta?.current_year && <span> - {stats.meta.current_year}</span>}\n                            </p>\n                        </div>\n                        <Badge bg=\"info\">\n                            Dernière mise à jour: {new Date().toLocaleString('fr-FR')}\n                        </Badge>\n                    </div>\n                </Col>\n            </Row>\n\n            {/* Cards de résumé */}\n            <Row className=\"mb-4\">\n                <Col md={4}>\n                    <Card className=\"border-primary\">\n                        <Card.Body>\n                            <div className=\"d-flex align-items-center\">\n                                <div className=\"me-3\">\n                                    <Person size={32} className=\"text-primary\" />\n                                </div>\n                                <div>\n                                    <h5 className=\"mb-0\">{stats?.students?.total || 0}</h5>\n                                    <small className=\"text-muted\">Élèves Total</small>\n                                    <div>\n                                        <Badge bg=\"success\" className=\"me-1\">{stats?.students?.active || 0} actifs</Badge>\n                                        <Badge bg=\"secondary\">{stats?.students?.inactive || 0} inactifs</Badge>\n                                    </div>\n                                </div>\n                            </div>\n                        </Card.Body>\n                    </Card>\n                </Col>\n                <Col md={4}>\n                    <Card className=\"border-success\">\n                        <Card.Body>\n                            <div className=\"d-flex align-items-center\">\n                                <div className=\"me-3\">\n                                    <Building size={32} className=\"text-success\" />\n                                </div>\n                                <div>\n                                    <h5 className=\"mb-0\">{stats?.classes?.total_classes || 0}</h5>\n                                    <small className=\"text-muted\">Classes</small>\n                                    <div>\n                                        <Badge bg=\"info\">{stats?.classes?.total_series || 0} séries</Badge>\n                                    </div>\n                                </div>\n                            </div>\n                        </Card.Body>\n                    </Card>\n                </Col>\n                {user?.role === 'admin' && (\n                    <Col md={4}>\n                        <Card className=\"border-warning\">\n                            <Card.Body>\n                                <div className=\"d-flex align-items-center\">\n                                    <div className=\"me-3\">\n                                        <PersonFill size={32} className=\"text-warning\" />\n                                    </div>\n                                    <div>\n                                        <h5 className=\"mb-0\">{stats?.teachers?.total || 0}</h5>\n                                        <small className=\"text-muted\">Enseignants</small>\n                                        <div>\n                                            <Badge bg=\"success\" className=\"me-1\">{stats?.teachers?.active || 0} actifs</Badge>\n                                            <Badge bg=\"secondary\">{stats?.teachers?.inactive || 0} inactifs</Badge>\n                                        </div>\n                                    </div>\n                                </div>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                )}\n            </Row>\n\n            {/* Graphiques par onglets */}\n            <Card>\n                <Card.Body>\n                    <Tabs activeKey={activeTab} onSelect={setActiveTab}>\n                        {/* Onglet Élèves */}\n                        <Tab eventKey=\"students\" title={\n                            <span className='d-flex align-items-center'><Person className=\"me-2\" />Élèves</span>\n                        }>\n                            <Row className=\"mt-4\">\n                                <Col md={6}>\n                                    <Card className=\"h-100\">\n                                        <Card.Body>\n                                            {renderStudentGenderChart()}\n                                        </Card.Body>\n                                    </Card>\n                                </Col>\n                                <Col md={6}>\n                                    <Card className=\"h-100\">\n                                        <Card.Body>\n                                            {renderStudentSectionChart()}\n                                        </Card.Body>\n                                    </Card>\n                                </Col>\n                            </Row>\n                            <Row className=\"mt-4\">\n                                <Col>\n                                    <Card>\n                                        <Card.Body>\n                                            {renderStudentEvolutionChart()}\n                                        </Card.Body>\n                                    </Card>\n                                </Col>\n                            </Row>\n                        </Tab>\n\n                        {/* Onglet Classes */}\n                        <Tab eventKey=\"classes\" title={\n                            <span className='d-flex align-items-center'><Building className=\"me-2\" />Classes</span>\n                        }>\n                            <Row className=\"mt-4\">\n                                <Col md={6}>\n                                    <Card className=\"h-100\">\n                                        <Card.Body>\n                                            {renderTopClassesChart()}\n                                        </Card.Body>\n                                    </Card>\n                                </Col>\n                                <Col md={6}>\n                                    <Card className=\"h-100\">\n                                        <Card.Body>\n                                            {renderOccupancyChart()}\n                                        </Card.Body>\n                                    </Card>\n                                </Col>\n                            </Row>\n                        </Tab>\n\n                        {/* Onglet Enseignants - Admin seulement */}\n                        {user?.role === 'admin' && (\n                            <Tab eventKey=\"teachers\" title={\n                                <span className='d-flex align-items-center'><PersonFill className=\"me-2\" />Enseignants</span>\n                            }>\n                                <Row className=\"mt-4\">\n                                    <Col md={6}>\n                                        <Card className=\"h-100\">\n                                            <Card.Body>\n                                                {renderTeacherGenderChart()}\n                                            </Card.Body>\n                                        </Card>\n                                    </Col>\n                                    <Col md={6}>\n                                        <Card className=\"h-100\">\n                                            <Card.Body>\n                                                {renderTeacherQualificationChart()}\n                                            </Card.Body>\n                                        </Card>\n                                    </Col>\n                                </Row>\n                            </Tab>\n                        )}\n                    </Tabs>\n                </Card.Body>\n            </Card>\n        </Container>\n    );\n};\n\nexport default Stats;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}