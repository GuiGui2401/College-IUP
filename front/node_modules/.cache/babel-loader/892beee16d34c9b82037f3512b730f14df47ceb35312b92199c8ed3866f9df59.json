{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Plus,Edit,Trash2,Download,Search,BarChart3,TrendingUp,MessageCircle}from'lucide-react';import{useAuth}from'../../hooks/useAuth';import{host}from'../../utils/fetch';import InventoryDashboard from'./components/InventoryDashboard';import StockMovements from'./components/StockMovements';import WhatsAppAlerts from'./components/WhatsAppAlerts';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const InventoryFull=()=>{const{user}=useAuth();const[items,setItems]=useState([]);const[categories,setCategories]=useState([]);const[etats,setEtats]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');// Filtres\nconst[searchTerm,setSearchTerm]=useState('');const[filterCategory,setFilterCategory]=useState('');const[filterEtat,setFilterEtat]=useState('');// View mode\nconst[viewMode,setViewMode]=useState('list');// 'list', 'dashboard', ou 'alerts'\n// Modals\nconst[showAddModal,setShowAddModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[showDeleteModal,setShowDeleteModal]=useState(false);const[showStockModal,setShowStockModal]=useState(false);const[selectedItem,setSelectedItem]=useState(null);// Form data\nconst[formData,setFormData]=useState({nom:'',categorie:'',quantite:'',quantite_min:'',etat:'Bon',localisation:'',responsable:'',prix:'',date_achat:'',numero_serie:'',description:''});const API_BASE=`${host}/api`;const apiCall=async function(url){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const token=localStorage.getItem('token');return fetch(`${API_BASE}${url}`,{...options,headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json',...options.headers}});};const loadItems=async()=>{setLoading(true);setError('');try{const params=new URLSearchParams();if(searchTerm)params.append('search',searchTerm);if(filterCategory)params.append('category',filterCategory);if(filterEtat)params.append('etat',filterEtat);const response=await apiCall(`/inventory?${params.toString()}`);if(response.ok){const data=await response.json();if(data.success&&data.data&&data.data.data){setItems(data.data.data);}else{setItems([]);}}else{throw new Error(`Erreur HTTP: ${response.status}`);}}catch(err){console.error('Erreur lors du chargement:',err);setError('Erreur: '+err.message);setItems([]);}finally{setLoading(false);}};const loadConfig=async()=>{try{const response=await apiCall('/inventory/config');if(response.ok){const data=await response.json();if(data.success){setCategories(data.data.categories||[]);setEtats(data.data.etats||[]);}}}catch(err){console.error('Erreur lors du chargement de la config:',err);}};useEffect(()=>{loadItems();loadConfig();},[]);useEffect(()=>{const timer=setTimeout(()=>{loadItems();},300);return()=>clearTimeout(timer);},[searchTerm,filterCategory,filterEtat]);const resetForm=()=>{setFormData({nom:'',categorie:'',quantite:'',quantite_min:'',etat:'Bon',localisation:'',responsable:'',prix:'',date_achat:'',numero_serie:'',description:''});};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const articleData={nom:formData.nom,categorie:formData.categorie,quantite:parseInt(formData.quantite)||0,quantite_min:parseInt(formData.quantite_min)||0,etat:formData.etat,localisation:formData.localisation,responsable:formData.responsable,date_achat:formData.date_achat||null,prix:parseFloat(formData.prix)||0,numero_serie:formData.numero_serie||null,description:formData.description||null};let response;if(selectedItem){// Modification\nresponse=await apiCall(`/inventory/${selectedItem.id}`,{method:'PUT',body:JSON.stringify(articleData)});}else{// Création\nresponse=await apiCall('/inventory',{method:'POST',body:JSON.stringify(articleData)});}if(response.ok){const result=await response.json();if(result.success){setSuccess(selectedItem?'Article modifié avec succès !':'Article ajouté avec succès !');setShowAddModal(false);setShowEditModal(false);resetForm();setSelectedItem(null);await loadItems();}else{throw new Error(result.message||'Erreur lors de la sauvegarde');}}else{const errorData=await response.json();if(errorData.errors){const errorMessages=Object.values(errorData.errors).flat().join(', ');throw new Error(`Erreur de validation: ${errorMessages}`);}else{throw new Error(errorData.message||`Erreur HTTP: ${response.status}`);}}}catch(err){console.error('Erreur lors de la sauvegarde:',err);setError(err.message);}finally{setLoading(false);}};const handleEdit=item=>{var _item$quantite,_item$quantite_min,_item$prix;setSelectedItem(item);setFormData({nom:item.nom||'',categorie:item.categorie||'',quantite:((_item$quantite=item.quantite)===null||_item$quantite===void 0?void 0:_item$quantite.toString())||'',quantite_min:((_item$quantite_min=item.quantite_min)===null||_item$quantite_min===void 0?void 0:_item$quantite_min.toString())||'',etat:item.etat||'Bon',localisation:item.localisation||'',responsable:item.responsable||'',prix:((_item$prix=item.prix)===null||_item$prix===void 0?void 0:_item$prix.toString())||'',date_achat:item.date_achat||'',numero_serie:item.numero_serie||'',description:item.description||''});setShowEditModal(true);};const handleDeleteClick=item=>{setSelectedItem(item);setShowDeleteModal(true);};const confirmDelete=async()=>{setLoading(true);setError('');try{const response=await apiCall(`/inventory/${selectedItem.id}`,{method:'DELETE'});if(response.ok){const result=await response.json();if(result.success){setSuccess('Article supprimé avec succès !');setShowDeleteModal(false);setSelectedItem(null);await loadItems();}else{throw new Error(result.message||'Erreur lors de la suppression');}}else{throw new Error(`Erreur HTTP: ${response.status}`);}}catch(err){console.error('Erreur lors de la suppression:',err);setError(err.message);}finally{setLoading(false);}};const exportData=async()=>{try{const params=new URLSearchParams();if(searchTerm)params.append('search',searchTerm);if(filterCategory)params.append('category',filterCategory);if(filterEtat)params.append('etat',filterEtat);const response=await apiCall(`/inventory/export?${params.toString()}`);if(response.ok){const data=await response.json();if(data.success){const dataStr=JSON.stringify(data.data,null,2);const dataUri='data:application/json;charset=utf-8,'+encodeURIComponent(dataStr);const exportFileDefaultName=`inventaire_${new Date().toISOString().split('T')[0]}.json`;const linkElement=document.createElement('a');linkElement.setAttribute('href',dataUri);linkElement.setAttribute('download',exportFileDefaultName);linkElement.click();setSuccess(`Export réalisé avec succès (${data.count} articles)`);}}}catch(err){setError('Erreur lors de l\\'export: '+err.message);}};const getEtatColor=etat=>{switch(etat){case'Excellent':return'bg-success';case'Bon':return'bg-primary';case'Moyen':return'bg-warning';case'Mauvais':return'bg-danger';case'Hors service':return'bg-dark';default:return'bg-secondary';}};const filteredItems=items.filter(item=>{var _item$nom,_item$localisation,_item$responsable;const matchSearch=searchTerm===''||((_item$nom=item.nom)===null||_item$nom===void 0?void 0:_item$nom.toLowerCase().includes(searchTerm.toLowerCase()))||((_item$localisation=item.localisation)===null||_item$localisation===void 0?void 0:_item$localisation.toLowerCase().includes(searchTerm.toLowerCase()))||((_item$responsable=item.responsable)===null||_item$responsable===void 0?void 0:_item$responsable.toLowerCase().includes(searchTerm.toLowerCase()));const matchCategory=!filterCategory||item.categorie===filterCategory;const matchEtat=!filterEtat||item.etat===filterEtat;return matchSearch&&matchCategory&&matchEtat;});return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"\\uD83D\\uDCE6 Gestion d'Inventaire\"}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Bienvenue \",user===null||user===void 0?void 0:user.name,\" - G\\xE9rez l'inventaire des \\xE9quipements\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group me-2\",role:\"group\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`btn ${viewMode==='dashboard'?'btn-primary':'btn-outline-primary'}`,onClick:()=>setViewMode('dashboard'),children:[/*#__PURE__*/_jsx(BarChart3,{size:16,className:\"me-1\"}),\"Dashboard\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`btn ${viewMode==='list'?'btn-primary':'btn-outline-primary'}`,onClick:()=>setViewMode('list'),children:[/*#__PURE__*/_jsx(Search,{size:16,className:\"me-1\"}),\"Liste\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`btn ${viewMode==='alerts'?'btn-success':'btn-outline-success'}`,onClick:()=>setViewMode('alerts'),children:[/*#__PURE__*/_jsx(MessageCircle,{size:16,className:\"me-1\"}),\"Alertes\"]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-light btn-sm\",onClick:exportData,disabled:loading,children:[/*#__PURE__*/_jsx(Download,{size:16,className:\"me-1\"}),\"Export JSON\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success\",onClick:()=>{resetForm();setShowAddModal(true);},children:[/*#__PURE__*/_jsx(Plus,{size:16,className:\"me-1\"}),\"Nouvel Article\"]})]})]})}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger alert-dismissible fade show\",children:[error,/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setError('')})]}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success alert-dismissible fade show\",children:[success,/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setSuccess('')})]}),viewMode==='dashboard'?/*#__PURE__*/_jsx(InventoryDashboard,{onRefresh:loadItems}):viewMode==='alerts'?/*#__PURE__*/_jsx(WhatsAppAlerts,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Recherche\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\",size:16}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control ps-5\",placeholder:\"Rechercher un article...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Cat\\xE9gorie\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:filterCategory,onChange:e=>setFilterCategory(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes cat\\xE9gories\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xC9tat\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:filterEtat,onChange:e=>setFilterEtat(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tous \\xE9tats\"}),etats.map(etat=>/*#__PURE__*/_jsx(\"option\",{value:etat,children:etat},etat))]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[\"Liste des articles (\",filteredItems.length,\")\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Article\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cat\\xE9gorie\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantit\\xE9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\xC9tat\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Localisation\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Responsable\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[loading&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"text-center py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Chargement...\"})})})}),!loading&&filteredItems.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",className:\"text-center text-muted py-4\",children:\"Aucun article trouv\\xE9 avec ces crit\\xE8res de recherche\"})}),filteredItems.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:item.nom}),item.numero_serie&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"N\\xB0 \",item.numero_serie]})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:item.categorie})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:item.quantite<=(item.quantite_min||0)?'text-danger fw-bold':'',children:item.quantite}),item.quantite_min&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\" / \",item.quantite_min,\" min\"]}),item.quantite<=(item.quantite_min||0)&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"small\",{className:\"badge bg-warning\",children:\"Stock faible\"})})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:`badge ${getEtatColor(item.etat)}`,children:item.etat})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-muted small\",children:item.localisation||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"text-muted small\",children:item.responsable||'-'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group btn-group-sm\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-info\",onClick:()=>{setSelectedItem(item);setShowStockModal(true);},title:\"G\\xE9rer Stock\",children:/*#__PURE__*/_jsx(TrendingUp,{size:14})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:()=>handleEdit(item),title:\"Modifier\",children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger\",onClick:()=>handleDeleteClick(item),title:\"Supprimer\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})})]},item.id))]})]})})]}),(showAddModal||showEditModal)&&/*#__PURE__*/_jsx(\"div\",{className:\"modal fade show\",style:{display:'block'},tabIndex:\"-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:selectedItem?'Modifier l\\'article':'Ajouter un article'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowAddModal(false);setShowEditModal(false);setSelectedItem(null);resetForm();}})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Nom de l'article *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:formData.nom,onChange:e=>setFormData({...formData,nom:e.target.value}),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Cat\\xE9gorie *\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:formData.categorie,onChange:e=>setFormData({...formData,categorie:e.target.value}),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une cat\\xE9gorie\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Quantit\\xE9 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:formData.quantite,onChange:e=>setFormData({...formData,quantite:e.target.value}),min:\"0\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Quantit\\xE9 minimale *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:formData.quantite_min,onChange:e=>setFormData({...formData,quantite_min:e.target.value}),min:\"0\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\xC9tat *\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select\",value:formData.etat,onChange:e=>setFormData({...formData,etat:e.target.value}),required:true,children:etats.map(etat=>/*#__PURE__*/_jsx(\"option\",{value:etat,children:etat},etat))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Localisation *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:formData.localisation,onChange:e=>setFormData({...formData,localisation:e.target.value}),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Responsable *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:formData.responsable,onChange:e=>setFormData({...formData,responsable:e.target.value}),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Prix unitaire (FCFA)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:formData.prix,onChange:e=>setFormData({...formData,prix:e.target.value}),min:\"0\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Date d'achat\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:formData.date_achat,onChange:e=>setFormData({...formData,date_achat:e.target.value})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Num\\xE9ro de s\\xE9rie\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:formData.numero_serie,onChange:e=>setFormData({...formData,numero_serie:e.target.value})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",rows:\"3\",value:formData.description,onChange:e=>setFormData({...formData,description:e.target.value})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowAddModal(false);setShowEditModal(false);setSelectedItem(null);resetForm();},children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Enregistrement...':selectedItem?'Modifier':'Ajouter'})]})]})]})})}),showStockModal&&selectedItem&&/*#__PURE__*/_jsx(\"div\",{className:\"modal fade show\",style:{display:'block'},tabIndex:\"-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title\",children:[\"Gestion des Stocks - \",selectedItem.nom]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowStockModal(false);setSelectedItem(null);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(StockMovements,{item:selectedItem,onMovementRecorded:updatedItem=>{// Mettre à jour l'item dans la liste\nsetItems(prevItems=>prevItems.map(item=>item.id===updatedItem.id?updatedItem:item));setSelectedItem(updatedItem);}})})]})})}),showDeleteModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal fade show\",style:{display:'block'},tabIndex:\"-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:\"Supprimer l'article\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowDeleteModal(false);setSelectedItem(null);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\xCAtes-vous s\\xFBr de vouloir supprimer cet article ?\"}),selectedItem&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning\",children:[/*#__PURE__*/_jsx(\"strong\",{children:selectedItem.nom}),\" - \",selectedItem.categorie,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"Cette action est irr\\xE9versible.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowDeleteModal(false);setSelectedItem(null);},children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:confirmDelete,disabled:loading,children:loading?'Suppression...':'Supprimer'})]})]})})})]}),(showAddModal||showEditModal||showDeleteModal||showStockModal)&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop fade show\"})]})})});};export default InventoryFull;","map":{"version":3,"names":["React","useState","useEffect","Plus","Edit","Trash2","Download","Search","BarChart3","TrendingUp","MessageCircle","useAuth","host","InventoryDashboard","StockMovements","WhatsAppAlerts","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InventoryFull","user","items","setItems","categories","setCategories","etats","setEtats","loading","setLoading","error","setError","success","setSuccess","searchTerm","setSearchTerm","filterCategory","setFilterCategory","filterEtat","setFilterEtat","viewMode","setViewMode","showAddModal","setShowAddModal","showEditModal","setShowEditModal","showDeleteModal","setShowDeleteModal","showStockModal","setShowStockModal","selectedItem","setSelectedItem","formData","setFormData","nom","categorie","quantite","quantite_min","etat","localisation","responsable","prix","date_achat","numero_serie","description","API_BASE","apiCall","url","options","arguments","length","undefined","token","localStorage","getItem","fetch","headers","loadItems","params","URLSearchParams","append","response","toString","ok","data","json","Error","status","err","console","message","loadConfig","timer","setTimeout","clearTimeout","resetForm","handleSubmit","e","preventDefault","articleData","parseInt","parseFloat","id","method","body","JSON","stringify","result","errorData","errors","errorMessages","Object","values","flat","join","handleEdit","item","_item$quantite","_item$quantite_min","_item$prix","handleDeleteClick","confirmDelete","exportData","dataStr","dataUri","encodeURIComponent","exportFileDefaultName","Date","toISOString","split","linkElement","document","createElement","setAttribute","click","count","getEtatColor","filteredItems","filter","_item$nom","_item$localisation","_item$responsable","matchSearch","toLowerCase","includes","matchCategory","matchEtat","className","children","name","role","type","onClick","size","disabled","onRefresh","placeholder","value","onChange","target","map","cat","colSpan","title","style","display","tabIndex","onSubmit","required","min","rows","onMovementRecorded","updatedItem","prevItems"],"sources":["/var/www/College-IUP/front/src/pages/Inventory/InventoryFull.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Plus, Edit, Trash2, Download, Search, BarChart3, TrendingUp, MessageCircle } from 'lucide-react';\nimport { useAuth } from '../../hooks/useAuth';\nimport { host } from '../../utils/fetch';\nimport InventoryDashboard from './components/InventoryDashboard';\nimport StockMovements from './components/StockMovements';\nimport WhatsAppAlerts from './components/WhatsAppAlerts';\n\nconst InventoryFull = () => {\n  const { user } = useAuth();\n  const [items, setItems] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [etats, setEtats] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  \n  // Filtres\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('');\n  const [filterEtat, setFilterEtat] = useState('');\n  \n  // View mode\n  const [viewMode, setViewMode] = useState('list'); // 'list', 'dashboard', ou 'alerts'\n  \n  // Modals\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [showStockModal, setShowStockModal] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  \n  // Form data\n  const [formData, setFormData] = useState({\n    nom: '',\n    categorie: '',\n    quantite: '',\n    quantite_min: '',\n    etat: 'Bon',\n    localisation: '',\n    responsable: '',\n    prix: '',\n    date_achat: '',\n    numero_serie: '',\n    description: ''\n  });\n\n  const API_BASE =  `${host}/api`;\n  const apiCall = async (url, options = {}) => {\n    const token = localStorage.getItem('token');\n    return fetch(`${API_BASE}${url}`, {\n      ...options,\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n        ...options.headers\n      }\n    });\n  };\n\n  const loadItems = async () => {\n    setLoading(true);\n    setError('');\n    \n    try {\n      const params = new URLSearchParams();\n      if (searchTerm) params.append('search', searchTerm);\n      if (filterCategory) params.append('category', filterCategory);\n      if (filterEtat) params.append('etat', filterEtat);\n      \n      const response = await apiCall(`/inventory?${params.toString()}`);\n      \n      if (response.ok) {\n        const data = await response.json();\n        if (data.success && data.data && data.data.data) {\n          setItems(data.data.data);\n        } else {\n          setItems([]);\n        }\n      } else {\n        throw new Error(`Erreur HTTP: ${response.status}`);\n      }\n    } catch (err) {\n      console.error('Erreur lors du chargement:', err);\n      setError('Erreur: ' + err.message);\n      setItems([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadConfig = async () => {\n    try {\n      const response = await apiCall('/inventory/config');\n      \n      if (response.ok) {\n        const data = await response.json();\n        if (data.success) {\n          setCategories(data.data.categories || []);\n          setEtats(data.data.etats || []);\n        }\n      }\n    } catch (err) {\n      console.error('Erreur lors du chargement de la config:', err);\n    }\n  };\n\n  useEffect(() => {\n    loadItems();\n    loadConfig();\n  }, []);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      loadItems();\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [searchTerm, filterCategory, filterEtat]);\n\n  const resetForm = () => {\n    setFormData({\n      nom: '',\n      categorie: '',\n      quantite: '',\n      quantite_min: '',\n      etat: 'Bon',\n      localisation: '',\n      responsable: '',\n      prix: '',\n      date_achat: '',\n      numero_serie: '',\n      description: ''\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    \n    try {\n      const articleData = {\n        nom: formData.nom,\n        categorie: formData.categorie,\n        quantite: parseInt(formData.quantite) || 0,\n        quantite_min: parseInt(formData.quantite_min) || 0,\n        etat: formData.etat,\n        localisation: formData.localisation,\n        responsable: formData.responsable,\n        date_achat: formData.date_achat || null,\n        prix: parseFloat(formData.prix) || 0,\n        numero_serie: formData.numero_serie || null,\n        description: formData.description || null\n      };\n\n      let response;\n      if (selectedItem) {\n        // Modification\n        response = await apiCall(`/inventory/${selectedItem.id}`, {\n          method: 'PUT',\n          body: JSON.stringify(articleData)\n        });\n      } else {\n        // Création\n        response = await apiCall('/inventory', {\n          method: 'POST',\n          body: JSON.stringify(articleData)\n        });\n      }\n\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success) {\n          setSuccess(selectedItem ? 'Article modifié avec succès !' : 'Article ajouté avec succès !');\n          setShowAddModal(false);\n          setShowEditModal(false);\n          resetForm();\n          setSelectedItem(null);\n          await loadItems();\n        } else {\n          throw new Error(result.message || 'Erreur lors de la sauvegarde');\n        }\n      } else {\n        const errorData = await response.json();\n        if (errorData.errors) {\n          const errorMessages = Object.values(errorData.errors).flat().join(', ');\n          throw new Error(`Erreur de validation: ${errorMessages}`);\n        } else {\n          throw new Error(errorData.message || `Erreur HTTP: ${response.status}`);\n        }\n      }\n    } catch (err) {\n      console.error('Erreur lors de la sauvegarde:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (item) => {\n    setSelectedItem(item);\n    setFormData({\n      nom: item.nom || '',\n      categorie: item.categorie || '',\n      quantite: item.quantite?.toString() || '',\n      quantite_min: item.quantite_min?.toString() || '',\n      etat: item.etat || 'Bon',\n      localisation: item.localisation || '',\n      responsable: item.responsable || '',\n      prix: item.prix?.toString() || '',\n      date_achat: item.date_achat || '',\n      numero_serie: item.numero_serie || '',\n      description: item.description || ''\n    });\n    setShowEditModal(true);\n  };\n\n  const handleDeleteClick = (item) => {\n    setSelectedItem(item);\n    setShowDeleteModal(true);\n  };\n\n  const confirmDelete = async () => {\n    setLoading(true);\n    setError('');\n    \n    try {\n      const response = await apiCall(`/inventory/${selectedItem.id}`, {\n        method: 'DELETE'\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success) {\n          setSuccess('Article supprimé avec succès !');\n          setShowDeleteModal(false);\n          setSelectedItem(null);\n          await loadItems();\n        } else {\n          throw new Error(result.message || 'Erreur lors de la suppression');\n        }\n      } else {\n        throw new Error(`Erreur HTTP: ${response.status}`);\n      }\n    } catch (err) {\n      console.error('Erreur lors de la suppression:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const exportData = async () => {\n    try {\n      const params = new URLSearchParams();\n      if (searchTerm) params.append('search', searchTerm);\n      if (filterCategory) params.append('category', filterCategory);\n      if (filterEtat) params.append('etat', filterEtat);\n\n      const response = await apiCall(`/inventory/export?${params.toString()}`);\n      \n      if (response.ok) {\n        const data = await response.json();\n        if (data.success) {\n          const dataStr = JSON.stringify(data.data, null, 2);\n          const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\n          \n          const exportFileDefaultName = `inventaire_${new Date().toISOString().split('T')[0]}.json`;\n          \n          const linkElement = document.createElement('a');\n          linkElement.setAttribute('href', dataUri);\n          linkElement.setAttribute('download', exportFileDefaultName);\n          linkElement.click();\n          \n          setSuccess(`Export réalisé avec succès (${data.count} articles)`);\n        }\n      }\n    } catch (err) {\n      setError('Erreur lors de l\\'export: ' + err.message);\n    }\n  };\n\n  const getEtatColor = (etat) => {\n    switch(etat) {\n      case 'Excellent': return 'bg-success';\n      case 'Bon': return 'bg-primary';\n      case 'Moyen': return 'bg-warning';\n      case 'Mauvais': return 'bg-danger';\n      case 'Hors service': return 'bg-dark';\n      default: return 'bg-secondary';\n    }\n  };\n\n  const filteredItems = items.filter(item => {\n    const matchSearch = searchTerm === '' || \n                       item.nom?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                       item.localisation?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                       item.responsable?.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchCategory = !filterCategory || item.categorie === filterCategory;\n    const matchEtat = !filterEtat || item.etat === filterEtat;\n    return matchSearch && matchCategory && matchEtat;\n  });\n\n  return (\n    <div className=\"container-fluid py-4\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n          {/* Header */}\n          <div className=\"card mb-4\">\n            <div className=\"card-header d-flex justify-content-between align-items-center\">\n              <div>\n                <h3 className=\"mb-0\">📦 Gestion d'Inventaire</h3>\n                <small>Bienvenue {user?.name} - Gérez l'inventaire des équipements</small>\n              </div>\n              <div className=\"d-flex gap-2\">\n                <div className=\"btn-group me-2\" role=\"group\">\n                  <button \n                    type=\"button\" \n                    className={`btn ${viewMode === 'dashboard' ? 'btn-primary' : 'btn-outline-primary'}`}\n                    onClick={() => setViewMode('dashboard')}\n                  >\n                    <BarChart3 size={16} className=\"me-1\" />\n                    Dashboard\n                  </button>\n                  <button \n                    type=\"button\" \n                    className={`btn ${viewMode === 'list' ? 'btn-primary' : 'btn-outline-primary'}`}\n                    onClick={() => setViewMode('list')}\n                  >\n                    <Search size={16} className=\"me-1\" />\n                    Liste\n                  </button>\n                  <button \n                    type=\"button\" \n                    className={`btn ${viewMode === 'alerts' ? 'btn-success' : 'btn-outline-success'}`}\n                    onClick={() => setViewMode('alerts')}\n                  >\n                    <MessageCircle size={16} className=\"me-1\" />\n                    Alertes\n                  </button>\n                </div>\n                <button \n                  className=\"btn btn-light btn-sm\" \n                  onClick={exportData}\n                  disabled={loading}\n                >\n                  <Download size={16} className=\"me-1\" />\n                  Export JSON\n                </button>\n                <button \n                  className=\"btn btn-success\"\n                  onClick={() => {\n                    resetForm();\n                    setShowAddModal(true);\n                  }}\n                >\n                  <Plus size={16} className=\"me-1\" />\n                  Nouvel Article\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Alerts */}\n          {error && (\n            <div className=\"alert alert-danger alert-dismissible fade show\">\n              {error}\n              <button type=\"button\" className=\"btn-close\" onClick={() => setError('')}></button>\n            </div>\n          )}\n          \n          {success && (\n            <div className=\"alert alert-success alert-dismissible fade show\">\n              {success}\n              <button type=\"button\" className=\"btn-close\" onClick={() => setSuccess('')}></button>\n            </div>\n          )}\n\n          {/* Dashboard, Liste ou Alertes selon le mode */}\n          {viewMode === 'dashboard' ? (\n            <InventoryDashboard onRefresh={loadItems} />\n          ) : viewMode === 'alerts' ? (\n            <WhatsAppAlerts />\n          ) : (\n            <>\n              {/* Filtres */}\n              <div className=\"card mb-4\">\n                <div className=\"card-body\">\n                  <div className=\"row\">\n                    <div className=\"col-md-4\">\n                      <label className=\"form-label\">Recherche</label>\n                      <div className=\"position-relative\">\n                        <Search className=\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\" size={16} />\n                        <input\n                          type=\"text\"\n                          className=\"form-control ps-5\"\n                          placeholder=\"Rechercher un article...\"\n                          value={searchTerm}\n                          onChange={(e) => setSearchTerm(e.target.value)}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-md-4\">\n                      <label className=\"form-label\">Catégorie</label>\n                      <select\n                        className=\"form-select\"\n                        value={filterCategory}\n                        onChange={(e) => setFilterCategory(e.target.value)}\n                      >\n                        <option value=\"\">Toutes catégories</option>\n                        {categories.map(cat => (\n                          <option key={cat} value={cat}>{cat}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"col-md-4\">\n                      <label className=\"form-label\">État</label>\n                      <select\n                        className=\"form-select\"\n                        value={filterEtat}\n                        onChange={(e) => setFilterEtat(e.target.value)}\n                      >\n                        <option value=\"\">Tous états</option>\n                        {etats.map(etat => (\n                          <option key={etat} value={etat}>{etat}</option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Tableau */}\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h5 className=\"mb-0\">Liste des articles ({filteredItems.length})</h5>\n                </div>\n            <div className=\"table-responsive\">\n              <table className=\"table table-hover mb-0\">\n                <thead className=\"table-light\">\n                  <tr>\n                    <th>Article</th>\n                    <th>Catégorie</th>\n                    <th>Quantité</th>\n                    <th>État</th>\n                    <th>Localisation</th>\n                    <th>Responsable</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {loading && (\n                    <tr>\n                      <td colSpan=\"7\" className=\"text-center py-4\">\n                        <div className=\"spinner-border text-primary\" role=\"status\">\n                          <span className=\"visually-hidden\">Chargement...</span>\n                        </div>\n                      </td>\n                    </tr>\n                  )}\n                  \n                  {!loading && filteredItems.length === 0 && (\n                    <tr>\n                      <td colSpan=\"7\" className=\"text-center text-muted py-4\">\n                        Aucun article trouvé avec ces critères de recherche\n                      </td>\n                    </tr>\n                  )}\n                  \n                  {filteredItems.map((item) => (\n                    <tr key={item.id}>\n                      <td>\n                        <div>\n                          <div className=\"fw-bold\">{item.nom}</div>\n                          {item.numero_serie && (\n                            <small className=\"text-muted\">N° {item.numero_serie}</small>\n                          )}\n                        </div>\n                      </td>\n                      <td>\n                        <span className=\"badge bg-secondary\">{item.categorie}</span>\n                      </td>\n                      <td>\n                        <div>\n                          <span className={item.quantite <= (item.quantite_min || 0) ? 'text-danger fw-bold' : ''}>\n                            {item.quantite}\n                          </span>\n                          {item.quantite_min && (\n                            <small className=\"text-muted\"> / {item.quantite_min} min</small>\n                          )}\n                          {item.quantite <= (item.quantite_min || 0) && (\n                            <div><small className=\"badge bg-warning\">Stock faible</small></div>\n                          )}\n                        </div>\n                      </td>\n                      <td>\n                        <span className={`badge ${getEtatColor(item.etat)}`}>\n                          {item.etat}\n                        </span>\n                      </td>\n                      <td className=\"text-muted small\">{item.localisation || '-'}</td>\n                      <td className=\"text-muted small\">{item.responsable || '-'}</td>\n                      <td>\n                        <div className=\"btn-group btn-group-sm\">\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-outline-info\"\n                            onClick={() => {\n                              setSelectedItem(item);\n                              setShowStockModal(true);\n                            }}\n                            title=\"Gérer Stock\"\n                          >\n                            <TrendingUp size={14} />\n                          </button>\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-outline-primary\"\n                            onClick={() => handleEdit(item)}\n                            title=\"Modifier\"\n                          >\n                            <Edit size={14} />\n                          </button>\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-outline-danger\"\n                            onClick={() => handleDeleteClick(item)}\n                            title=\"Supprimer\"\n                          >\n                            <Trash2 size={14} />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          {/* Modal Ajout/Modification */}\n          {(showAddModal || showEditModal) && (\n            <div className=\"modal fade show\" style={{display: 'block'}} tabIndex=\"-1\">\n              <div className=\"modal-dialog modal-lg\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header\">\n                    <h5 className=\"modal-title\">\n                      {selectedItem ? 'Modifier l\\'article' : 'Ajouter un article'}\n                    </h5>\n                    <button \n                      type=\"button\" \n                      className=\"btn-close\" \n                      onClick={() => {\n                        setShowAddModal(false);\n                        setShowEditModal(false);\n                        setSelectedItem(null);\n                        resetForm();\n                      }}\n                    ></button>\n                  </div>\n                  <form onSubmit={handleSubmit}>\n                    <div className=\"modal-body\">\n                      <div className=\"row\">\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Nom de l'article *</label>\n                            <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              value={formData.nom}\n                              onChange={(e) => setFormData({...formData, nom: e.target.value})}\n                              required\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Catégorie *</label>\n                            <select\n                              className=\"form-select\"\n                              value={formData.categorie}\n                              onChange={(e) => setFormData({...formData, categorie: e.target.value})}\n                              required\n                            >\n                              <option value=\"\">Sélectionner une catégorie</option>\n                              {categories.map(cat => (\n                                <option key={cat} value={cat}>{cat}</option>\n                              ))}\n                            </select>\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Quantité *</label>\n                            <input\n                              type=\"number\"\n                              className=\"form-control\"\n                              value={formData.quantite}\n                              onChange={(e) => setFormData({...formData, quantite: e.target.value})}\n                              min=\"0\"\n                              required\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Quantité minimale *</label>\n                            <input\n                              type=\"number\"\n                              className=\"form-control\"\n                              value={formData.quantite_min}\n                              onChange={(e) => setFormData({...formData, quantite_min: e.target.value})}\n                              min=\"0\"\n                              required\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">État *</label>\n                            <select\n                              className=\"form-select\"\n                              value={formData.etat}\n                              onChange={(e) => setFormData({...formData, etat: e.target.value})}\n                              required\n                            >\n                              {etats.map(etat => (\n                                <option key={etat} value={etat}>{etat}</option>\n                              ))}\n                            </select>\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Localisation *</label>\n                            <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              value={formData.localisation}\n                              onChange={(e) => setFormData({...formData, localisation: e.target.value})}\n                              required\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Responsable *</label>\n                            <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              value={formData.responsable}\n                              onChange={(e) => setFormData({...formData, responsable: e.target.value})}\n                              required\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Prix unitaire (FCFA)</label>\n                            <input\n                              type=\"number\"\n                              className=\"form-control\"\n                              value={formData.prix}\n                              onChange={(e) => setFormData({...formData, prix: e.target.value})}\n                              min=\"0\"\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Date d'achat</label>\n                            <input\n                              type=\"date\"\n                              className=\"form-control\"\n                              value={formData.date_achat}\n                              onChange={(e) => setFormData({...formData, date_achat: e.target.value})}\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Numéro de série</label>\n                            <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              value={formData.numero_serie}\n                              onChange={(e) => setFormData({...formData, numero_serie: e.target.value})}\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col-12\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label\">Description</label>\n                            <textarea\n                              className=\"form-control\"\n                              rows=\"3\"\n                              value={formData.description}\n                              onChange={(e) => setFormData({...formData, description: e.target.value})}\n                            ></textarea>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"modal-footer\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-secondary\"\n                        onClick={() => {\n                          setShowAddModal(false);\n                          setShowEditModal(false);\n                          setSelectedItem(null);\n                          resetForm();\n                        }}\n                      >\n                        Annuler\n                      </button>\n                      <button\n                        type=\"submit\"\n                        className=\"btn btn-primary\"\n                        disabled={loading}\n                      >\n                        {loading ? 'Enregistrement...' : (selectedItem ? 'Modifier' : 'Ajouter')}\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Modal Gestion Stock */}\n          {showStockModal && selectedItem && (\n            <div className=\"modal fade show\" style={{display: 'block'}} tabIndex=\"-1\">\n              <div className=\"modal-dialog modal-xl\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header\">\n                    <h5 className=\"modal-title\">Gestion des Stocks - {selectedItem.nom}</h5>\n                    <button \n                      type=\"button\" \n                      className=\"btn-close\" \n                      onClick={() => {\n                        setShowStockModal(false);\n                        setSelectedItem(null);\n                      }}\n                    ></button>\n                  </div>\n                  <div className=\"modal-body\">\n                    <StockMovements \n                      item={selectedItem} \n                      onMovementRecorded={(updatedItem) => {\n                        // Mettre à jour l'item dans la liste\n                        setItems(prevItems => \n                          prevItems.map(item => \n                            item.id === updatedItem.id ? updatedItem : item\n                          )\n                        );\n                        setSelectedItem(updatedItem);\n                      }}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Modal Suppression */}\n          {showDeleteModal && (\n            <div className=\"modal fade show\" style={{display: 'block'}} tabIndex=\"-1\">\n              <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header\">\n                    <h5 className=\"modal-title\">Supprimer l'article</h5>\n                    <button \n                      type=\"button\" \n                      className=\"btn-close\" \n                      onClick={() => {\n                        setShowDeleteModal(false);\n                        setSelectedItem(null);\n                      }}\n                    ></button>\n                  </div>\n                  <div className=\"modal-body\">\n                    <p>Êtes-vous sûr de vouloir supprimer cet article ?</p>\n                    {selectedItem && (\n                      <div className=\"alert alert-warning\">\n                        <strong>{selectedItem.nom}</strong> - {selectedItem.categorie}\n                        <br />\n                        <small>Cette action est irréversible.</small>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"modal-footer\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary\"\n                      onClick={() => {\n                        setShowDeleteModal(false);\n                        setSelectedItem(null);\n                      }}\n                    >\n                      Annuler\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-danger\"\n                      onClick={confirmDelete}\n                      disabled={loading}\n                    >\n                      {loading ? 'Suppression...' : 'Supprimer'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n          \n            </>\n          )}\n\n          {/* Background overlay pour les modals */}\n          {(showAddModal || showEditModal || showDeleteModal || showStockModal) && (\n            <div className=\"modal-backdrop fade show\"></div>\n          )}\n\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InventoryFull;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}