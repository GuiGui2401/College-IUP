{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Button,Form,Alert,Spinner,Badge,ListGroup}from'react-bootstrap';import{ArrowLeft,Send,Save,PersonFill,ExclamationTriangle,InfoCircle,CheckCircle}from'react-bootstrap-icons';import{Link,useNavigate}from'react-router-dom';import{authService}from'../../services/authService';import{extractErrorMessage}from'../../utils/errorHandler';import{host}from'../../utils/fetch';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NouvelleDemande=()=>{var _typeOptions$find,_priorityOptions$find;const navigate=useNavigate();// États pour le formulaire\nconst[formData,setFormData]=useState({destinataire_id:'',sujet:'',message:'',type:'autre',priorite:'normale',notes_internes:''});// États pour l'interface\nconst[personnel,setPersonnel]=useState([]);const[loading,setLoading]=useState(false);const[loadingPersonnel,setLoadingPersonnel]=useState(true);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[validated,setValidated]=useState(false);// Options de configuration\nconst typeOptions=[{value:'financier',label:'Financier',description:'Questions financières, comptabilité'},{value:'absence',label:'Absence',description:'Justification d\\'absences'},{value:'retard',label:'Retard',description:'Retards répétés'},{value:'disciplinaire',label:'Disciplinaire',description:'Questions disciplinaires'},{value:'autre',label:'Autre',description:'Autres motifs'}];const priorityOptions=[{value:'basse',label:'Basse',color:'success',description:'Non urgent, peut attendre'},{value:'normale',label:'Normale',color:'info',description:'Priorité standard'},{value:'haute',label:'Haute',color:'warning',description:'Nécessite attention rapide'},{value:'urgente',label:'Urgente',color:'danger',description:'Réponse immédiate requise'}];// Charger la liste du personnel\nuseEffect(()=>{const loadPersonnel=async()=>{try{setLoadingPersonnel(true);const response=await fetch(`${host}/api/demandes-explication/personnel`,{method:'GET',headers:{'Authorization':`Bearer ${authService.getToken()}`,'Accept':'application/json'}});if(response.ok){const data=await response.json();if(data.success){setPersonnel(data.data||[]);}}else{setError('Erreur lors du chargement de la liste du personnel');}}catch(error){setError('Erreur lors du chargement de la liste du personnel');}finally{setLoadingPersonnel(false);}};loadPersonnel();},[]);// Gérer les changements de formulaire\nconst handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Réinitialiser la validation si l'utilisateur modifie\nif(validated){setValidated(false);}};// Valider le formulaire\nconst validateForm=()=>{const errors={};if(!formData.destinataire_id){errors.destinataire_id='Veuillez sélectionner un destinataire';}if(!formData.sujet.trim()){errors.sujet='Le sujet est obligatoire';}else if(formData.sujet.length>255){errors.sujet='Le sujet ne peut pas dépasser 255 caractères';}if(!formData.message.trim()){errors.message='Le message est obligatoire';}return errors;};// Envoyer la demande\nconst handleSubmit=async function(){let envoiImmediat=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;const errors=validateForm();if(Object.keys(errors).length>0){setValidated(true);setError('Veuillez corriger les erreurs du formulaire');return;}try{setLoading(true);setError('');setSuccess('');const submitData={...formData,envoi_immediat:envoiImmediat};const response=await fetch(`${host}/api/demandes-explication`,{method:'POST',headers:{'Authorization':`Bearer ${authService.getToken()}`,'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify(submitData)});const data=await response.json();if(data.success){setSuccess(data.message);if(envoiImmediat){// Rediriger après 2 secondes\nsetTimeout(()=>{navigate('/demandes-explication');},2000);}else{// Réinitialiser le formulaire pour un nouveau brouillon\nsetFormData({destinataire_id:'',sujet:'',message:'',type:'autre',priorite:'normale',notes_internes:''});}}else{setError(data.message||'Erreur lors de l\\'envoi');if(data.errors){// Afficher les erreurs de validation\nconst errorMessages=Object.values(data.errors).flat().join(', ');setError(errorMessages);}}}catch(error){setError(extractErrorMessage(error));}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"py-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",as:Link,to:\"/demandes-explication\",className:\"me-3 d-flex align-items-center gap-2\",size:\"sm\",children:[/*#__PURE__*/_jsx(ArrowLeft,{}),\"Retour\"]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"d-inline-flex align-items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(ExclamationTriangle,{className:\"text-warning\"}),\"Nouvelle Demande d'Explication\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Cr\\xE9er une demande d'explication \\xE0 envoyer au personnel\"})]})})})}),error&&/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",dismissible:true,onClose:()=>setError(''),className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Erreur:\"}),\" \",error]}),success&&/*#__PURE__*/_jsxs(Alert,{variant:\"success\",dismissible:true,onClose:()=>setSuccess(''),className:\"mb-4\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"me-2\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Succ\\xE8s:\"}),\" \",success]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:8,children:/*#__PURE__*/_jsxs(Card,{className:\"shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-light\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"D\\xE9tails de la demande\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Form,{noValidate:true,validated:validated,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Form.Label,{className:\"fw-semibold d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(PersonFill,{className:\"text-primary\"}),\"Destinataire *\"]}),loadingPersonnel?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-3\",children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\",className:\"me-2\"}),\"Chargement du personnel...\"]}):/*#__PURE__*/_jsxs(Form.Select,{name:\"destinataire_id\",value:formData.destinataire_id,onChange:handleInputChange,required:true,isInvalid:validated&&!formData.destinataire_id,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un membre du personnel\"}),personnel.map(person=>/*#__PURE__*/_jsxs(\"option\",{value:person.id,children:[person.name,\" - \",person.role_label,\" (\",person.email,\")\"]},person.id))]}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Veuillez s\\xE9lectionner un destinataire\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-semibold\",children:\"Sujet *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"sujet\",value:formData.sujet,onChange:handleInputChange,placeholder:\"Objet de la demande d'explication\",required:true,maxLength:255,isInvalid:validated&&!formData.sujet.trim()}),/*#__PURE__*/_jsxs(Form.Text,{className:\"text-muted\",children:[formData.sujet.length,\"/255 caract\\xE8res\"]}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Le sujet est obligatoire\"})]}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-semibold\",children:\"Type de demande\"}),/*#__PURE__*/_jsx(Form.Select,{name:\"type\",value:formData.type,onChange:handleInputChange,children:typeOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:(_typeOptions$find=typeOptions.find(t=>t.value===formData.type))===null||_typeOptions$find===void 0?void 0:_typeOptions$find.description})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-semibold\",children:\"Priorit\\xE9\"}),/*#__PURE__*/_jsx(Form.Select,{name:\"priorite\",value:formData.priorite,onChange:handleInputChange,children:priorityOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:(_priorityOptions$find=priorityOptions.find(p=>p.value===formData.priorite))===null||_priorityOptions$find===void 0?void 0:_priorityOptions$find.description})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-semibold\",children:\"Message *\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:6,name:\"message\",value:formData.message,onChange:handleInputChange,placeholder:\"D\\xE9taillez votre demande d'explication...\",required:true,isInvalid:validated&&!formData.message.trim()}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Le message est obligatoire\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-semibold\",children:\"Notes internes (optionnel)\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,name:\"notes_internes\",value:formData.notes_internes,onChange:handleInputChange,placeholder:\"Notes priv\\xE9es pour votre suivi (non visibles par le destinataire)\"}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Ces notes ne seront visibles que par vous\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-3 justify-content-end\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",onClick:()=>handleSubmit(false),disabled:loading,className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(Save,{size:16}),\"Sauvegarder en brouillon\"]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>handleSubmit(true),disabled:loading,className:\"d-flex align-items-center gap-2\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\"}),\"Envoi en cours...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Send,{size:16}),\"Envoyer maintenant\"]})})]})]})})]})}),/*#__PURE__*/_jsxs(Col,{lg:4,children:[/*#__PURE__*/_jsxs(Card,{className:\"shadow-sm mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-info text-white\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0 d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(InfoCircle,{}),\"Guide d'utilisation\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"px-0 py-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"1. Destinataire\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Choisissez le membre du personnel concern\\xE9\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"px-0 py-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"2. Sujet\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"R\\xE9sumez l'objet de votre demande en quelques mots\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"px-0 py-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"3. Type\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Cat\\xE9gorisez votre demande pour faciliter le suivi\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"px-0 py-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"4. Priorit\\xE9\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Indiquez l'urgence de votre demande\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"px-0 py-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"5. Message\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Expliquez clairement votre demande\"})]})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Aper\\xE7u de la priorit\\xE9\"})}),/*#__PURE__*/_jsx(Card.Body,{children:priorityOptions.map(option=>/*#__PURE__*/_jsxs(\"div\",{className:`mb-2 p-2 rounded ${formData.priorite===option.value?'border border-primary bg-light':''}`,children:[/*#__PURE__*/_jsx(Badge,{bg:option.color,className:\"me-2\",children:option.label}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:option.description})]},option.value))})]})]})]})]});};export default NouvelleDemande;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Form","Alert","Spinner","Badge","ListGroup","ArrowLeft","Send","Save","PersonFill","ExclamationTriangle","InfoCircle","CheckCircle","Link","useNavigate","authService","extractErrorMessage","host","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NouvelleDemande","_typeOptions$find","_priorityOptions$find","navigate","formData","setFormData","destinataire_id","sujet","message","type","priorite","notes_internes","personnel","setPersonnel","loading","setLoading","loadingPersonnel","setLoadingPersonnel","error","setError","success","setSuccess","validated","setValidated","typeOptions","value","label","description","priorityOptions","color","loadPersonnel","response","fetch","method","headers","getToken","ok","data","json","handleInputChange","e","name","target","prev","validateForm","errors","trim","length","handleSubmit","envoiImmediat","arguments","undefined","Object","keys","submitData","envoi_immediat","body","JSON","stringify","setTimeout","errorMessages","values","flat","join","fluid","className","children","variant","as","to","size","dismissible","onClose","lg","Header","Body","noValidate","Group","Label","Select","onChange","required","isInvalid","map","person","id","role_label","email","Control","Feedback","placeholder","maxLength","Text","md","option","find","t","p","rows","onClick","disabled","Item","bg"],"sources":["/var/www/College-IUP/front/src/pages/comptables/NouvelleDemande.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n    Container,\n    Row,\n    Col,\n    Card,\n    Button,\n    Form,\n    Alert,\n    Spinner,\n    Badge,\n    ListGroup\n} from 'react-bootstrap';\nimport {\n    ArrowLeft,\n    Send,\n    Save,\n    PersonFill,\n    ExclamationTriangle,\n    InfoCircle,\n    CheckCircle\n} from 'react-bootstrap-icons';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { authService } from '../../services/authService';\nimport { extractErrorMessage } from '../../utils/errorHandler';\nimport { host } from '../../utils/fetch';\n\nconst NouvelleDemande = () => {\n    const navigate = useNavigate();\n    \n    // États pour le formulaire\n    const [formData, setFormData] = useState({\n        destinataire_id: '',\n        sujet: '',\n        message: '',\n        type: 'autre',\n        priorite: 'normale',\n        notes_internes: ''\n    });\n    \n    // États pour l'interface\n    const [personnel, setPersonnel] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [loadingPersonnel, setLoadingPersonnel] = useState(true);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    const [validated, setValidated] = useState(false);\n\n    // Options de configuration\n    const typeOptions = [\n        { value: 'financier', label: 'Financier', description: 'Questions financières, comptabilité' },\n        { value: 'absence', label: 'Absence', description: 'Justification d\\'absences' },\n        { value: 'retard', label: 'Retard', description: 'Retards répétés' },\n        { value: 'disciplinaire', label: 'Disciplinaire', description: 'Questions disciplinaires' },\n        { value: 'autre', label: 'Autre', description: 'Autres motifs' }\n    ];\n\n    const priorityOptions = [\n        { value: 'basse', label: 'Basse', color: 'success', description: 'Non urgent, peut attendre' },\n        { value: 'normale', label: 'Normale', color: 'info', description: 'Priorité standard' },\n        { value: 'haute', label: 'Haute', color: 'warning', description: 'Nécessite attention rapide' },\n        { value: 'urgente', label: 'Urgente', color: 'danger', description: 'Réponse immédiate requise' }\n    ];\n\n    // Charger la liste du personnel\n    useEffect(() => {\n        const loadPersonnel = async () => {\n            try {\n                setLoadingPersonnel(true);\n                const response = await fetch(`${host}/api/demandes-explication/personnel`, {\n                    method: 'GET',\n                    headers: {\n                        'Authorization': `Bearer ${authService.getToken()}`,\n                        'Accept': 'application/json',\n                    },\n                });\n\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data.success) {\n                        setPersonnel(data.data || []);\n                    }\n                } else {\n                    setError('Erreur lors du chargement de la liste du personnel');\n                }\n            } catch (error) {\n                setError('Erreur lors du chargement de la liste du personnel');\n            } finally {\n                setLoadingPersonnel(false);\n            }\n        };\n\n        loadPersonnel();\n    }, []);\n\n    // Gérer les changements de formulaire\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n        // Réinitialiser la validation si l'utilisateur modifie\n        if (validated) {\n            setValidated(false);\n        }\n    };\n\n    // Valider le formulaire\n    const validateForm = () => {\n        const errors = {};\n\n        if (!formData.destinataire_id) {\n            errors.destinataire_id = 'Veuillez sélectionner un destinataire';\n        }\n        if (!formData.sujet.trim()) {\n            errors.sujet = 'Le sujet est obligatoire';\n        } else if (formData.sujet.length > 255) {\n            errors.sujet = 'Le sujet ne peut pas dépasser 255 caractères';\n        }\n        if (!formData.message.trim()) {\n            errors.message = 'Le message est obligatoire';\n        }\n\n        return errors;\n    };\n\n    // Envoyer la demande\n    const handleSubmit = async (envoiImmediat = true) => {\n        const errors = validateForm();\n        \n        if (Object.keys(errors).length > 0) {\n            setValidated(true);\n            setError('Veuillez corriger les erreurs du formulaire');\n            return;\n        }\n\n        try {\n            setLoading(true);\n            setError('');\n            setSuccess('');\n\n            const submitData = {\n                ...formData,\n                envoi_immediat: envoiImmediat\n            };\n\n            const response = await fetch(`${host}/api/demandes-explication`, {\n                method: 'POST',\n                headers: {\n                    'Authorization': `Bearer ${authService.getToken()}`,\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json',\n                },\n                body: JSON.stringify(submitData)\n            });\n\n            const data = await response.json();\n\n            if (data.success) {\n                setSuccess(data.message);\n                if (envoiImmediat) {\n                    // Rediriger après 2 secondes\n                    setTimeout(() => {\n                        navigate('/demandes-explication');\n                    }, 2000);\n                } else {\n                    // Réinitialiser le formulaire pour un nouveau brouillon\n                    setFormData({\n                        destinataire_id: '',\n                        sujet: '',\n                        message: '',\n                        type: 'autre',\n                        priorite: 'normale',\n                        notes_internes: ''\n                    });\n                }\n            } else {\n                setError(data.message || 'Erreur lors de l\\'envoi');\n                if (data.errors) {\n                    // Afficher les erreurs de validation\n                    const errorMessages = Object.values(data.errors).flat().join(', ');\n                    setError(errorMessages);\n                }\n            }\n        } catch (error) {\n            setError(extractErrorMessage(error));\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Container fluid className=\"py-4\">\n            {/* Header */}\n            <Row className=\"mb-4\">\n                <Col>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <Button\n                                variant=\"outline-secondary\"\n                                as={Link}\n                                to=\"/demandes-explication\"\n                                className=\"me-3 d-flex align-items-center gap-2\"\n                                size=\"sm\"\n                            >\n                                <ArrowLeft />\n                                Retour\n                            </Button>\n                            <h2 className=\"d-inline-flex align-items-center gap-2 mb-1\">\n                                <ExclamationTriangle className=\"text-warning\" />\n                                Nouvelle Demande d'Explication\n                            </h2>\n                            <p className=\"text-muted mb-0\">\n                                Créer une demande d'explication à envoyer au personnel\n                            </p>\n                        </div>\n                    </div>\n                </Col>\n            </Row>\n\n            {/* Alerts */}\n            {error && (\n                <Alert variant=\"danger\" dismissible onClose={() => setError('')} className=\"mb-4\">\n                    <strong>Erreur:</strong> {error}\n                </Alert>\n            )}\n            {success && (\n                <Alert variant=\"success\" dismissible onClose={() => setSuccess('')} className=\"mb-4\">\n                    <CheckCircle className=\"me-2\" />\n                    <strong>Succès:</strong> {success}\n                </Alert>\n            )}\n\n            <Row>\n                <Col lg={8}>\n                    {/* Formulaire principal */}\n                    <Card className=\"shadow-sm\">\n                        <Card.Header className=\"bg-light\">\n                            <h5 className=\"mb-0\">Détails de la demande</h5>\n                        </Card.Header>\n                        <Card.Body>\n                            <Form noValidate validated={validated}>\n                                {/* Destinataire */}\n                                <Form.Group className=\"mb-4\">\n                                    <Form.Label className=\"fw-semibold d-flex align-items-center gap-2\">\n                                        <PersonFill className=\"text-primary\" />\n                                        Destinataire *\n                                    </Form.Label>\n                                    {loadingPersonnel ? (\n                                        <div className=\"text-center py-3\">\n                                            <Spinner size=\"sm\" className=\"me-2\" />\n                                            Chargement du personnel...\n                                        </div>\n                                    ) : (\n                                        <Form.Select\n                                            name=\"destinataire_id\"\n                                            value={formData.destinataire_id}\n                                            onChange={handleInputChange}\n                                            required\n                                            isInvalid={validated && !formData.destinataire_id}\n                                        >\n                                            <option value=\"\">Sélectionner un membre du personnel</option>\n                                            {personnel.map(person => (\n                                                <option key={person.id} value={person.id}>\n                                                    {person.name} - {person.role_label} ({person.email})\n                                                </option>\n                                            ))}\n                                        </Form.Select>\n                                    )}\n                                    <Form.Control.Feedback type=\"invalid\">\n                                        Veuillez sélectionner un destinataire\n                                    </Form.Control.Feedback>\n                                </Form.Group>\n\n                                {/* Sujet */}\n                                <Form.Group className=\"mb-4\">\n                                    <Form.Label className=\"fw-semibold\">Sujet *</Form.Label>\n                                    <Form.Control\n                                        type=\"text\"\n                                        name=\"sujet\"\n                                        value={formData.sujet}\n                                        onChange={handleInputChange}\n                                        placeholder=\"Objet de la demande d'explication\"\n                                        required\n                                        maxLength={255}\n                                        isInvalid={validated && !formData.sujet.trim()}\n                                    />\n                                    <Form.Text className=\"text-muted\">\n                                        {formData.sujet.length}/255 caractères\n                                    </Form.Text>\n                                    <Form.Control.Feedback type=\"invalid\">\n                                        Le sujet est obligatoire\n                                    </Form.Control.Feedback>\n                                </Form.Group>\n\n                                {/* Type et Priorité */}\n                                <Row className=\"mb-4\">\n                                    <Col md={6}>\n                                        <Form.Group>\n                                            <Form.Label className=\"fw-semibold\">Type de demande</Form.Label>\n                                            <Form.Select\n                                                name=\"type\"\n                                                value={formData.type}\n                                                onChange={handleInputChange}\n                                            >\n                                                {typeOptions.map(option => (\n                                                    <option key={option.value} value={option.value}>\n                                                        {option.label}\n                                                    </option>\n                                                ))}\n                                            </Form.Select>\n                                            <Form.Text className=\"text-muted\">\n                                                {typeOptions.find(t => t.value === formData.type)?.description}\n                                            </Form.Text>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col md={6}>\n                                        <Form.Group>\n                                            <Form.Label className=\"fw-semibold\">Priorité</Form.Label>\n                                            <Form.Select\n                                                name=\"priorite\"\n                                                value={formData.priorite}\n                                                onChange={handleInputChange}\n                                            >\n                                                {priorityOptions.map(option => (\n                                                    <option key={option.value} value={option.value}>\n                                                        {option.label}\n                                                    </option>\n                                                ))}\n                                            </Form.Select>\n                                            <Form.Text className=\"text-muted\">\n                                                {priorityOptions.find(p => p.value === formData.priorite)?.description}\n                                            </Form.Text>\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n\n                                {/* Message */}\n                                <Form.Group className=\"mb-4\">\n                                    <Form.Label className=\"fw-semibold\">Message *</Form.Label>\n                                    <Form.Control\n                                        as=\"textarea\"\n                                        rows={6}\n                                        name=\"message\"\n                                        value={formData.message}\n                                        onChange={handleInputChange}\n                                        placeholder=\"Détaillez votre demande d'explication...\"\n                                        required\n                                        isInvalid={validated && !formData.message.trim()}\n                                    />\n                                    <Form.Control.Feedback type=\"invalid\">\n                                        Le message est obligatoire\n                                    </Form.Control.Feedback>\n                                </Form.Group>\n\n                                {/* Notes internes */}\n                                <Form.Group className=\"mb-4\">\n                                    <Form.Label className=\"fw-semibold\">Notes internes (optionnel)</Form.Label>\n                                    <Form.Control\n                                        as=\"textarea\"\n                                        rows={3}\n                                        name=\"notes_internes\"\n                                        value={formData.notes_internes}\n                                        onChange={handleInputChange}\n                                        placeholder=\"Notes privées pour votre suivi (non visibles par le destinataire)\"\n                                    />\n                                    <Form.Text className=\"text-muted\">\n                                        Ces notes ne seront visibles que par vous\n                                    </Form.Text>\n                                </Form.Group>\n\n                                {/* Actions */}\n                                <div className=\"d-flex gap-3 justify-content-end\">\n                                    <Button\n                                        variant=\"outline-secondary\"\n                                        onClick={() => handleSubmit(false)}\n                                        disabled={loading}\n                                        className=\"d-flex align-items-center gap-2\"\n                                    >\n                                        <Save size={16} />\n                                        Sauvegarder en brouillon\n                                    </Button>\n                                    <Button\n                                        variant=\"primary\"\n                                        onClick={() => handleSubmit(true)}\n                                        disabled={loading}\n                                        className=\"d-flex align-items-center gap-2\"\n                                    >\n                                        {loading ? (\n                                            <>\n                                                <Spinner size=\"sm\" />\n                                                Envoi en cours...\n                                            </>\n                                        ) : (\n                                            <>\n                                                <Send size={16} />\n                                                Envoyer maintenant\n                                            </>\n                                        )}\n                                    </Button>\n                                </div>\n                            </Form>\n                        </Card.Body>\n                    </Card>\n                </Col>\n\n                <Col lg={4}>\n                    {/* Aide et informations */}\n                    <Card className=\"shadow-sm mb-4\">\n                        <Card.Header className=\"bg-info text-white\">\n                            <h6 className=\"mb-0 d-flex align-items-center gap-2\">\n                                <InfoCircle />\n                                Guide d'utilisation\n                            </h6>\n                        </Card.Header>\n                        <Card.Body>\n                            <ListGroup variant=\"flush\">\n                                <ListGroup.Item className=\"px-0 py-2\">\n                                    <strong>1. Destinataire</strong><br />\n                                    <small className=\"text-muted\">\n                                        Choisissez le membre du personnel concerné\n                                    </small>\n                                </ListGroup.Item>\n                                <ListGroup.Item className=\"px-0 py-2\">\n                                    <strong>2. Sujet</strong><br />\n                                    <small className=\"text-muted\">\n                                        Résumez l'objet de votre demande en quelques mots\n                                    </small>\n                                </ListGroup.Item>\n                                <ListGroup.Item className=\"px-0 py-2\">\n                                    <strong>3. Type</strong><br />\n                                    <small className=\"text-muted\">\n                                        Catégorisez votre demande pour faciliter le suivi\n                                    </small>\n                                </ListGroup.Item>\n                                <ListGroup.Item className=\"px-0 py-2\">\n                                    <strong>4. Priorité</strong><br />\n                                    <small className=\"text-muted\">\n                                        Indiquez l'urgence de votre demande\n                                    </small>\n                                </ListGroup.Item>\n                                <ListGroup.Item className=\"px-0 py-2\">\n                                    <strong>5. Message</strong><br />\n                                    <small className=\"text-muted\">\n                                        Expliquez clairement votre demande\n                                    </small>\n                                </ListGroup.Item>\n                            </ListGroup>\n                        </Card.Body>\n                    </Card>\n\n                    {/* Aperçu de la priorité sélectionnée */}\n                    <Card className=\"shadow-sm\">\n                        <Card.Header>\n                            <h6 className=\"mb-0\">Aperçu de la priorité</h6>\n                        </Card.Header>\n                        <Card.Body>\n                            {priorityOptions.map(option => (\n                                <div \n                                    key={option.value} \n                                    className={`mb-2 p-2 rounded ${formData.priorite === option.value ? 'border border-primary bg-light' : ''}`}\n                                >\n                                    <Badge bg={option.color} className=\"me-2\">\n                                        {option.label}\n                                    </Badge>\n                                    <small className=\"text-muted\">\n                                        {option.description}\n                                    </small>\n                                </div>\n                            ))}\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n        </Container>\n    );\n};\n\nexport default NouvelleDemande;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}