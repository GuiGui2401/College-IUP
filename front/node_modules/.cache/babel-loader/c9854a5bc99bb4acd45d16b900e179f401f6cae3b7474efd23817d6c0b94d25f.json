{"ast":null,"code":"import React,{useState}from'react';import{Button,Dropdown}from'react-bootstrap';import{Download,Upload,FileEarmark}from'react-bootstrap-icons';import ImportExportModal from'./ImportExportModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ImportExportButton=_ref=>{let{title,apiBasePath,onImportSuccess,filters={},templateFileName=\"template.csv\",className=\"\",size=\"sm\",seriesId=null// Nouveau paramètre pour l'ID de série\n}=_ref;const[showModal,setShowModal]=useState(false);const[modalMode,setModalMode]=useState('export');const openExportModal=()=>{setModalMode('export');setShowModal(true);};const openImportModal=()=>{setModalMode('import');setShowModal(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Dropdown,{className:className,children:[/*#__PURE__*/_jsxs(Dropdown.Toggle,{variant:\"outline-secondary\",size:size,className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(FileEarmark,{className:\"me-1\"}),\"Import/Export\"]}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[/*#__PURE__*/_jsxs(Dropdown.Item,{onClick:openExportModal,children:[/*#__PURE__*/_jsx(Download,{className:\"me-2\"}),\"Exporter les donn\\xE9es\"]}),/*#__PURE__*/_jsx(Dropdown.Divider,{}),/*#__PURE__*/_jsxs(Dropdown.Item,{onClick:openImportModal,children:[/*#__PURE__*/_jsx(Upload,{className:\"me-2\"}),\"Importer des donn\\xE9es\"]})]})]}),/*#__PURE__*/_jsx(ImportExportModal,{show:showModal,onHide:()=>setShowModal(false),title:title,apiBasePath:apiBasePath,onImportSuccess:onImportSuccess,filters:filters,templateFileName:templateFileName,seriesId:seriesId})]});};export default ImportExportButton;","map":{"version":3,"names":["React","useState","Button","Dropdown","Download","Upload","FileEarmark","ImportExportModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImportExportButton","_ref","title","apiBasePath","onImportSuccess","filters","templateFileName","className","size","seriesId","showModal","setShowModal","modalMode","setModalMode","openExportModal","openImportModal","children","Toggle","variant","Menu","Item","onClick","Divider","show","onHide"],"sources":["/var/www/College-IUP/front/src/components/ImportExportButton.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Dropdown } from 'react-bootstrap';\nimport { Download, Upload, FileEarmark } from 'react-bootstrap-icons';\nimport ImportExportModal from './ImportExportModal';\n\nconst ImportExportButton = ({ \n    title, \n    apiBasePath, \n    onImportSuccess,\n    filters = {},\n    templateFileName = \"template.csv\",\n    className = \"\",\n    size = \"sm\",\n    seriesId = null // Nouveau paramètre pour l'ID de série\n}) => {\n    const [showModal, setShowModal] = useState(false);\n    const [modalMode, setModalMode] = useState('export');\n\n    const openExportModal = () => {\n        setModalMode('export');\n        setShowModal(true);\n    };\n\n    const openImportModal = () => {\n        setModalMode('import');\n        setShowModal(true);\n    };\n\n    return (\n        <>\n            <Dropdown className={className}>\n                <Dropdown.Toggle \n                    variant=\"outline-secondary\" \n                    size={size}\n                    className=\"d-flex align-items-center\"\n                >\n                    <FileEarmark className=\"me-1\" />\n                    Import/Export\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                    <Dropdown.Item onClick={openExportModal}>\n                        <Download className=\"me-2\" />\n                        Exporter les données\n                    </Dropdown.Item>\n                    <Dropdown.Divider />\n                    <Dropdown.Item onClick={openImportModal}>\n                        <Upload className=\"me-2\" />\n                        Importer des données\n                    </Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n\n            <ImportExportModal\n                show={showModal}\n                onHide={() => setShowModal(false)}\n                title={title}\n                apiBasePath={apiBasePath}\n                onImportSuccess={onImportSuccess}\n                filters={filters}\n                templateFileName={templateFileName}\n                seriesId={seriesId}\n            />\n        </>\n    );\n};\n\nexport default ImportExportButton;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,QAAQ,KAAQ,iBAAiB,CAClD,OAASC,QAAQ,CAAEC,MAAM,CAAEC,WAAW,KAAQ,uBAAuB,CACrE,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpD,KAAM,CAAAC,kBAAkB,CAAGC,IAAA,EASrB,IATsB,CACxBC,KAAK,CACLC,WAAW,CACXC,eAAe,CACfC,OAAO,CAAG,CAAC,CAAC,CACZC,gBAAgB,CAAG,cAAc,CACjCC,SAAS,CAAG,EAAE,CACdC,IAAI,CAAG,IAAI,CACXC,QAAQ,CAAG,IAAK;AACpB,CAAC,CAAAR,IAAA,CACG,KAAM,CAACS,SAAS,CAAEC,YAAY,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACyB,SAAS,CAAEC,YAAY,CAAC,CAAG1B,QAAQ,CAAC,QAAQ,CAAC,CAEpD,KAAM,CAAA2B,eAAe,CAAGA,CAAA,GAAM,CAC1BD,YAAY,CAAC,QAAQ,CAAC,CACtBF,YAAY,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAI,eAAe,CAAGA,CAAA,GAAM,CAC1BF,YAAY,CAAC,QAAQ,CAAC,CACtBF,YAAY,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,mBACId,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACInB,KAAA,CAACR,QAAQ,EAACkB,SAAS,CAAEA,SAAU,CAAAS,QAAA,eAC3BnB,KAAA,CAACR,QAAQ,CAAC4B,MAAM,EACZC,OAAO,CAAC,mBAAmB,CAC3BV,IAAI,CAAEA,IAAK,CACXD,SAAS,CAAC,2BAA2B,CAAAS,QAAA,eAErCrB,IAAA,CAACH,WAAW,EAACe,SAAS,CAAC,MAAM,CAAE,CAAC,gBAEpC,EAAiB,CAAC,cAElBV,KAAA,CAACR,QAAQ,CAAC8B,IAAI,EAAAH,QAAA,eACVnB,KAAA,CAACR,QAAQ,CAAC+B,IAAI,EAACC,OAAO,CAAEP,eAAgB,CAAAE,QAAA,eACpCrB,IAAA,CAACL,QAAQ,EAACiB,SAAS,CAAC,MAAM,CAAE,CAAC,0BAEjC,EAAe,CAAC,cAChBZ,IAAA,CAACN,QAAQ,CAACiC,OAAO,GAAE,CAAC,cACpBzB,KAAA,CAACR,QAAQ,CAAC+B,IAAI,EAACC,OAAO,CAAEN,eAAgB,CAAAC,QAAA,eACpCrB,IAAA,CAACJ,MAAM,EAACgB,SAAS,CAAC,MAAM,CAAE,CAAC,0BAE/B,EAAe,CAAC,EACL,CAAC,EACV,CAAC,cAEXZ,IAAA,CAACF,iBAAiB,EACd8B,IAAI,CAAEb,SAAU,CAChBc,MAAM,CAAEA,CAAA,GAAMb,YAAY,CAAC,KAAK,CAAE,CAClCT,KAAK,CAAEA,KAAM,CACbC,WAAW,CAAEA,WAAY,CACzBC,eAAe,CAAEA,eAAgB,CACjCC,OAAO,CAAEA,OAAQ,CACjBC,gBAAgB,CAAEA,gBAAiB,CACnCG,QAAQ,CAAEA,QAAS,CACtB,CAAC,EACJ,CAAC,CAEX,CAAC,CAED,cAAe,CAAAT,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}