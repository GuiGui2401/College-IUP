{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Card,Row,Col,Form,Button,Table,Alert,Spinner,Badge}from'react-bootstrap';import{Calendar,Search,People,Check,X,Download,ChevronLeft,ChevronRight}from'react-bootstrap-icons';import{secureApiEndpoints,secureApi}from'../../utils/apiMigration';import{host}from'../../utils/fetch';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function StaffDailyAttendance(){const[staffData,setStaffData]=useState([]);const[selectedDate,setSelectedDate]=useState(new Date().toISOString().split('T')[0]);const[selectedRole,setSelectedRole]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[stats,setStats]=useState({total:0,present:0,absent:0});const[exportLoading,setExportLoading]=useState(false);const[roles]=useState([{value:'teacher',label:'Enseignant'},{value:'accountant',label:'Comptable'},{value:'admin',label:'Administrateur'},{value:'secretaire',label:'Secrétaire'},{value:'surveillant_general',label:'Surveillant Général'},{value:'comptable_superieur',label:'Comptable Supérieur'}]);useEffect(()=>{if(selectedDate){fetchAttendanceData();}},[selectedDate,selectedRole]);// Ajouter les raccourcis clavier pour navigation\nuseEffect(()=>{const handleKeyPress=event=>{if(event.target.tagName.toLowerCase()==='input')return;// Ignore si dans un champ input\nswitch(event.key){case'ArrowLeft':event.preventDefault();goToPreviousDay();break;case'ArrowRight':event.preventDefault();goToNextDay();break;case't':case'T':event.preventDefault();goToToday();break;default:break;}};document.addEventListener('keydown',handleKeyPress);return()=>{document.removeEventListener('keydown',handleKeyPress);};},[selectedDate]);// Charger automatiquement les données quand les filtres changent\nuseEffect(()=>{if(selectedDate){fetchAttendanceData();}},[selectedDate,selectedRole]);const fetchAttendanceData=async()=>{if(!selectedDate){setError('Veuillez sélectionner une date');return;}setLoading(true);setError('');try{// Construire les paramètres de la requête\nconst params=new URLSearchParams({date:selectedDate});if(selectedRole){params.append('role',selectedRole);}const response=await secureApi.get(`/staff-attendance/daily?${params.toString()}`);console.log('Réponse staff attendance:',response);let data=[];if(response.success){data=Array.isArray(response.data)?response.data:[];}else if(Array.isArray(response)){data=response;}setStaffData(data);// Calculer les statistiques\nconst total=data.length;const present=data.filter(staff=>staff.is_present).length;const absent=total-present;setStats({total,present,absent});}catch(error){console.error('Erreur lors du chargement des présences:',error);setError('Erreur lors du chargement des données de présence: '+error.message);setStaffData([]);setStats({total:0,present:0,absent:0});}finally{setLoading(false);}};const goToPreviousDay=()=>{const currentDate=new Date(selectedDate);currentDate.setDate(currentDate.getDate()-1);setSelectedDate(currentDate.toISOString().split('T')[0]);};const goToNextDay=()=>{const currentDate=new Date(selectedDate);currentDate.setDate(currentDate.getDate()+1);setSelectedDate(currentDate.toISOString().split('T')[0]);};const goToToday=()=>{setSelectedDate(new Date().toISOString().split('T')[0]);};const handleExportPDF=async()=>{if(!selectedDate){setError('Veuillez sélectionner une date pour l\\'export');return;}setExportLoading(true);setError('');try{// Construire les paramètres de la requête pour l'export\nconst params=new URLSearchParams({date:selectedDate});if(selectedRole){params.append('role',selectedRole);}const response=await fetch(`${host}/api/staff-attendance/export/pdf?${params.toString()}`,{method:'GET',headers:{'Authorization':`Bearer ${localStorage.getItem('token')||sessionStorage.getItem('token')}`,'Accept':'application/pdf'}});if(!response.ok){throw new Error(`Erreur ${response.status}: ${response.statusText}`);}const blob=await response.blob();const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=`presences_personnel_${selectedDate}.pdf`;document.body.appendChild(link);link.click();window.URL.revokeObjectURL(url);document.body.removeChild(link);}catch(error){console.error('Erreur lors de l\\'export PDF:',error);setError('Erreur lors de l\\'export PDF: '+error.message);}finally{setExportLoading(false);}};const getAttendanceBadge=isPresent=>{return isPresent?/*#__PURE__*/_jsxs(Badge,{bg:\"success\",className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(Check,{size:12}),\" Pr\\xE9sent\"]}):/*#__PURE__*/_jsxs(Badge,{bg:\"danger\",className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(X,{size:12}),\" Absent\"]});};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('fr-FR',{weekday:'long',year:'numeric',month:'long',day:'numeric'});};return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"p-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"d-flex align-items-center gap-2 mb-0\",children:[/*#__PURE__*/_jsx(People,{className:\"text-primary\"}),\"Suivi des Pr\\xE9sences Personnel\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Consultez les pr\\xE9sences du personnel pour un jour donn\\xE9\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"\\uD83D\\uDCA1 Raccourcis: \\u2190 \\u2192 pour changer de jour, T pour aujourd'hui\"})]})}),/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0 d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(Search,{}),\" Filtres de Recherche\"]})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,className:\"mb-3\",children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:goToPreviousDay,className:\"d-flex align-items-center\",children:/*#__PURE__*/_jsx(ChevronLeft,{})}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),className:\"text-center\",style:{width:'140px',fontSize:'0.9rem'},size:\"sm\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:goToNextDay,className:\"d-flex align-items-center\",children:/*#__PURE__*/_jsx(ChevronRight,{})}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:goToToday,className:\"ms-2\",children:\"Aujourd'hui\"})]})]})}),/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"R\\xF4le\"}),/*#__PURE__*/_jsxs(Form.Select,{value:selectedRole,onChange:e=>setSelectedRole(e.target.value),size:\"sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tous les r\\xF4les\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.value,children:role.label},role.value))]})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{className:\"d-flex gap-2 align-items-center\",children:[loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2 text-muted\",children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\"}),\" Chargement des donn\\xE9es...\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"ms-auto\",children:/*#__PURE__*/_jsx(Button,{variant:\"success\",disabled:exportLoading||!selectedDate,onClick:handleExportPDF,className:\"d-flex align-items-center gap-2\",children:exportLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\"}),\" Export...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Download,{}),\" Exporter PDF\"]})})})]})})]})]}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",className:\"mb-4\",children:error}),staffData.length>0&&/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0 d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(Calendar,{}),\" R\\xE9sum\\xE9 - \",formatDate(selectedDate)]})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:4,className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-primary mb-1\",children:stats.total}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Total Personnel\"})]}),/*#__PURE__*/_jsxs(Col,{md:4,className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-success mb-1\",children:stats.present}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Pr\\xE9sents\"})]}),/*#__PURE__*/_jsxs(Col,{md:4,className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-danger mb-1\",children:stats.absent}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Absents\"})]})]}),/*#__PURE__*/_jsx(Row,{className:\"mt-3\",children:/*#__PURE__*/_jsx(Col,{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"Taux de pr\\xE9sence: \",/*#__PURE__*/_jsxs(\"strong\",{children:[stats.total>0?(stats.present/stats.total*100).toFixed(1):0,\"%\"]})]})})})]})]}),staffData.length>0?/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Liste des Pr\\xE9sences Personnel\"})}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pr\\xE9nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"R\\xF4le\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Statut\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Entr\\xE9es\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sorties\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Temps Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:staffData.map((staff,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:staff.last_name||staff.name||'-'})}),/*#__PURE__*/_jsx(\"td\",{children:staff.first_name||'-'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:staff.employment_type==='P'?'primary':staff.employment_type==='SP'?'info':'warning',children:staff.employment_type==='P'?'Permanent (P)':staff.employment_type==='SP'?'Semi-permanent (SP)':staff.employment_type==='V'?'Vacataire (V)':'Non défini'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:staff.role==='teacher'?'Enseignant':staff.role==='accountant'?'Comptable':staff.role==='admin'?'Administrateur':staff.role==='secretaire'?'Secrétaire':staff.role==='surveillant_general'?'Surveillant':staff.role==='comptable_superieur'?'Comptable Sup.':staff.role||'Personnel'})}),/*#__PURE__*/_jsx(\"td\",{children:getAttendanceBadge(staff.is_present)}),/*#__PURE__*/_jsx(\"td\",{children:staff.entry_exit_pairs&&staff.entry_exit_pairs.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"small\",children:staff.entry_exit_pairs.map((pair,pairIndex)=>/*#__PURE__*/_jsx(Badge,{bg:\"success\",className:\"me-1 mb-1\",children:new Date(pair.entry_time).toLocaleTimeString('fr-FR',{hour:'2-digit',minute:'2-digit'})},pairIndex))}):/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"-\"})}),/*#__PURE__*/_jsx(\"td\",{children:staff.entry_exit_pairs&&staff.entry_exit_pairs.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"small\",children:staff.entry_exit_pairs.map((pair,pairIndex)=>pair.exit_time?/*#__PURE__*/_jsx(Badge,{bg:\"danger\",className:\"me-1 mb-1\",children:new Date(pair.exit_time).toLocaleTimeString('fr-FR',{hour:'2-digit',minute:'2-digit'})},pairIndex):/*#__PURE__*/_jsx(Badge,{bg:\"warning\",className:\"me-1 mb-1\",children:\"En cours\"},pairIndex))}):/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"-\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{className:\"text-primary\",children:staff.total_working_hours||'0h 0min'})})]},index))})]})})})]}):!loading&&selectedDate&&/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(People,{size:48,className:\"text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-muted\",children:\"Aucune donn\\xE9e de pr\\xE9sence\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Aucune donn\\xE9e de pr\\xE9sence trouv\\xE9e pour la date s\\xE9lectionn\\xE9e.\"})]})})]});}export default StaffDailyAttendance;","map":{"version":3,"names":["React","useState","useEffect","Container","Card","Row","Col","Form","Button","Table","Alert","Spinner","Badge","Calendar","Search","People","Check","X","Download","ChevronLeft","ChevronRight","secureApiEndpoints","secureApi","host","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StaffDailyAttendance","staffData","setStaffData","selectedDate","setSelectedDate","Date","toISOString","split","selectedRole","setSelectedRole","loading","setLoading","error","setError","stats","setStats","total","present","absent","exportLoading","setExportLoading","roles","value","label","fetchAttendanceData","handleKeyPress","event","target","tagName","toLowerCase","key","preventDefault","goToPreviousDay","goToNextDay","goToToday","document","addEventListener","removeEventListener","params","URLSearchParams","date","append","response","get","toString","console","log","data","success","Array","isArray","length","filter","staff","is_present","message","currentDate","setDate","getDate","handleExportPDF","fetch","method","headers","localStorage","getItem","sessionStorage","ok","Error","status","statusText","blob","url","window","URL","createObjectURL","link","createElement","href","download","body","appendChild","click","revokeObjectURL","removeChild","getAttendanceBadge","isPresent","bg","className","children","size","formatDate","dateString","toLocaleDateString","weekday","year","month","day","fluid","Header","Body","md","Group","Label","variant","onClick","Control","type","onChange","e","style","width","fontSize","Select","map","role","disabled","toFixed","striped","hover","index","last_name","name","first_name","employment_type","entry_exit_pairs","pair","pairIndex","entry_time","toLocaleTimeString","hour","minute","exit_time","total_working_hours"],"sources":["/var/www/College-IUP/front/src/pages/Staff/StaffDailyAttendance.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Card, Row, Col, Form, Button, Table, Alert, Spinner, Badge } from 'react-bootstrap';\nimport { Calendar, Search, People, Check, X, Download, ChevronLeft, ChevronRight } from 'react-bootstrap-icons';\nimport { secureApiEndpoints, secureApi } from '../../utils/apiMigration';\nimport { host } from '../../utils/fetch';\n\nfunction StaffDailyAttendance() {\n  const [staffData, setStaffData] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n  const [selectedRole, setSelectedRole] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [stats, setStats] = useState({ total: 0, present: 0, absent: 0 });\n  const [exportLoading, setExportLoading] = useState(false);\n  const [roles] = useState([\n    { value: 'teacher', label: 'Enseignant' },\n    { value: 'accountant', label: 'Comptable' },\n    { value: 'admin', label: 'Administrateur' },\n    { value: 'secretaire', label: 'Secrétaire' },\n    { value: 'surveillant_general', label: 'Surveillant Général' },\n    { value: 'comptable_superieur', label: 'Comptable Supérieur' }\n  ]);\n\n  useEffect(() => {\n    if (selectedDate) {\n      fetchAttendanceData();\n    }\n  }, [selectedDate, selectedRole]);\n\n  // Ajouter les raccourcis clavier pour navigation\n  useEffect(() => {\n    const handleKeyPress = (event) => {\n      if (event.target.tagName.toLowerCase() === 'input') return; // Ignore si dans un champ input\n      \n      switch(event.key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n          goToPreviousDay();\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          goToNextDay();\n          break;\n        case 't':\n        case 'T':\n          event.preventDefault();\n          goToToday();\n          break;\n        default:\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyPress);\n    return () => {\n      document.removeEventListener('keydown', handleKeyPress);\n    };\n  }, [selectedDate]);\n\n  // Charger automatiquement les données quand les filtres changent\n  useEffect(() => {\n    if (selectedDate) {\n      fetchAttendanceData();\n    }\n  }, [selectedDate, selectedRole]);\n\n  const fetchAttendanceData = async () => {\n    if (!selectedDate) {\n      setError('Veuillez sélectionner une date');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      // Construire les paramètres de la requête\n      const params = new URLSearchParams({ date: selectedDate });\n      \n      if (selectedRole) {\n        params.append('role', selectedRole);\n      }\n\n      const response = await secureApi.get(`/staff-attendance/daily?${params.toString()}`);\n      console.log('Réponse staff attendance:', response);\n      \n      let data = [];\n      if (response.success) {\n        data = Array.isArray(response.data) ? response.data : [];\n      } else if (Array.isArray(response)) {\n        data = response;\n      }\n      \n      setStaffData(data);\n      \n      // Calculer les statistiques\n      const total = data.length;\n      const present = data.filter(staff => staff.is_present).length;\n      const absent = total - present;\n      \n      setStats({ total, present, absent });\n    } catch (error) {\n      console.error('Erreur lors du chargement des présences:', error);\n      setError('Erreur lors du chargement des données de présence: ' + error.message);\n      setStaffData([]);\n      setStats({ total: 0, present: 0, absent: 0 });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const goToPreviousDay = () => {\n    const currentDate = new Date(selectedDate);\n    currentDate.setDate(currentDate.getDate() - 1);\n    setSelectedDate(currentDate.toISOString().split('T')[0]);\n  };\n\n  const goToNextDay = () => {\n    const currentDate = new Date(selectedDate);\n    currentDate.setDate(currentDate.getDate() + 1);\n    setSelectedDate(currentDate.toISOString().split('T')[0]);\n  };\n\n  const goToToday = () => {\n    setSelectedDate(new Date().toISOString().split('T')[0]);\n  };\n\n  const handleExportPDF = async () => {\n    if (!selectedDate) {\n      setError('Veuillez sélectionner une date pour l\\'export');\n      return;\n    }\n\n    setExportLoading(true);\n    setError('');\n\n    try {\n      // Construire les paramètres de la requête pour l'export\n      const params = new URLSearchParams({ date: selectedDate });\n      \n      if (selectedRole) {\n        params.append('role', selectedRole);\n      }\n\n      const response = await fetch(`${host}/api/staff-attendance/export/pdf?${params.toString()}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token') || sessionStorage.getItem('token')}`,\n          'Accept': 'application/pdf',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Erreur ${response.status}: ${response.statusText}`);\n      }\n      \n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      \n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `presences_personnel_${selectedDate}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      \n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(link);\n      \n    } catch (error) {\n      console.error('Erreur lors de l\\'export PDF:', error);\n      setError('Erreur lors de l\\'export PDF: ' + error.message);\n    } finally {\n      setExportLoading(false);\n    }\n  };\n\n  const getAttendanceBadge = (isPresent) => {\n    return isPresent ? (\n      <Badge bg=\"success\" className=\"d-flex align-items-center gap-1\">\n        <Check size={12} /> Présent\n      </Badge>\n    ) : (\n      <Badge bg=\"danger\" className=\"d-flex align-items-center gap-1\">\n        <X size={12} /> Absent\n      </Badge>\n    );\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('fr-FR', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  return (\n    <Container fluid className=\"p-4\">\n      <Row className=\"mb-4\">\n        <Col>\n          <h2 className=\"d-flex align-items-center gap-2 mb-0\">\n            <People className=\"text-primary\" />\n            Suivi des Présences Personnel\n          </h2>\n          <p className=\"text-muted mb-0\">\n            Consultez les présences du personnel pour un jour donné\n          </p>\n          <small className=\"text-muted\">\n            💡 Raccourcis: ← → pour changer de jour, T pour aujourd'hui\n          </small>\n        </Col>\n      </Row>\n\n      {/* Filtres */}\n      <Card className=\"mb-4\">\n        <Card.Header>\n          <h5 className=\"mb-0 d-flex align-items-center gap-2\">\n            <Search /> Filtres de Recherche\n          </h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={8} className=\"mb-3\">\n              <Form.Group>\n                <Form.Label>Date</Form.Label>\n                <div className=\"d-flex align-items-center gap-2\">\n                  <Button \n                    variant=\"outline-primary\" \n                    size=\"sm\"\n                    onClick={goToPreviousDay}\n                    className=\"d-flex align-items-center\"\n                  >\n                    <ChevronLeft />\n                  </Button>\n                  \n                  <Form.Control\n                    type=\"date\"\n                    value={selectedDate}\n                    onChange={(e) => setSelectedDate(e.target.value)}\n                    className=\"text-center\"\n                    style={{ width: '140px', fontSize: '0.9rem' }}\n                    size=\"sm\"\n                  />\n                  \n                  <Button \n                    variant=\"outline-primary\" \n                    size=\"sm\"\n                    onClick={goToNextDay}\n                    className=\"d-flex align-items-center\"\n                  >\n                    <ChevronRight />\n                  </Button>\n                  \n                  <Button \n                    variant=\"outline-secondary\" \n                    size=\"sm\"\n                    onClick={goToToday}\n                    className=\"ms-2\"\n                  >\n                    Aujourd'hui\n                  </Button>\n                </div>\n              </Form.Group>\n            </Col>\n\n            <Col md={4} className=\"mb-3\">\n              <Form.Group>\n                <Form.Label>Rôle</Form.Label>\n                <Form.Select\n                  value={selectedRole}\n                  onChange={(e) => setSelectedRole(e.target.value)}\n                  size=\"sm\"\n                >\n                  <option value=\"\">Tous les rôles</option>\n                  {roles.map(role => (\n                    <option key={role.value} value={role.value}>\n                      {role.label}\n                    </option>\n                  ))}\n                </Form.Select>\n              </Form.Group>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col className=\"d-flex gap-2 align-items-center\">\n              {loading && (\n                <div className=\"d-flex align-items-center gap-2 text-muted\">\n                  <Spinner size=\"sm\" /> Chargement des données...\n                </div>\n              )}\n              \n              <div className=\"ms-auto\">\n                <Button \n                  variant=\"success\" \n                  disabled={exportLoading || !selectedDate}\n                  onClick={handleExportPDF}\n                  className=\"d-flex align-items-center gap-2\"\n                >\n                  {exportLoading ? (\n                    <>\n                      <Spinner size=\"sm\" /> Export...\n                    </>\n                  ) : (\n                    <>\n                      <Download /> Exporter PDF\n                    </>\n                  )}\n                </Button>\n              </div>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n\n      {error && (\n        <Alert variant=\"danger\" className=\"mb-4\">\n          {error}\n        </Alert>\n      )}\n\n      {/* Statistiques */}\n      {staffData.length > 0 && (\n        <Card className=\"mb-4\">\n          <Card.Header>\n            <h5 className=\"mb-0 d-flex align-items-center gap-2\">\n              <Calendar /> Résumé - {formatDate(selectedDate)}\n            </h5>\n          </Card.Header>\n          <Card.Body>\n            <Row>\n              <Col md={4} className=\"text-center\">\n                <h3 className=\"text-primary mb-1\">{stats.total}</h3>\n                <p className=\"text-muted mb-0\">Total Personnel</p>\n              </Col>\n              <Col md={4} className=\"text-center\">\n                <h3 className=\"text-success mb-1\">{stats.present}</h3>\n                <p className=\"text-muted mb-0\">Présents</p>\n              </Col>\n              <Col md={4} className=\"text-center\">\n                <h3 className=\"text-danger mb-1\">{stats.absent}</h3>\n                <p className=\"text-muted mb-0\">Absents</p>\n              </Col>\n            </Row>\n            <Row className=\"mt-3\">\n              <Col className=\"text-center\">\n                <p className=\"mb-0\">\n                  Taux de présence: <strong>{stats.total > 0 ? ((stats.present / stats.total) * 100).toFixed(1) : 0}%</strong>\n                </p>\n              </Col>\n            </Row>\n          </Card.Body>\n        </Card>\n      )}\n\n      {/* Tableau des présences */}\n      {staffData.length > 0 ? (\n        <Card>\n          <Card.Header>\n            <h5 className=\"mb-0\">Liste des Présences Personnel</h5>\n          </Card.Header>\n          <Card.Body className=\"p-0\">\n            <div className=\"table-responsive\">\n              <Table striped hover className=\"mb-0\">\n                <thead className=\"bg-light\">\n                  <tr>\n                    <th>Nom</th>\n                    <th>Prénom</th>\n                    <th>Type</th>\n                    <th>Rôle</th>\n                    <th>Statut</th>\n                    <th>Entrées</th>\n                    <th>Sorties</th>\n                    <th>Temps Total</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {staffData.map((staff, index) => (\n                    <tr key={index}>\n                      <td><strong>{staff.last_name || staff.name || '-'}</strong></td>\n                      <td>{staff.first_name || '-'}</td>\n                      <td>\n                        <Badge bg={staff.employment_type === 'P' ? 'primary' : \n                                   staff.employment_type === 'SP' ? 'info' : 'warning'}>\n                          {staff.employment_type === 'P' ? 'Permanent (P)' : \n                           staff.employment_type === 'SP' ? 'Semi-permanent (SP)' :\n                           staff.employment_type === 'V' ? 'Vacataire (V)' : 'Non défini'}\n                        </Badge>\n                      </td>\n                      <td>\n                        <Badge bg=\"secondary\">\n                          {staff.role === 'teacher' ? 'Enseignant' :\n                           staff.role === 'accountant' ? 'Comptable' :\n                           staff.role === 'admin' ? 'Administrateur' :\n                           staff.role === 'secretaire' ? 'Secrétaire' :\n                           staff.role === 'surveillant_general' ? 'Surveillant' :\n                           staff.role === 'comptable_superieur' ? 'Comptable Sup.' :\n                           staff.role || 'Personnel'}\n                        </Badge>\n                      </td>\n                      <td>{getAttendanceBadge(staff.is_present)}</td>\n                      <td>\n                        {staff.entry_exit_pairs && staff.entry_exit_pairs.length > 0 ? (\n                          <div className=\"small\">\n                            {staff.entry_exit_pairs.map((pair, pairIndex) => (\n                              <Badge key={pairIndex} bg=\"success\" className=\"me-1 mb-1\">\n                                {new Date(pair.entry_time).toLocaleTimeString('fr-FR', {\n                                  hour: '2-digit',\n                                  minute: '2-digit'\n                                })}\n                              </Badge>\n                            ))}\n                          </div>\n                        ) : (\n                          <span className=\"text-muted\">-</span>\n                        )}\n                      </td>\n                      <td>\n                        {staff.entry_exit_pairs && staff.entry_exit_pairs.length > 0 ? (\n                          <div className=\"small\">\n                            {staff.entry_exit_pairs.map((pair, pairIndex) => (\n                              pair.exit_time ? (\n                                <Badge key={pairIndex} bg=\"danger\" className=\"me-1 mb-1\">\n                                  {new Date(pair.exit_time).toLocaleTimeString('fr-FR', {\n                                    hour: '2-digit',\n                                    minute: '2-digit'\n                                  })}\n                                </Badge>\n                              ) : (\n                                <Badge key={pairIndex} bg=\"warning\" className=\"me-1 mb-1\">\n                                  En cours\n                                </Badge>\n                              )\n                            ))}\n                          </div>\n                        ) : (\n                          <span className=\"text-muted\">-</span>\n                        )}\n                      </td>\n                      <td>\n                        <strong className=\"text-primary\">\n                          {staff.total_working_hours || '0h 0min'}\n                        </strong>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            </div>\n          </Card.Body>\n        </Card>\n      ) : !loading && selectedDate && (\n        <Card>\n          <Card.Body className=\"text-center py-5\">\n            <People size={48} className=\"text-muted mb-3\" />\n            <h5 className=\"text-muted\">Aucune donnée de présence</h5>\n            <p className=\"text-muted mb-0\">\n              Aucune donnée de présence trouvée pour la date sélectionnée.\n            </p>\n          </Card.Body>\n        </Card>\n      )}\n    </Container>\n  );\n}\n\nexport default StaffDailyAttendance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}