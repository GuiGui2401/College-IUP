{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{HouseHeartFill,PeopleFill,Search,Grid,List,InfoCircle,Building,ChevronDown,ChevronRight,Eye}from'react-bootstrap-icons';import{secureApiEndpoints}from'../../utils/apiMigration';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AccountantClasses=()=>{const navigate=useNavigate();const[classes,setClasses]=useState([]);const[groupedClasses,setGroupedClasses]=useState({});const[expandedClasses,setExpandedClasses]=useState({});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[searchTerm,setSearchTerm]=useState('');const[viewMode,setViewMode]=useState('grouped');const[stats,setStats]=useState({total_students:0,total_classes:0,total_series:0});useEffect(()=>{loadClasses();loadDashboard();},[]);const loadClasses=async()=>{try{setLoading(true);const response=await secureApiEndpoints.accountant.getClasses();if(response.success){var _response$data,_response$data2;const classes=((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.classes)||response.data||[];const groupedClasses=((_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.grouped_classes)||{};setClasses(classes);setGroupedClasses(groupedClasses);// Si pas de données groupées, créer un groupement simple\nif(Object.keys(groupedClasses).length===0&&classes.length>0){const simpleGrouped=classes.reduce((acc,classe)=>{var _classe$level,_classe$level$section,_classe$level2;const groupKey=`${((_classe$level=classe.level)===null||_classe$level===void 0?void 0:(_classe$level$section=_classe$level.section)===null||_classe$level$section===void 0?void 0:_classe$level$section.name)||'Section inconnue'} - ${((_classe$level2=classe.level)===null||_classe$level2===void 0?void 0:_classe$level2.name)||'Niveau inconnu'}`;if(!acc[groupKey]){acc[groupKey]=[];}acc[groupKey].push(classe);return acc;},{});setGroupedClasses(simpleGrouped);}}else{setError(response.message||'Erreur lors du chargement des classes');}}catch(error){console.error('Error loading classes:',error);setError('Erreur lors du chargement des classes');}finally{setLoading(false);}};const loadDashboard=async()=>{try{const response=await secureApiEndpoints.accountant.dashboard();if(response.success){setStats(response.data);}}catch(error){console.error('Error loading dashboard:',error);}};// Fonction pour gérer l'expansion des classes\nconst toggleClassExpansion=classId=>{setExpandedClasses(prev=>({...prev,[classId]:!prev[classId]}));};// Filtrer les classes selon la recherche\nconst filteredClasses=classes.filter(classe=>{var _classe$level3,_classe$level4,_classe$level4$sectio;return classe.name.toLowerCase().includes(searchTerm.toLowerCase())||((_classe$level3=classe.level)===null||_classe$level3===void 0?void 0:_classe$level3.name.toLowerCase().includes(searchTerm.toLowerCase()))||((_classe$level4=classe.level)===null||_classe$level4===void 0?void 0:(_classe$level4$sectio=_classe$level4.section)===null||_classe$level4$sectio===void 0?void 0:_classe$level4$sectio.name.toLowerCase().includes(searchTerm.toLowerCase()));});// Filtrer les classes groupées selon la recherche\nconst filteredGroupedClasses=Object.keys(groupedClasses).reduce((acc,sectionKey)=>{const sectionData=groupedClasses[sectionKey];// Si sectionData est un objet avec des niveaux\nif(sectionData&&typeof sectionData==='object'&&!Array.isArray(sectionData)){const filteredSection={};Object.keys(sectionData).forEach(levelKey=>{const levelClasses=Array.isArray(sectionData[levelKey])?sectionData[levelKey]:[];const filteredLevelClasses=levelClasses.filter(classe=>{var _classe$level5,_classe$level6,_classe$level6$sectio;return classe.name.toLowerCase().includes(searchTerm.toLowerCase())||((_classe$level5=classe.level)===null||_classe$level5===void 0?void 0:_classe$level5.name.toLowerCase().includes(searchTerm.toLowerCase()))||((_classe$level6=classe.level)===null||_classe$level6===void 0?void 0:(_classe$level6$sectio=_classe$level6.section)===null||_classe$level6$sectio===void 0?void 0:_classe$level6$sectio.name.toLowerCase().includes(searchTerm.toLowerCase()));});if(filteredLevelClasses.length>0){filteredSection[levelKey]=filteredLevelClasses;}});if(Object.keys(filteredSection).length>0){acc[sectionKey]=filteredSection;}}// Si sectionData est directement un array (fallback)\nelse if(Array.isArray(sectionData)){const filteredGroupClasses=sectionData.filter(classe=>{var _classe$level7,_classe$level8,_classe$level8$sectio;return classe.name.toLowerCase().includes(searchTerm.toLowerCase())||((_classe$level7=classe.level)===null||_classe$level7===void 0?void 0:_classe$level7.name.toLowerCase().includes(searchTerm.toLowerCase()))||((_classe$level8=classe.level)===null||_classe$level8===void 0?void 0:(_classe$level8$sectio=_classe$level8.section)===null||_classe$level8$sectio===void 0?void 0:_classe$level8$sectio.name.toLowerCase().includes(searchTerm.toLowerCase()));});if(filteredGroupClasses.length>0){acc[sectionKey]=filteredGroupClasses;}}return acc;},{});if(loading&&classes.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Chargement des classes...\"})})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h4 mb-1\",children:\"Gestion des Classes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Visualisation des classes et gestion des \\xE9l\\xE8ves (Mode Comptable)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center gap-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-info\",children:[/*#__PURE__*/_jsx(InfoCircle,{size:14,className:\"me-1\"}),\"Lecture seule\"]})})]})})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger alert-dismissible fade show\",role:\"alert\",children:[error,/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setError(''),\"aria-label\":\"Close\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-primary text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fs-2 fw-bold\",children:stats.total_students}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xC9l\\xE8ves Total\"})]}),/*#__PURE__*/_jsx(PeopleFill,{size:40,className:\"opacity-75\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-success text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fs-2 fw-bold\",children:stats.total_classes}),/*#__PURE__*/_jsx(\"div\",{children:\"Classes\"})]}),/*#__PURE__*/_jsx(HouseHeartFill,{size:40,className:\"opacity-75\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-warning text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fs-2 fw-bold\",children:stats.total_series}),/*#__PURE__*/_jsx(\"div\",{children:\"S\\xE9ries\"})]}),/*#__PURE__*/_jsx(Grid,{size:40,className:\"opacity-75\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-info text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fs-6 fw-bold\",children:stats.current_year}),/*#__PURE__*/_jsx(\"div\",{children:\"Ann\\xE9e Scolaire\"})]}),/*#__PURE__*/_jsx(InfoCircle,{size:40,className:\"opacity-75\"})]})})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Rechercher\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\",size:16}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control ps-5\",placeholder:\"Rechercher par nom de classe, niveau ou section...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 d-flex align-items-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group w-100\",role:\"group\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`btn ${viewMode==='grouped'?'btn-primary':'btn-outline-secondary'}`,onClick:()=>setViewMode('grouped'),children:[/*#__PURE__*/_jsx(Building,{size:16,className:\"me-1\"}),\"Group\\xE9\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`btn ${viewMode==='grid'?'btn-primary':'btn-outline-secondary'}`,onClick:()=>setViewMode('grid'),children:[/*#__PURE__*/_jsx(Grid,{size:16,className:\"me-1\"}),\"Grille\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`btn ${viewMode==='list'?'btn-primary':'btn-outline-secondary'}`,onClick:()=>setViewMode('list'),children:[/*#__PURE__*/_jsx(List,{size:16,className:\"me-1\"}),\"Liste\"]})]})})]})})})})}),viewMode==='grouped'?/*#__PURE__*/// Vue groupée par sections et classes\n_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:Object.keys(filteredGroupedClasses).length===0?/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center py-5\",children:[/*#__PURE__*/_jsx(HouseHeartFill,{size:48,className:\"text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-muted\",children:\"Aucune classe trouv\\xE9e\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:searchTerm?'Aucune classe ne correspond à vos critères de recherche.':'Aucune classe disponible pour le moment.'}),!searchTerm&&Object.keys(groupedClasses).length===0&&classes.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"V\\xE9rifiez que des classes ont \\xE9t\\xE9 cr\\xE9\\xE9es dans l'administration.\"})}),!searchTerm&&Object.keys(groupedClasses).length===0&&classes.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-primary\",onClick:()=>setViewMode('grid'),children:\"Voir en mode grille\"})})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"accordion\",id:\"classesAccordion\",children:Object.entries(filteredGroupedClasses).map((_ref,sectionIndex)=>{let[sectionKey,sectionData]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-primary text-white\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Building,{size:18,className:\"me-2\"}),sectionKey,/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-light text-dark ms-2\",children:[typeof sectionData==='object'&&!Array.isArray(sectionData)?Object.values(sectionData).reduce((total,levelClasses)=>total+(Array.isArray(levelClasses)?levelClasses.length:0),0):Array.isArray(sectionData)?sectionData.length:0,\" classe\",(typeof sectionData==='object'&&!Array.isArray(sectionData)?Object.values(sectionData).reduce((total,levelClasses)=>total+(Array.isArray(levelClasses)?levelClasses.length:0),0):Array.isArray(sectionData)?sectionData.length:0)>1?'s':'']})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:typeof sectionData==='object'&&!Array.isArray(sectionData)?// Structure hiérarchique : Section > Niveau > Classes\nObject.entries(sectionData).map(_ref2=>{let[levelKey,levelClasses]=_ref2;const levelClassesArray=Array.isArray(levelClasses)?levelClasses:[];return/*#__PURE__*/_jsxs(\"div\",{className:\"border-bottom\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-light p-3\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0 text-secondary\",children:[/*#__PURE__*/_jsx(Grid,{size:16,className:\"me-2\"}),levelKey,/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary ms-2\",children:[levelClassesArray.length,\" classe\",levelClassesArray.length>1?'s':'']})]})}),levelClassesArray.map(classItem=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 d-flex justify-content-between align-items-center cursor-pointer\",onClick:()=>toggleClassExpansion(classItem.id),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[expandedClasses[classItem.id]?/*#__PURE__*/_jsx(ChevronDown,{size:16,className:\"me-2 text-muted\"}):/*#__PURE__*/_jsx(ChevronRight,{size:16,className:\"me-2 text-muted\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-1\",children:classItem.name}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[classItem.series_count||0,\" s\\xE9rie\",(classItem.series_count||0)>1?'s':'',\" \\u2022 \",classItem.total_students||0,\" \\xE9l\\xE8ve\",(classItem.total_students||0)>1?'s':'']})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsx(Link,{to:`/class-comp/${classItem.id}`,className:\"btn btn-sm btn-outline-primary\",onClick:e=>e.stopPropagation(),title:\"Voir les s\\xE9ries\",children:/*#__PURE__*/_jsx(Eye,{size:14})})})]}),expandedClasses[classItem.id]&&/*#__PURE__*/_jsx(\"div\",{className:\"px-3 pb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"text-primary mb-3\",children:[/*#__PURE__*/_jsx(PeopleFill,{size:16,className:\"me-2\"}),\"S\\xE9ries\"]}),classItem.series&&classItem.series.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"list-group list-group-flush\",children:classItem.series.map(serie=>/*#__PURE__*/_jsx(\"div\",{className:\"list-group-item border-0 px-0 py-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-medium\",children:serie.name}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted ms-2\",children:[serie.students_count||0,\" \\xE9l\\xE8ve\",(serie.students_count||0)>1?'s':'']})]}),/*#__PURE__*/_jsx(Link,{to:`/students/series/${serie.id}`,className:\"btn btn-sm btn-outline-success\",children:\"Voir \\xE9l\\xE8ves\"})]})},serie.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Aucune s\\xE9rie configur\\xE9e\"})]})})})]},classItem.id))]},levelKey);}):// Structure simple : Section > Classes directement\nArray.isArray(sectionData)?sectionData.map(classItem=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 d-flex justify-content-between align-items-center cursor-pointer\",onClick:()=>toggleClassExpansion(classItem.id),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[expandedClasses[classItem.id]?/*#__PURE__*/_jsx(ChevronDown,{size:16,className:\"me-2 text-muted\"}):/*#__PURE__*/_jsx(ChevronRight,{size:16,className:\"me-2 text-muted\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-1\",children:classItem.name}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[classItem.series_count||0,\" s\\xE9rie\",(classItem.series_count||0)>1?'s':'',\" \\u2022 \",classItem.total_students||0,\" \\xE9l\\xE8ve\",(classItem.total_students||0)>1?'s':'']})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsx(Link,{to:`/class-comp/${classItem.id}`,className:\"btn btn-sm btn-outline-primary\",onClick:e=>e.stopPropagation(),title:\"Voir les s\\xE9ries\",children:/*#__PURE__*/_jsx(Eye,{size:14})})})]}),expandedClasses[classItem.id]&&/*#__PURE__*/_jsx(\"div\",{className:\"px-3 pb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"text-primary mb-3\",children:[/*#__PURE__*/_jsx(PeopleFill,{size:16,className:\"me-2\"}),\"S\\xE9ries\"]}),classItem.series&&classItem.series.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"list-group list-group-flush\",children:classItem.series.map(serie=>/*#__PURE__*/_jsx(\"div\",{className:\"list-group-item border-0 px-0 py-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-medium\",children:serie.name}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted ms-2\",children:[serie.students_count||0,\" \\xE9l\\xE8ve\",(serie.students_count||0)>1?'s':'']})]}),/*#__PURE__*/_jsx(Link,{to:`/students/series/${serie.id}`,className:\"btn btn-sm btn-outline-success\",children:\"Voir \\xE9l\\xE8ves\"})]})},serie.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Aucune s\\xE9rie configur\\xE9e\"})]})})})]},classItem.id)):null})]},sectionKey);})})})}):viewMode==='grid'?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:filteredClasses.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center py-5\",children:[/*#__PURE__*/_jsx(HouseHeartFill,{size:48,className:\"text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-muted\",children:\"Aucune classe trouv\\xE9e\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:searchTerm?'Aucune classe ne correspond à vos critères de recherche.':'Aucune classe disponible pour le moment.'})]})})}):filteredClasses.map(classe=>{var _classe$level9,_classe$level9$sectio,_classe$level0;return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100 hover-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"card-title mb-1\",children:classe.name}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[(_classe$level9=classe.level)===null||_classe$level9===void 0?void 0:(_classe$level9$sectio=_classe$level9.section)===null||_classe$level9$sectio===void 0?void 0:_classe$level9$sectio.name,\" - \",(_classe$level0=classe.level)===null||_classe$level0===void 0?void 0:_classe$level0.name]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-primary\",children:[classe.series_count||0,\" s\\xE9rie\",(classe.series_count||0)>1?'s':'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mt-auto\",children:[/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[classe.total_students||0,\" \\xE9l\\xE8ve\",(classe.total_students||0)>1?'s':'']}),/*#__PURE__*/_jsx(Link,{to:`/class-comp/${classe.id}`,className:\"btn btn-primary btn-sm\",children:\"Voir les s\\xE9ries\"})]})]})})},classe.id);})}):/*#__PURE__*/// Liste view\n_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Classe\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Section\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Niveau\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\xE9ries\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\xC9l\\xE8ves\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredClasses.map(classe=>{var _classe$level1,_classe$level1$sectio,_classe$level10;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"fw-medium\",children:classe.name}),/*#__PURE__*/_jsx(\"td\",{children:(_classe$level1=classe.level)===null||_classe$level1===void 0?void 0:(_classe$level1$sectio=_classe$level1.section)===null||_classe$level1$sectio===void 0?void 0:_classe$level1$sectio.name}),/*#__PURE__*/_jsx(\"td\",{children:(_classe$level10=classe.level)===null||_classe$level10===void 0?void 0:_classe$level10.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-light text-dark\",children:[classe.series_count||0,\" s\\xE9rie\",(classe.series_count||0)>1?'s':'']})}),/*#__PURE__*/_jsxs(\"td\",{children:[classe.total_students||0,\" \\xE9l\\xE8ve\",(classe.total_students||0)>1?'s':'']}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:`/class-comp/${classe.id}`,className:\"btn btn-sm btn-primary\",children:\"Voir les s\\xE9ries\"})})]},classe.id);})})]})})})})})}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n                .hover-card {\n                    transition: box-shadow 0.2s ease-in-out;\n                }\n                .hover-card:hover {\n                    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n                }\n            `})]});};export default AccountantClasses;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","HouseHeartFill","PeopleFill","Search","Grid","List","InfoCircle","Building","ChevronDown","ChevronRight","Eye","secureApiEndpoints","jsx","_jsx","jsxs","_jsxs","AccountantClasses","navigate","classes","setClasses","groupedClasses","setGroupedClasses","expandedClasses","setExpandedClasses","loading","setLoading","error","setError","success","setSuccess","searchTerm","setSearchTerm","viewMode","setViewMode","stats","setStats","total_students","total_classes","total_series","loadClasses","loadDashboard","response","accountant","getClasses","_response$data","_response$data2","data","grouped_classes","Object","keys","length","simpleGrouped","reduce","acc","classe","_classe$level","_classe$level$section","_classe$level2","groupKey","level","section","name","push","message","console","dashboard","toggleClassExpansion","classId","prev","filteredClasses","filter","_classe$level3","_classe$level4","_classe$level4$sectio","toLowerCase","includes","filteredGroupedClasses","sectionKey","sectionData","Array","isArray","filteredSection","forEach","levelKey","levelClasses","filteredLevelClasses","_classe$level5","_classe$level6","_classe$level6$sectio","filteredGroupClasses","_classe$level7","_classe$level8","_classe$level8$sectio","className","children","role","size","type","onClick","current_year","placeholder","value","onChange","e","target","id","entries","map","_ref","sectionIndex","values","total","_ref2","levelClassesArray","classItem","style","cursor","series_count","to","stopPropagation","title","series","serie","students_count","_classe$level9","_classe$level9$sectio","_classe$level0","_classe$level1","_classe$level1$sectio","_classe$level10"],"sources":["/var/www/College-IUP/front/src/pages/comptables/Class.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport {\n    HouseHeartFill,\n    PeopleFill,\n    Search,\n    Grid,\n    List,\n    InfoCircle,\n    Building,\n    ChevronDown,\n    ChevronRight,\n    Eye\n} from 'react-bootstrap-icons';\nimport { secureApiEndpoints } from '../../utils/apiMigration';\n\nconst AccountantClasses = () => {\n    const navigate = useNavigate();\n    \n    const [classes, setClasses] = useState([]);\n    const [groupedClasses, setGroupedClasses] = useState({});\n    const [expandedClasses, setExpandedClasses] = useState({});\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    const [searchTerm, setSearchTerm] = useState('');\n    const [viewMode, setViewMode] = useState('grouped');\n    const [stats, setStats] = useState({\n        total_students: 0,\n        total_classes: 0,\n        total_series: 0\n    });\n\n    useEffect(() => {\n        loadClasses();\n        loadDashboard();\n    }, []);\n\n    const loadClasses = async () => {\n        try {\n            setLoading(true);\n            const response = await secureApiEndpoints.accountant.getClasses();\n            \n            if (response.success) {\n                const classes = response.data?.classes || response.data || [];\n                const groupedClasses = response.data?.grouped_classes || {};\n                \n                setClasses(classes);\n                setGroupedClasses(groupedClasses);\n                \n                // Si pas de données groupées, créer un groupement simple\n                if (Object.keys(groupedClasses).length === 0 && classes.length > 0) {\n                    const simpleGrouped = classes.reduce((acc, classe) => {\n                        const groupKey = `${classe.level?.section?.name || 'Section inconnue'} - ${classe.level?.name || 'Niveau inconnu'}`;\n                        if (!acc[groupKey]) {\n                            acc[groupKey] = [];\n                        }\n                        acc[groupKey].push(classe);\n                        return acc;\n                    }, {});\n                    setGroupedClasses(simpleGrouped);\n                }\n            } else {\n                setError(response.message || 'Erreur lors du chargement des classes');\n            }\n        } catch (error) {\n            console.error('Error loading classes:', error);\n            setError('Erreur lors du chargement des classes');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const loadDashboard = async () => {\n        try {\n            const response = await secureApiEndpoints.accountant.dashboard();\n            if (response.success) {\n                setStats(response.data);\n            }\n        } catch (error) {\n            console.error('Error loading dashboard:', error);\n        }\n    };\n\n    // Fonction pour gérer l'expansion des classes\n    const toggleClassExpansion = (classId) => {\n        setExpandedClasses(prev => ({\n            ...prev,\n            [classId]: !prev[classId]\n        }));\n    };\n\n    // Filtrer les classes selon la recherche\n    const filteredClasses = classes.filter(classe =>\n        classe.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        classe.level?.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        classe.level?.section?.name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    // Filtrer les classes groupées selon la recherche\n    const filteredGroupedClasses = Object.keys(groupedClasses).reduce((acc, sectionKey) => {\n        const sectionData = groupedClasses[sectionKey];\n        \n        // Si sectionData est un objet avec des niveaux\n        if (sectionData && typeof sectionData === 'object' && !Array.isArray(sectionData)) {\n            const filteredSection = {};\n            \n            Object.keys(sectionData).forEach(levelKey => {\n                const levelClasses = Array.isArray(sectionData[levelKey]) ? sectionData[levelKey] : [];\n                const filteredLevelClasses = levelClasses.filter(classe =>\n                    classe.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                    classe.level?.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                    classe.level?.section?.name.toLowerCase().includes(searchTerm.toLowerCase())\n                );\n                \n                if (filteredLevelClasses.length > 0) {\n                    filteredSection[levelKey] = filteredLevelClasses;\n                }\n            });\n            \n            if (Object.keys(filteredSection).length > 0) {\n                acc[sectionKey] = filteredSection;\n            }\n        }\n        // Si sectionData est directement un array (fallback)\n        else if (Array.isArray(sectionData)) {\n            const filteredGroupClasses = sectionData.filter(classe =>\n                classe.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                classe.level?.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                classe.level?.section?.name.toLowerCase().includes(searchTerm.toLowerCase())\n            );\n            if (filteredGroupClasses.length > 0) {\n                acc[sectionKey] = filteredGroupClasses;\n            }\n        }\n        \n        return acc;\n    }, {});\n\n    if (loading && classes.length === 0) {\n        return (\n            <div className=\"container-fluid py-4\">\n                <div className=\"text-center py-5\">\n                    <div className=\"spinner-border\" role=\"status\">\n                        <span className=\"visually-hidden\">Chargement des classes...</span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"container-fluid py-4\">\n            {/* Header */}\n            <div className=\"row mb-4\">\n                <div className=\"col-12\">\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <h2 className=\"h4 mb-1\">Gestion des Classes</h2>\n                            <p className=\"text-muted mb-0\">\n                                Visualisation des classes et gestion des élèves (Mode Comptable)\n                            </p>\n                        </div>\n                        <div className=\"d-flex align-items-center gap-2\">\n                            <span className=\"badge bg-info\">\n                                <InfoCircle size={14} className=\"me-1\" />\n                                Lecture seule\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Alerts */}\n            {error && (\n                <div className=\"row mb-3\">\n                    <div className=\"col-12\">\n                        <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n                            {error}\n                            <button \n                                type=\"button\" \n                                className=\"btn-close\" \n                                onClick={() => setError('')}\n                                aria-label=\"Close\"\n                            ></button>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Stats Cards */}\n            <div className=\"row mb-4\">\n                <div className=\"col-md-3\">\n                    <div className=\"card bg-primary text-white\">\n                        <div className=\"card-body\">\n                            <div className=\"d-flex justify-content-between\">\n                                <div>\n                                    <div className=\"fs-2 fw-bold\">{stats.total_students}</div>\n                                    <div>Élèves Total</div>\n                                </div>\n                                <PeopleFill size={40} className=\"opacity-75\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-3\">\n                    <div className=\"card bg-success text-white\">\n                        <div className=\"card-body\">\n                            <div className=\"d-flex justify-content-between\">\n                                <div>\n                                    <div className=\"fs-2 fw-bold\">{stats.total_classes}</div>\n                                    <div>Classes</div>\n                                </div>\n                                <HouseHeartFill size={40} className=\"opacity-75\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-3\">\n                    <div className=\"card bg-warning text-white\">\n                        <div className=\"card-body\">\n                            <div className=\"d-flex justify-content-between\">\n                                <div>\n                                    <div className=\"fs-2 fw-bold\">{stats.total_series}</div>\n                                    <div>Séries</div>\n                                </div>\n                                <Grid size={40} className=\"opacity-75\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-3\">\n                    <div className=\"card bg-info text-white\">\n                        <div className=\"card-body\">\n                            <div className=\"d-flex justify-content-between\">\n                                <div>\n                                    <div className=\"fs-6 fw-bold\">{stats.current_year}</div>\n                                    <div>Année Scolaire</div>\n                                </div>\n                                <InfoCircle size={40} className=\"opacity-75\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Filters */}\n            <div className=\"row mb-4\">\n                <div className=\"col-12\">\n                    <div className=\"card\">\n                        <div className=\"card-body\">\n                            <div className=\"row g-3\">\n                                <div className=\"col-md-8\">\n                                    <label className=\"form-label\">Rechercher</label>\n                                    <div className=\"position-relative\">\n                                        <Search className=\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\" size={16} />\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-control ps-5\"\n                                            placeholder=\"Rechercher par nom de classe, niveau ou section...\"\n                                            value={searchTerm}\n                                            onChange={(e) => setSearchTerm(e.target.value)}\n                                        />\n                                    </div>\n                                </div>\n                                <div className=\"col-md-4 d-flex align-items-end\">\n                                    <div className=\"btn-group w-100\" role=\"group\">\n                                        <button\n                                            type=\"button\"\n                                            className={`btn ${viewMode === 'grouped' ? 'btn-primary' : 'btn-outline-secondary'}`}\n                                            onClick={() => setViewMode('grouped')}\n                                        >\n                                            <Building size={16} className=\"me-1\" />\n                                            Groupé\n                                        </button>\n                                        <button\n                                            type=\"button\"\n                                            className={`btn ${viewMode === 'grid' ? 'btn-primary' : 'btn-outline-secondary'}`}\n                                            onClick={() => setViewMode('grid')}\n                                        >\n                                            <Grid size={16} className=\"me-1\" />\n                                            Grille\n                                        </button>\n                                        <button\n                                            type=\"button\"\n                                            className={`btn ${viewMode === 'list' ? 'btn-primary' : 'btn-outline-secondary'}`}\n                                            onClick={() => setViewMode('list')}\n                                        >\n                                            <List size={16} className=\"me-1\" />\n                                            Liste\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Classes Display */}\n            {viewMode === 'grouped' ? (\n                // Vue groupée par sections et classes\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        {Object.keys(filteredGroupedClasses).length === 0 ? (\n                            <div className=\"card\">\n                                <div className=\"card-body text-center py-5\">\n                                    <HouseHeartFill size={48} className=\"text-muted mb-3\" />\n                                    <h5 className=\"text-muted\">Aucune classe trouvée</h5>\n                                    <p className=\"text-muted\">\n                                        {searchTerm \n                                            ? 'Aucune classe ne correspond à vos critères de recherche.'\n                                            : 'Aucune classe disponible pour le moment.'\n                                        }\n                                    </p>\n                                    {!searchTerm && Object.keys(groupedClasses).length === 0 && classes.length === 0 && (\n                                        <div className=\"mt-3\">\n                                            <small className=\"text-muted\">\n                                                Vérifiez que des classes ont été créées dans l'administration.\n                                            </small>\n                                        </div>\n                                    )}\n                                    {!searchTerm && Object.keys(groupedClasses).length === 0 && classes.length > 0 && (\n                                        <div className=\"mt-3\">\n                                            <button \n                                                className=\"btn btn-sm btn-outline-primary\"\n                                                onClick={() => setViewMode('grid')}\n                                            >\n                                                Voir en mode grille\n                                            </button>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        ) : (\n                            <div className=\"accordion\" id=\"classesAccordion\">\n                                {Object.entries(filteredGroupedClasses).map(([sectionKey, sectionData], sectionIndex) => (\n                                    <div key={sectionKey} className=\"card mb-3\">\n                                        <div className=\"card-header bg-primary text-white\">\n                                            <h5 className=\"mb-0 d-flex align-items-center\">\n                                                <Building size={18} className=\"me-2\" />\n                                                {sectionKey}\n                                                <span className=\"badge bg-light text-dark ms-2\">\n                                                    {typeof sectionData === 'object' && !Array.isArray(sectionData) \n                                                        ? Object.values(sectionData).reduce((total, levelClasses) => total + (Array.isArray(levelClasses) ? levelClasses.length : 0), 0)\n                                                        : Array.isArray(sectionData) ? sectionData.length : 0\n                                                    } classe{(typeof sectionData === 'object' && !Array.isArray(sectionData) \n                                                        ? Object.values(sectionData).reduce((total, levelClasses) => total + (Array.isArray(levelClasses) ? levelClasses.length : 0), 0)\n                                                        : Array.isArray(sectionData) ? sectionData.length : 0\n                                                    ) > 1 ? 's' : ''}\n                                                </span>\n                                            </h5>\n                                        </div>\n                                        <div className=\"card-body p-0\">\n                                            {typeof sectionData === 'object' && !Array.isArray(sectionData) ? (\n                                                // Structure hiérarchique : Section > Niveau > Classes\n                                                Object.entries(sectionData).map(([levelKey, levelClasses]) => {\n                                                    const levelClassesArray = Array.isArray(levelClasses) ? levelClasses : [];\n                                                    return (\n                                                        <div key={levelKey} className=\"border-bottom\">\n                                                            <div className=\"bg-light p-3\">\n                                                                <h6 className=\"mb-0 text-secondary\">\n                                                                    <Grid size={16} className=\"me-2\" />\n                                                                    {levelKey}\n                                                                    <span className=\"badge bg-secondary ms-2\">\n                                                                        {levelClassesArray.length} classe{levelClassesArray.length > 1 ? 's' : ''}\n                                                                    </span>\n                                                                </h6>\n                                                            </div>\n                                                            {levelClassesArray.map((classItem) => (\n                                                <div key={classItem.id} className=\"border-bottom\">\n                                                    {/* En-tête de la classe */}\n                                                    <div \n                                                        className=\"p-3 d-flex justify-content-between align-items-center cursor-pointer\"\n                                                        onClick={() => toggleClassExpansion(classItem.id)}\n                                                        style={{ cursor: 'pointer' }}\n                                                    >\n                                                        <div className=\"d-flex align-items-center\">\n                                                            {expandedClasses[classItem.id] ? \n                                                                <ChevronDown size={16} className=\"me-2 text-muted\" /> :\n                                                                <ChevronRight size={16} className=\"me-2 text-muted\" />\n                                                            }\n                                                            <div>\n                                                                <h6 className=\"mb-1\">{classItem.name}</h6>\n                                                                <small className=\"text-muted\">\n                                                                    {classItem.series_count || 0} série{(classItem.series_count || 0) > 1 ? 's' : ''} • {classItem.total_students || 0} élève{(classItem.total_students || 0) > 1 ? 's' : ''}\n                                                                </small>\n                                                            </div>\n                                                        </div>\n                                                        <div className=\"d-flex gap-2\">\n                                                            <Link\n                                                                to={`/class-comp/${classItem.id}`}\n                                                                className=\"btn btn-sm btn-outline-primary\"\n                                                                onClick={(e) => e.stopPropagation()}\n                                                                title=\"Voir les séries\"\n                                                            >\n                                                                <Eye size={14} />\n                                                            </Link>\n                                                        </div>\n                                                    </div>\n\n                                                    {/* Détails de la classe (séries) */}\n                                                    {expandedClasses[classItem.id] && (\n                                                        <div className=\"px-3 pb-3\">\n                                                            <div className=\"row\">\n                                                                <div className=\"col-12\">\n                                                                    <h6 className=\"text-primary mb-3\">\n                                                                        <PeopleFill size={16} className=\"me-2\" />\n                                                                        Séries\n                                                                    </h6>\n                                                                    {classItem.series && classItem.series.length > 0 ? (\n                                                                        <div className=\"list-group list-group-flush\">\n                                                                            {classItem.series.map((serie) => (\n                                                                                <div key={serie.id} className=\"list-group-item border-0 px-0 py-2\">\n                                                                                    <div className=\"d-flex justify-content-between align-items-center\">\n                                                                                        <div>\n                                                                                            <span className=\"fw-medium\">{serie.name}</span>\n                                                                                            <small className=\"text-muted ms-2\">\n                                                                                                {serie.students_count || 0} élève{(serie.students_count || 0) > 1 ? 's' : ''}\n                                                                                            </small>\n                                                                                        </div>\n                                                                                        <Link\n                                                                                            to={`/students/series/${serie.id}`}\n                                                                                            className=\"btn btn-sm btn-outline-success\"\n                                                                                        >\n                                                                                            Voir élèves\n                                                                                        </Link>\n                                                                                    </div>\n                                                                                </div>\n                                                                            ))}\n                                                                        </div>\n                                                                    ) : (\n                                                                        <p className=\"text-muted\">Aucune série configurée</p>\n                                                                    )}\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    )}\n                                                </div>\n                                                            ))}\n                                                        </div>\n                                                    );\n                                                })\n                                            ) : (\n                                                // Structure simple : Section > Classes directement\n                                                Array.isArray(sectionData) ? sectionData.map((classItem) => (\n                                                    <div key={classItem.id} className=\"border-bottom\">\n                                                        {/* En-tête de la classe */}\n                                                        <div \n                                                            className=\"p-3 d-flex justify-content-between align-items-center cursor-pointer\"\n                                                            onClick={() => toggleClassExpansion(classItem.id)}\n                                                            style={{ cursor: 'pointer' }}\n                                                        >\n                                                            <div className=\"d-flex align-items-center\">\n                                                                {expandedClasses[classItem.id] ? \n                                                                    <ChevronDown size={16} className=\"me-2 text-muted\" /> :\n                                                                    <ChevronRight size={16} className=\"me-2 text-muted\" />\n                                                                }\n                                                                <div>\n                                                                    <h6 className=\"mb-1\">{classItem.name}</h6>\n                                                                    <small className=\"text-muted\">\n                                                                        {classItem.series_count || 0} série{(classItem.series_count || 0) > 1 ? 's' : ''} • {classItem.total_students || 0} élève{(classItem.total_students || 0) > 1 ? 's' : ''}\n                                                                    </small>\n                                                                </div>\n                                                            </div>\n                                                            <div className=\"d-flex gap-2\">\n                                                                <Link\n                                                                    to={`/class-comp/${classItem.id}`}\n                                                                    className=\"btn btn-sm btn-outline-primary\"\n                                                                    onClick={(e) => e.stopPropagation()}\n                                                                    title=\"Voir les séries\"\n                                                                >\n                                                                    <Eye size={14} />\n                                                                </Link>\n                                                            </div>\n                                                        </div>\n\n                                                        {/* Détails de la classe (séries) */}\n                                                        {expandedClasses[classItem.id] && (\n                                                            <div className=\"px-3 pb-3\">\n                                                                <div className=\"row\">\n                                                                    <div className=\"col-12\">\n                                                                        <h6 className=\"text-primary mb-3\">\n                                                                            <PeopleFill size={16} className=\"me-2\" />\n                                                                            Séries\n                                                                        </h6>\n                                                                        {classItem.series && classItem.series.length > 0 ? (\n                                                                            <div className=\"list-group list-group-flush\">\n                                                                                {classItem.series.map((serie) => (\n                                                                                    <div key={serie.id} className=\"list-group-item border-0 px-0 py-2\">\n                                                                                        <div className=\"d-flex justify-content-between align-items-center\">\n                                                                                            <div>\n                                                                                                <span className=\"fw-medium\">{serie.name}</span>\n                                                                                                <small className=\"text-muted ms-2\">\n                                                                                                    {serie.students_count || 0} élève{(serie.students_count || 0) > 1 ? 's' : ''}\n                                                                                                </small>\n                                                                                            </div>\n                                                                                            <Link\n                                                                                                to={`/students/series/${serie.id}`}\n                                                                                                className=\"btn btn-sm btn-outline-success\"\n                                                                                            >\n                                                                                                Voir élèves\n                                                                                            </Link>\n                                                                                        </div>\n                                                                                    </div>\n                                                                                ))}\n                                                                            </div>\n                                                                        ) : (\n                                                                            <p className=\"text-muted\">Aucune série configurée</p>\n                                                                        )}\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                )) : null\n                                            )}\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            ) : viewMode === 'grid' ? (\n                <div className=\"row\">\n                    {filteredClasses.length === 0 ? (\n                        <div className=\"col-12\">\n                            <div className=\"card\">\n                                <div className=\"card-body text-center py-5\">\n                                    <HouseHeartFill size={48} className=\"text-muted mb-3\" />\n                                    <h5 className=\"text-muted\">Aucune classe trouvée</h5>\n                                    <p className=\"text-muted\">\n                                        {searchTerm \n                                            ? 'Aucune classe ne correspond à vos critères de recherche.'\n                                            : 'Aucune classe disponible pour le moment.'\n                                        }\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    ) : (\n                        filteredClasses.map((classe) => (\n                            <div key={classe.id} className=\"col-md-6 col-lg-4 mb-4\">\n                                <div className=\"card h-100 hover-card\">\n                                    <div className=\"card-body\">\n                                        <div className=\"d-flex justify-content-between align-items-start mb-3\">\n                                            <div>\n                                                <h6 className=\"card-title mb-1\">{classe.name}</h6>\n                                                <small className=\"text-muted\">\n                                                    {classe.level?.section?.name} - {classe.level?.name}\n                                                </small>\n                                            </div>\n                                            <span className=\"badge bg-primary\">\n                                                {classe.series_count || 0} série{(classe.series_count || 0) > 1 ? 's' : ''}\n                                            </span>\n                                        </div>\n                                        \n                                        <div className=\"d-flex justify-content-between align-items-center mt-auto\">\n                                            <small className=\"text-muted\">\n                                                {classe.total_students || 0} élève{(classe.total_students || 0) > 1 ? 's' : ''}\n                                            </small>\n                                            <Link\n                                                to={`/class-comp/${classe.id}`}\n                                                className=\"btn btn-primary btn-sm\"\n                                            >\n                                                Voir les séries\n                                            </Link>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        ))\n                    )}\n                </div>\n            ) : (\n                // Liste view\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <div className=\"card\">\n                            <div className=\"card-body p-0\">\n                                <div className=\"table-responsive\">\n                                    <table className=\"table table-hover mb-0\">\n                                        <thead className=\"table-light\">\n                                            <tr>\n                                                <th>Classe</th>\n                                                <th>Section</th>\n                                                <th>Niveau</th>\n                                                <th>Séries</th>\n                                                <th>Élèves</th>\n                                                <th>Actions</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {filteredClasses.map((classe) => (\n                                                <tr key={classe.id}>\n                                                    <td className=\"fw-medium\">{classe.name}</td>\n                                                    <td>{classe.level?.section?.name}</td>\n                                                    <td>{classe.level?.name}</td>\n                                                    <td>\n                                                        <span className=\"badge bg-light text-dark\">\n                                                            {classe.series_count || 0} série{(classe.series_count || 0) > 1 ? 's' : ''}\n                                                        </span>\n                                                    </td>\n                                                    <td>{classe.total_students || 0} élève{(classe.total_students || 0) > 1 ? 's' : ''}</td>\n                                                    <td>\n                                                        <Link\n                                                            to={`/class-comp/${classe.id}`}\n                                                            className=\"btn btn-sm btn-primary\"\n                                                        >\n                                                            Voir les séries\n                                                        </Link>\n                                                    </td>\n                                                </tr>\n                                            ))}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* CSS for hover effects */}\n            <style jsx>{`\n                .hover-card {\n                    transition: box-shadow 0.2s ease-in-out;\n                }\n                .hover-card:hover {\n                    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n                }\n            `}</style>\n        </div>\n    );\n};\n\nexport default AccountantClasses;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}