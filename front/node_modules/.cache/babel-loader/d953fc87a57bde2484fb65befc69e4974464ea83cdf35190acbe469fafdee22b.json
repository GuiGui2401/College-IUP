{"ast":null,"code":"import React from'react';import{useSchool}from'../contexts/SchoolContext';import defaultPhoto from'../images/1.png';import cameroonFlag from'../images/carte.jpeg';// On utilisera le drapeau intÃ©grÃ© dans l'image de rÃ©fÃ©rence\nimport{host}from'../utils/fetch';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StudentCard=_ref=>{var _schoolSettings$schoo,_student$last_name,_student$class_series;let{student,schoolYear,onPrint}=_ref;const{schoolSettings,getLogoUrl}=useSchool();console.log(student);const getStudentPhotoUrl=student=>{// PrioritÃ© Ã  photo_url (URL complÃ¨te gÃ©nÃ©rÃ©e par le backend)\nif(student.photo_url){console.log('Using backend photo_url:',student.photo_url);return student.photo_url;}// Fallback sur le champ photo\nif(student.photo){// Si c'est dÃ©jÃ  une URL complÃ¨te\nif(student.photo.startsWith('http')){console.log('Using full URL from photo field:',student.photo);return student.photo;}// Si c'est un chemin relatif, construire l'URL complÃ¨te\nconst fullUrl=`${host}/storage/${student.photo}`;console.log('Constructed photo URL from photo field:',fullUrl);return fullUrl;}// Aucune photo trouvÃ©e, utiliser l'image par dÃ©faut\nconsole.log('No photo found for student:',student.full_name||`${student.first_name} ${student.last_name}`,'- using default');return defaultPhoto;};const formatDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return date.toLocaleDateString('fr-FR',{day:'2-digit',month:'2-digit',year:'numeric'});};const generateMatricule=student=>{if(student.matricule)return student.matricule;// GÃ©nÃ©rer un matricule basÃ© sur l'annÃ©e et l'ID\nconst year=new Date().getFullYear().toString().slice(-2);const id=student.id.toString().padStart(4,'0');return`${year}${id}AB`;};const generateQRCode=student=>{// Format conforme au systÃ¨me de prÃ©sences : \"STUDENT_ID_123\"\nconst qrData=`STUDENT_ID_${student.id}`;// GÃ©nÃ©rer le QR code avec une taille appropriÃ©e et marge minimale\nreturn`https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=${encodeURIComponent(qrData)}&margin=1`;};const cardStyle={width:'85.6mm',// Format carte standard\nheight:'54mm',backgroundColor:'#fff',border:'2px solid #e67e22',borderRadius:'8px',fontFamily:'Arial, sans-serif',fontSize:'9px',lineHeight:'1.1',overflow:'hidden',position:'relative',boxShadow:'0 2px 10px rgba(0,0,0,0.1)',margin:'0 auto'};const headerStyle={backgroundColor:'#f8f9fa',padding:'2px 4px',borderBottom:'1px solid #e67e22',textAlign:'center',fontSize:'7px',fontWeight:'bold'};const bodyStyle={padding:'3px',display:'flex',height:'calc(100% - 18px)',// RÃ©duire l'en-tÃªte pour plus d'espace\nposition:'relative'};const photoStyle={width:'32px',height:'38px',objectFit:'cover',border:'1px solid #ddd',borderRadius:'2px',marginRight:'3px',flexShrink:0};const infoStyle={flex:1,fontSize:'10px',lineHeight:'1.2',display:'flex',flexDirection:'column',justifyContent:'space-between',height:'100%',paddingRight:'34px'// Espace pour le QR code avec bordure\n};const qrStyle={position:'absolute',bottom:'20px',right:'4px',width:'50px',height:'50px',backgroundColor:'white',border:'1px solid #ddd',borderRadius:'2px',padding:'2px',boxSizing:'border-box'};const footerStyle={position:'absolute',bottom:'5px',left:'2px',fontSize:'5px',color:'#666'};return/*#__PURE__*/_jsxs(\"div\",{style:cardStyle,className:\"student-card\",children:[/*#__PURE__*/_jsx(\"div\",{style:headerStyle,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'6px'},children:[\"\\uD83C\\uDDE8\\uD83C\\uDDF2 R\\xC9PUBLIQUE DU CAMEROUN\",/*#__PURE__*/_jsx(\"br\",{}),\"Paix - Travail - Patrie\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'10px',fontWeight:'bold',color:'#2c3e50'},children:((_schoolSettings$schoo=schoolSettings.school_name)===null||_schoolSettings$schoo===void 0?void 0:_schoolSettings$schoo.toUpperCase())||'LYCÃ‰E GANALIS'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'8px',color:'#7f8c8d'},children:\"CARTE D'IDENTIT\\xC9 SCOLAIRE\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'20px'},children:getLogoUrl()&&/*#__PURE__*/_jsx(\"img\",{src:getLogoUrl(),alt:\"Logo\",style:{width:'18px',height:'18px',objectFit:'contain'}})})]})}),/*#__PURE__*/_jsxs(\"div\",{style:bodyStyle,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:getStudentPhotoUrl(student),alt:`${student.first_name} ${student.last_name}`,style:photoStyle,onError:e=>{// Ã‰viter les boucles infinies si l'image par dÃ©faut Ã©choue aussi\nif(e.target.src!==defaultPhoto){e.target.src=defaultPhoto;}},onLoad:e=>{// Debug: afficher l'URL de l'image chargÃ©e\nconsole.log('Photo loaded:',e.target.src);}})}),/*#__PURE__*/_jsx(\"div\",{style:infoStyle,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'7px',marginBottom:'1px',fontWeight:'bold',color:'#2c3e50'},children:[\"ANN\\xC9E SCOLAIRE : \",(schoolYear===null||schoolYear===void 0?void 0:schoolYear.year)||`${new Date().getFullYear()} - ${new Date().getFullYear()+1}`]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1px',fontSize:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nom :\"}),\" \",((_student$last_name=student.last_name)===null||_student$last_name===void 0?void 0:_student$last_name.toUpperCase())||'']}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1px',fontSize:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pr\\xE9nom :\"}),\" \",student.first_name||'']}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1px',fontSize:'9px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"N\\xE9(e) le :\"}),\" \",formatDate(student.date_of_birth),/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:'4px'},children:\"\\xC0 :\"}),\" \",student.place_of_birth||'DOUALA']}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1px',fontSize:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Matricule :\"}),\" \",generateMatricule(student)]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1px',fontSize:'9px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sexe :\"}),\" \",student.gender==='male'?'M':student.gender==='female'?'F':'M',/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:'8px'},children:\"Classe :\"}),\" \",((_student$class_series=student.class_series)===null||_student$class_series===void 0?void 0:_student$class_series.name)||student.current_class||'']}),student.parent_name&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1px',fontSize:'9px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Parent/Tuteur :\"}),\" \",student.parent_name]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1px',fontSize:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Contact :\"}),\" \",student.phone||student.parent_phone||'Non renseignÃ©']})]})}),/*#__PURE__*/_jsxs(\"div\",{style:qrStyle,children:[/*#__PURE__*/_jsx(\"img\",{src:generateQRCode(student),alt:\"QR Code\",style:{width:'100%',height:'100%',objectFit:'contain',display:'block',maxWidth:'100%',maxHeight:'100%'},onError:e=>{console.error('QR Code failed to load for student:',student.id);// Fallback: afficher un petit carrÃ© avec l'ID\ne.target.style.display='none';e.target.nextSibling.style.display='flex';},onLoad:()=>{console.log('QR Code loaded successfully for student:',student.id);}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'none',width:'100%',height:'100%',backgroundColor:'#f8f9fa',border:'1px solid #ddd',borderRadius:'2px',alignItems:'center',justifyContent:'center',fontSize:'6px',fontWeight:'bold',color:'#666',textAlign:'center',lineHeight:'1'},children:[\"ID\",/*#__PURE__*/_jsx(\"br\",{}),student.id]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',bottom:'5px',right:'30%',fontSize:'4px',color:'#aaa',textAlign:'center',maxWidth:'140px',lineHeight:'1.1'},children:[\"Generated by Djephix (www.djephix.com) \\xA9 / j'\",new Date().getFullYear(),\" ALL RIGHTS RESERVED\"]})]});};export default StudentCard;","map":{"version":3,"names":["React","useSchool","defaultPhoto","cameroonFlag","host","jsx","_jsx","jsxs","_jsxs","StudentCard","_ref","_schoolSettings$schoo","_student$last_name","_student$class_series","student","schoolYear","onPrint","schoolSettings","getLogoUrl","console","log","getStudentPhotoUrl","photo_url","photo","startsWith","fullUrl","full_name","first_name","last_name","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","generateMatricule","matricule","getFullYear","toString","slice","id","padStart","generateQRCode","qrData","encodeURIComponent","cardStyle","width","height","backgroundColor","border","borderRadius","fontFamily","fontSize","lineHeight","overflow","position","boxShadow","margin","headerStyle","padding","borderBottom","textAlign","fontWeight","bodyStyle","display","photoStyle","objectFit","marginRight","flexShrink","infoStyle","flex","flexDirection","justifyContent","paddingRight","qrStyle","bottom","right","boxSizing","footerStyle","left","color","style","className","children","alignItems","school_name","toUpperCase","src","alt","onError","e","target","onLoad","marginBottom","date_of_birth","marginLeft","place_of_birth","gender","class_series","name","current_class","parent_name","phone","parent_phone","maxWidth","maxHeight","error","nextSibling"],"sources":["/var/www/College-IUP/front/src/components/StudentCard.jsx"],"sourcesContent":["import React from 'react';\nimport { useSchool } from '../contexts/SchoolContext';\nimport defaultPhoto from '../images/1.png';\nimport cameroonFlag from '../images/carte.jpeg'; // On utilisera le drapeau intÃ©grÃ© dans l'image de rÃ©fÃ©rence\nimport { host } from '../utils/fetch';\n\nconst StudentCard = ({ student, schoolYear, onPrint }) => {\n    const { schoolSettings, getLogoUrl } = useSchool();\n    console.log(student);\n    \n    const getStudentPhotoUrl = (student) => {\n        // PrioritÃ© Ã  photo_url (URL complÃ¨te gÃ©nÃ©rÃ©e par le backend)\n        if (student.photo_url) {\n            console.log('Using backend photo_url:', student.photo_url);\n            return student.photo_url;\n        }\n        \n        // Fallback sur le champ photo\n        if (student.photo) {\n            // Si c'est dÃ©jÃ  une URL complÃ¨te\n            if (student.photo.startsWith('http')) {\n                console.log('Using full URL from photo field:', student.photo);\n                return student.photo;\n            }\n            \n            // Si c'est un chemin relatif, construire l'URL complÃ¨te\n            const fullUrl = `${host}/storage/${student.photo}`;\n            console.log('Constructed photo URL from photo field:', fullUrl);\n            return fullUrl;\n        }\n        \n        // Aucune photo trouvÃ©e, utiliser l'image par dÃ©faut\n        console.log('No photo found for student:', student.full_name || `${student.first_name} ${student.last_name}`, '- using default');\n        return defaultPhoto;\n    };\n\n    const formatDate = (dateString) => {\n        if (!dateString) return '';\n        const date = new Date(dateString);\n        return date.toLocaleDateString('fr-FR', {\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric'\n        });\n    };\n\n    const generateMatricule = (student) => {\n        if (student.matricule) return student.matricule;\n        \n        // GÃ©nÃ©rer un matricule basÃ© sur l'annÃ©e et l'ID\n        const year = new Date().getFullYear().toString().slice(-2);\n        const id = student.id.toString().padStart(4, '0');\n        return `${year}${id}AB`;\n    };\n\n    const generateQRCode = (student) => {\n        // Format conforme au systÃ¨me de prÃ©sences : \"STUDENT_ID_123\"\n        const qrData = `STUDENT_ID_${student.id}`;\n        \n        // GÃ©nÃ©rer le QR code avec une taille appropriÃ©e et marge minimale\n        return `https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=${encodeURIComponent(qrData)}&margin=1`;\n    };\n\n    const cardStyle = {\n        width: '85.6mm', // Format carte standard\n        height: '54mm',\n        backgroundColor: '#fff',\n        border: '2px solid #e67e22',\n        borderRadius: '8px',\n        fontFamily: 'Arial, sans-serif',\n        fontSize: '9px',\n        lineHeight: '1.1',\n        overflow: 'hidden',\n        position: 'relative',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n        margin: '0 auto'\n    };\n\n    const headerStyle = {\n        backgroundColor: '#f8f9fa',\n        padding: '2px 4px',\n        borderBottom: '1px solid #e67e22',\n        textAlign: 'center',\n        fontSize: '7px',\n        fontWeight: 'bold'\n    };\n\n    const bodyStyle = {\n        padding: '3px',\n        display: 'flex',\n        height: 'calc(100% - 18px)', // RÃ©duire l'en-tÃªte pour plus d'espace\n        position: 'relative'\n    };\n\n    const photoStyle = {\n        width: '32px',\n        height: '38px',\n        objectFit: 'cover',\n        border: '1px solid #ddd',\n        borderRadius: '2px',\n        marginRight: '3px',\n        flexShrink: 0\n    };\n\n    const infoStyle = {\n        flex: 1,\n        fontSize: '10px',\n        lineHeight: '1.2',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        height: '100%',\n        paddingRight: '34px' // Espace pour le QR code avec bordure\n    };\n\n    const qrStyle = {\n        position: 'absolute',\n        bottom: '20px',\n        right: '4px',\n        width: '50px',\n        height: '50px',\n        backgroundColor: 'white',\n        border: '1px solid #ddd',\n        borderRadius: '2px',\n        padding: '2px',\n        boxSizing: 'border-box'\n    };\n\n    const footerStyle = {\n        position: 'absolute',\n        bottom: '5px',\n        left: '2px',\n        fontSize: '5px',\n        color: '#666'\n    };\n\n    return (\n        <div style={cardStyle} className=\"student-card\">\n            {/* En-tÃªte avec drapeau et nom de l'Ã©cole */}\n            <div style={headerStyle}>\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                    <div style={{ fontSize: '6px' }}>\n                        ðŸ‡¨ðŸ‡² RÃ‰PUBLIQUE DU CAMEROUN<br />\n                        Paix - Travail - Patrie\n                    </div>\n                    <div style={{ textAlign: 'center', flex: 1 }}>\n                        <div style={{ fontSize: '10px', fontWeight: 'bold', color: '#2c3e50' }}>\n                            {schoolSettings.school_name?.toUpperCase() || 'LYCÃ‰E GANALIS'}\n                        </div>\n                        <div style={{ fontSize: '8px', color: '#7f8c8d' }}>\n                            CARTE D'IDENTITÃ‰ SCOLAIRE\n                        </div>\n                    </div>\n                    <div style={{ width: '20px' }}>\n                        {getLogoUrl() && (\n                            <img \n                                src={getLogoUrl()} \n                                alt=\"Logo\" \n                                style={{ width: '18px', height: '18px', objectFit: 'contain' }}\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n\n            {/* Corps de la carte */}\n            <div style={bodyStyle}>\n                {/* Photo de l'Ã©lÃ¨ve */}\n                <div>\n                    <img \n                        src={getStudentPhotoUrl(student)} \n                        alt={`${student.first_name} ${student.last_name}`}\n                        style={photoStyle}\n                        onError={(e) => {\n                            // Ã‰viter les boucles infinies si l'image par dÃ©faut Ã©choue aussi\n                            if (e.target.src !== defaultPhoto) {\n                                e.target.src = defaultPhoto;\n                            }\n                        }}\n                        onLoad={(e) => {\n                            // Debug: afficher l'URL de l'image chargÃ©e\n                            console.log('Photo loaded:', e.target.src);\n                        }}\n                    />\n                </div>\n\n                {/* Informations de l'Ã©lÃ¨ve */}\n                <div style={infoStyle}>\n                    <div>\n                        <div style={{ fontSize: '7px', marginBottom: '1px', fontWeight: 'bold', color: '#2c3e50' }}>\n                            ANNÃ‰E SCOLAIRE : {schoolYear?.year || `${new Date().getFullYear()} - ${new Date().getFullYear() + 1}`}\n                        </div>\n                        \n                        <div style={{ marginBottom: '1px', fontSize: '10px' }}>\n                            <strong>Nom :</strong> {student.last_name?.toUpperCase() || ''}\n                        </div>\n                        \n                        <div style={{ marginBottom: '1px', fontSize: '10px' }}>\n                            <strong>PrÃ©nom :</strong> {student.first_name || ''}\n                        </div>\n                        \n                        <div style={{ marginBottom: '1px', fontSize: '9px' }}>\n                            <strong>NÃ©(e) le :</strong> {formatDate(student.date_of_birth)} \n                            <strong style={{ marginLeft: '4px' }}>Ã€ :</strong> {student.place_of_birth || 'DOUALA'}\n                        </div>\n                        <div style={{ marginBottom: '1px', fontSize: '10px' }}>\n                            <strong>Matricule :</strong> {generateMatricule(student)}\n                        </div>\n                        \n                        <div style={{ marginBottom: '1px', fontSize: '9px' }}>\n                            <strong>Sexe :</strong> {student.gender === 'male' ? 'M' : student.gender === 'female' ? 'F' : 'M'}\n                            <strong style={{ marginLeft: '8px' }}>Classe :</strong> {student.class_series?.name || student.current_class || ''}\n                        </div>\n                        {student.parent_name && (\n                            <div style={{ marginBottom: '1px', fontSize: '9px', }}>\n                                <strong>Parent/Tuteur :</strong> {student.parent_name}\n                            </div>\n                        )}\n                        <div style={{ marginBottom: '1px', fontSize: '10px' }}>\n                            <strong>Contact :</strong> {student.phone || student.parent_phone || 'Non renseignÃ©'}\n                        </div>\n                    </div>\n                    \n                </div>\n\n                {/* QR Code */}\n                <div style={qrStyle}>\n                    <img \n                        src={generateQRCode(student)} \n                        alt=\"QR Code\"\n                        style={{ \n                            width: '100%', \n                            height: '100%', \n                            objectFit: 'contain',\n                            display: 'block',\n                            maxWidth: '100%',\n                            maxHeight: '100%'\n                        }}\n                        onError={(e) => {\n                            console.error('QR Code failed to load for student:', student.id);\n                            // Fallback: afficher un petit carrÃ© avec l'ID\n                            e.target.style.display = 'none';\n                            e.target.nextSibling.style.display = 'flex';\n                        }}\n                        onLoad={() => {\n                            console.log('QR Code loaded successfully for student:', student.id);\n                        }}\n                    />\n                    <div \n                        style={{\n                            display: 'none',\n                            width: '100%',\n                            height: '100%',\n                            backgroundColor: '#f8f9fa',\n                            border: '1px solid #ddd',\n                            borderRadius: '2px',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            fontSize: '6px',\n                            fontWeight: 'bold',\n                            color: '#666',\n                            textAlign: 'center',\n                            lineHeight: '1'\n                        }}\n                    >\n                        ID<br/>{student.id}\n                    </div>\n                </div>\n            </div>\n\n            <div style={{ \n                position: 'absolute', \n                bottom: '5px', \n                right:'30%', \n                fontSize: '4px', \n                color: '#aaa',\n                textAlign: 'center',\n                maxWidth: '140px',\n                lineHeight: '1.1'\n            }}>\n                Generated by Djephix (www.djephix.com) Â© / j'{new Date().getFullYear()} ALL RIGHTS RESERVED\n            </div>\n        </div>\n    );\n};\n\nexport default StudentCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}