{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useSearchParams,Link}from'react-router-dom';import{Container,Row,Col,Card,Form,Button,Spinner,Alert,Badge,InputGroup,Tabs,Tab,ListGroup}from'react-bootstrap';import{Search as SearchIcon,Person,Building,Grid3x3Gap,Eye,Calendar,GeoAlt,Telephone,Envelope,ArrowRight,X,PersonFill,BookFill,JournalBookmarkFill}from'react-bootstrap-icons';import{secureApiEndpoints}from'../utils/apiMigration';import{useAuth}from'../hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Search=()=>{const navigate=useNavigate();const[searchParams,setSearchParams]=useSearchParams();const{user}=useAuth();const[query,setQuery]=useState(searchParams.get('q')||'');const[results,setResults]=useState({students:[],classes:[],series:[],teachers:[],subjects:[]});const[meta,setMeta]=useState({query:'',total_results:0,categories:{students:0,classes:0,series:0,teachers:0,subjects:0},is_admin:false});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[hasSearched,setHasSearched]=useState(false);const[activeTab,setActiveTab]=useState('all');// Gérer la sélection d'onglet avec vérification des permissions\nconst handleTabSelect=tab=>{// Empêcher les non-admins d'accéder aux onglets enseignants et matières\nif(!meta.is_admin&&(tab==='teachers'||tab==='subjects')){return;}setActiveTab(tab);};// Effectuer la recherche au chargement si query est présente dans l'URL\nuseEffect(()=>{const urlQuery=searchParams.get('q');if(urlQuery&&urlQuery.trim()){setQuery(urlQuery);performSearch(urlQuery);}},[searchParams]);const performSearch=async function(){let searchQuery=arguments.length>0&&arguments[0]!==undefined?arguments[0]:query;if(!searchQuery.trim()){setError('Veuillez saisir un terme de recherche');return;}try{setLoading(true);setError('');setHasSearched(true);const response=await secureApiEndpoints.search.global(searchQuery.trim(),20);if(response.success){setResults(response.data);setMeta(response.meta);// Réinitialiser l'onglet actif si nécessaire\nif(!response.meta.is_admin&&(activeTab==='teachers'||activeTab==='subjects')){setActiveTab('all');}// Mettre à jour l'URL\nsetSearchParams({q:searchQuery.trim()});}else{setError(response.message||'Erreur lors de la recherche');}}catch(error){console.error('Search error:',error);setError('Erreur lors de la recherche');}finally{setLoading(false);}};const handleSubmit=e=>{e.preventDefault();performSearch();};const clearSearch=()=>{setQuery('');setResults({students:[],classes:[],series:[],teachers:[],subjects:[]});setMeta({query:'',total_results:0,categories:{students:0,classes:0,series:0,teachers:0,subjects:0},is_admin:false});setError('');setHasSearched(false);setSearchParams({});};const renderStudents=students=>{if(students.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-3\",children:[/*#__PURE__*/_jsx(Person,{size:32,className:\"text-muted mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Aucun \\xE9tudiant trouv\\xE9\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded bg-light p-3\",children:students.map((student,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center flex-grow-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:student.photo_url?/*#__PURE__*/_jsx(\"img\",{src:student.photo_url,alt:student.full_name,className:\"rounded-circle\",style:{width:'40px',height:'40px',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center\",style:{width:'40px',height:'40px'},children:/*#__PURE__*/_jsx(Person,{className:\"text-primary\",size:20})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 me-2\",children:student.full_name}),/*#__PURE__*/_jsx(Badge,{bg:student.gender==='M'?'info':'danger',className:\"me-2\",children:student.gender==='M'?'M':'F'}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted small\",children:[\"Mat: \",student.student_number]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-muted small\",children:[/*#__PURE__*/_jsx(Building,{size:12,className:\"me-1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"me-3\",children:[student.section_name,\" - \",student.level_name,\" - \",student.class_name,\" (\",student.series_name,\")\"]}),student.parent_name&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Person,{size:12,className:\"me-1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"me-3\",children:[\"Parent: \",student.parent_name]})]}),student.date_of_birth&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Calendar,{size:12,className:\"me-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[new Date(student.date_of_birth).toLocaleDateString('fr-FR'),student.place_of_birth&&` à ${student.place_of_birth}`]})]})]})]})]}),/*#__PURE__*/_jsxs(Link,{to:`/students/series/${student.series_id}`,className:\"btn btn-sm btn-outline-primary ms-2\",title:\"Voir la s\\xE9rie de l'\\xE9tudiant\",children:[/*#__PURE__*/_jsx(Eye,{size:14,className:\"me-1\"}),\"Voir\"]})]}),index<students.length-1&&/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"})]},student.id))});};const renderClasses=classes=>{if(classes.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-3\",children:[/*#__PURE__*/_jsx(Building,{size:32,className:\"text-muted mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Aucune classe trouv\\xE9e\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded bg-light p-3\",children:classes.map((schoolClass,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center flex-grow-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-success bg-opacity-10 rounded d-flex align-items-center justify-content-center\",style:{width:'40px',height:'40px'},children:/*#__PURE__*/_jsx(Building,{className:\"text-success\",size:20})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 me-2\",children:schoolClass.name}),/*#__PURE__*/_jsxs(Badge,{bg:\"success\",className:\"me-2\",children:[schoolClass.series_count,\" s\\xE9rie\",schoolClass.series_count>1?'s':'']}),/*#__PURE__*/_jsxs(Badge,{bg:\"info\",children:[schoolClass.total_students,\" \\xE9l\\xE8ve\",schoolClass.total_students>1?'s':'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-muted small\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"me-3\",children:[schoolClass.section_name,\" - \",schoolClass.level_name]}),schoolClass.description&&/*#__PURE__*/_jsx(\"span\",{className:\"me-3\",children:schoolClass.description}),schoolClass.series.length>0&&/*#__PURE__*/_jsxs(\"span\",{children:[\"S\\xE9ries: \",schoolClass.series.map(series=>`${series.name} (${series.students_count})`).join(', ')]})]})]})]}),/*#__PURE__*/_jsxs(Link,{to:(user===null||user===void 0?void 0:user.role)==='admin'?`/school-classes?search=${encodeURIComponent(schoolClass.name)}`:`/class-comp/${schoolClass.id}`,className:\"btn btn-sm btn-outline-success ms-2\",title:(user===null||user===void 0?void 0:user.role)==='admin'?\"Voir la classe dans la liste\":\"Voir les détails de la classe\",children:[/*#__PURE__*/_jsx(Eye,{size:14,className:\"me-1\"}),\"Voir\"]})]}),index<classes.length-1&&/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"})]},schoolClass.id))});};const renderSeries=series=>{if(series.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-3\",children:[/*#__PURE__*/_jsx(Grid3x3Gap,{size:32,className:\"text-muted mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Aucune s\\xE9rie trouv\\xE9e\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded bg-light p-3\",children:series.map((serie,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center flex-grow-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-info bg-opacity-10 rounded d-flex align-items-center justify-content-center\",style:{width:'40px',height:'40px'},children:/*#__PURE__*/_jsx(Grid3x3Gap,{className:\"text-info\",size:20})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0 me-2\",children:[serie.name,serie.code&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\" (\",serie.code,\")\"]})]}),/*#__PURE__*/_jsxs(Badge,{bg:\"info\",className:\"me-2\",children:[serie.students_count,\" \\xE9l\\xE8ve\",serie.students_count>1?'s':'']}),/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",children:[\"Cap: \",serie.capacity]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-muted small\",children:[/*#__PURE__*/_jsx(Building,{size:12,className:\"me-1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"me-3\",children:[serie.class_name,\" - \",serie.section_name,\" - \",serie.level_name]}),serie.main_teacher&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Prof. principal: \",serie.main_teacher]})]})]})]}),/*#__PURE__*/_jsxs(Link,{to:`/students/series/${serie.id}`,className:\"btn btn-sm btn-outline-info ms-2\",title:\"Voir les \\xE9l\\xE8ves de la s\\xE9rie\",children:[/*#__PURE__*/_jsx(Eye,{size:14,className:\"me-1\"}),\"Voir\"]})]}),index<series.length-1&&/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"})]},serie.id))});};const renderTeachers=teachers=>{if(teachers.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-3\",children:[/*#__PURE__*/_jsx(PersonFill,{size:32,className:\"text-muted mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Aucun enseignant trouv\\xE9\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded bg-light p-3\",children:teachers.map((teacher,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center flex-grow-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:teacher.photo_url?/*#__PURE__*/_jsx(\"img\",{src:teacher.photo_url,alt:teacher.name,className:\"rounded-circle\",style:{width:'40px',height:'40px',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-warning bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center\",style:{width:'40px',height:'40px'},children:/*#__PURE__*/_jsx(PersonFill,{className:\"text-warning\",size:20})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 me-2\",children:teacher.name}),teacher.specialty&&/*#__PURE__*/_jsx(Badge,{bg:\"warning\",text:\"dark\",className:\"me-2\",children:teacher.specialty}),/*#__PURE__*/_jsx(Badge,{bg:teacher.is_active?'success':'danger',children:teacher.is_active?'Actif':'Inactif'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-muted small\",children:[teacher.email&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Envelope,{size:12,className:\"me-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"me-3\",children:teacher.email})]}),teacher.phone&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Telephone,{size:12,className:\"me-1\"}),/*#__PURE__*/_jsx(\"span\",{children:teacher.phone})]})]})]})]}),/*#__PURE__*/_jsxs(Link,{to:`/teachers?search=${encodeURIComponent(teacher.name)}`,className:\"btn btn-sm btn-outline-warning ms-2\",title:\"Voir l'enseignant dans la liste\",children:[/*#__PURE__*/_jsx(Eye,{size:14,className:\"me-1\"}),\"Voir\"]})]}),index<teachers.length-1&&/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"})]},teacher.id))});};const renderSubjects=subjects=>{if(subjects.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-3\",children:[/*#__PURE__*/_jsx(JournalBookmarkFill,{size:32,className:\"text-muted mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Aucune mati\\xE8re trouv\\xE9e\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded bg-light p-3\",children:subjects.map((subject,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center flex-grow-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark bg-opacity-10 rounded d-flex align-items-center justify-content-center\",style:{width:'40px',height:'40px'},children:/*#__PURE__*/_jsx(JournalBookmarkFill,{className:\"text-dark\",size:20})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 me-2\",children:subject.name}),subject.code&&/*#__PURE__*/_jsx(Badge,{bg:\"dark\",className:\"me-2\",children:subject.code}),subject.coefficient&&/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",children:[\"Coeff: \",subject.coefficient]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center text-muted small\",children:subject.description&&/*#__PURE__*/_jsx(\"span\",{children:subject.description})})]})]}),/*#__PURE__*/_jsxs(Link,{to:`/subjects?search=${encodeURIComponent(subject.name)}`,className:\"btn btn-sm btn-outline-dark ms-2\",title:\"Voir la mati\\xE8re dans la liste\",children:[/*#__PURE__*/_jsx(Eye,{size:14,className:\"me-1\"}),\"Voir\"]})]}),index<subjects.length-1&&/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"})]},subject.id))});};const getAllResults=()=>{const allResults=[...results.students.map(item=>({...item,category:'student'})),...results.classes.map(item=>({...item,category:'class'})),...results.series.map(item=>({...item,category:'series'}))];if(meta.is_admin){allResults.push(...results.teachers.map(item=>({...item,category:'teacher'})),...results.subjects.map(item=>({...item,category:'subject'})));}return allResults;};return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"py-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"h4 mb-1 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(SearchIcon,{size:24,className:\"me-2\"}),\"Recherche Globale\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Recherchez des \\xE9tudiants, classes et s\\xE9ries\"})]})})})}),/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(InputGroup,{size:\"lg\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Tapez votre recherche (nom, pr\\xE9nom, matricule, classe, s\\xE9rie...)\",value:query,onChange:e=>setQuery(e.target.value),disabled:loading}),query&&/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:clearSearch,disabled:loading,children:/*#__PURE__*/_jsx(X,{size:16})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:loading||!query.trim(),children:loading?/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\"}):/*#__PURE__*/_jsx(SearchIcon,{size:16})})]})})})})})}),error&&/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Alert,{variant:\"danger\",dismissible:true,onClose:()=>setError(''),children:error})})}),hasSearched&&!loading&&/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[\"R\\xE9sultats de recherche\",meta.query&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\" pour \\\"\",meta.query,\"\\\"\"]})]}),/*#__PURE__*/_jsxs(Badge,{bg:\"primary\",children:[meta.total_results,\" r\\xE9sultat\",meta.total_results>1?'s':'']})]})}),/*#__PURE__*/_jsx(Card.Body,{children:meta.total_results===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(SearchIcon,{size:48,className:\"text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-muted\",children:\"Aucun r\\xE9sultat trouv\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Essayez avec d'autres mots-cl\\xE9s ou v\\xE9rifiez l'orthographe\"})]}):/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onSelect:handleTabSelect,children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"all\",title:`Tous (${meta.total_results})`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[meta.categories.students>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3 pb-2 border-bottom\",children:[/*#__PURE__*/_jsx(Person,{size:20,className:\"me-2 text-primary\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-primary\",children:\"\\xC9tudiants\"}),/*#__PURE__*/_jsx(Badge,{bg:\"primary\",className:\"ms-2\",children:meta.categories.students})]}),renderStudents(results.students)]}),meta.categories.classes>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3 pb-2 border-bottom\",children:[/*#__PURE__*/_jsx(Building,{size:20,className:\"me-2 text-success\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-success\",children:\"Classes\"}),/*#__PURE__*/_jsx(Badge,{bg:\"success\",className:\"ms-2\",children:meta.categories.classes})]}),renderClasses(results.classes)]}),meta.categories.series>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3 pb-2 border-bottom\",children:[/*#__PURE__*/_jsx(Grid3x3Gap,{size:20,className:\"me-2 text-info\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-info\",children:\"S\\xE9ries\"}),/*#__PURE__*/_jsx(Badge,{bg:\"info\",className:\"ms-2\",children:meta.categories.series})]}),renderSeries(results.series)]}),meta.is_admin&&meta.categories.teachers>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3 pb-2 border-bottom\",children:[/*#__PURE__*/_jsx(PersonFill,{size:20,className:\"me-2 text-warning\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-warning\",children:\"Enseignants\"}),/*#__PURE__*/_jsx(Badge,{bg:\"warning\",text:\"dark\",className:\"ms-2\",children:meta.categories.teachers})]}),renderTeachers(results.teachers)]}),meta.is_admin&&meta.categories.subjects>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3 pb-2 border-bottom\",children:[/*#__PURE__*/_jsx(JournalBookmarkFill,{size:20,className:\"me-2 text-dark\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-dark\",children:\"Mati\\xE8res\"}),/*#__PURE__*/_jsx(Badge,{bg:\"dark\",className:\"ms-2\",children:meta.categories.subjects})]}),renderSubjects(results.subjects)]})]})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"students\",title:`Étudiants (${meta.categories.students})`,disabled:meta.categories.students===0,children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:renderStudents(results.students)})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"classes\",title:`Classes (${meta.categories.classes})`,disabled:meta.categories.classes===0,children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:renderClasses(results.classes)})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"series\",title:`Séries (${meta.categories.series})`,disabled:meta.categories.series===0,children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:renderSeries(results.series)})}),meta.is_admin&&/*#__PURE__*/_jsx(Tab,{eventKey:\"teachers\",title:`Enseignants (${meta.categories.teachers||0})`,disabled:meta.categories.teachers===0,children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:renderTeachers(results.teachers)})}),meta.is_admin&&/*#__PURE__*/_jsx(Tab,{eventKey:\"subjects\",title:`Matières (${meta.categories.subjects||0})`,disabled:meta.categories.subjects===0,children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:renderSubjects(results.subjects)})})]})})]})})})]});};export default Search;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSearchParams","Link","Container","Row","Col","Card","Form","Button","Spinner","Alert","Badge","InputGroup","Tabs","Tab","ListGroup","Search","SearchIcon","Person","Building","Grid3x3Gap","Eye","Calendar","GeoAlt","Telephone","Envelope","ArrowRight","X","PersonFill","BookFill","JournalBookmarkFill","secureApiEndpoints","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","navigate","searchParams","setSearchParams","user","query","setQuery","get","results","setResults","students","classes","series","teachers","subjects","meta","setMeta","total_results","categories","is_admin","loading","setLoading","error","setError","hasSearched","setHasSearched","activeTab","setActiveTab","handleTabSelect","tab","urlQuery","trim","performSearch","searchQuery","arguments","length","undefined","response","search","global","success","data","q","message","console","handleSubmit","e","preventDefault","clearSearch","renderStudents","className","children","size","map","student","index","photo_url","src","alt","full_name","style","width","height","objectFit","bg","gender","student_number","section_name","level_name","class_name","series_name","parent_name","date_of_birth","Date","toLocaleDateString","place_of_birth","to","series_id","title","id","renderClasses","schoolClass","name","series_count","total_students","description","students_count","join","role","encodeURIComponent","renderSeries","serie","code","capacity","main_teacher","renderTeachers","teacher","specialty","text","is_active","email","phone","renderSubjects","subject","coefficient","getAllResults","allResults","item","category","push","fluid","Body","onSubmit","Control","type","placeholder","value","onChange","target","disabled","variant","onClick","animation","dismissible","onClose","Header","activeKey","onSelect","eventKey"],"sources":["/var/www/College-IUP/front/src/pages/Search.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useSearchParams, Link } from 'react-router-dom';\nimport {\n    Container,\n    Row,\n    Col,\n    Card,\n    Form,\n    Button,\n    Spinner,\n    Alert,\n    Badge,\n    InputGroup,\n    Tabs,\n    Tab,\n    ListGroup\n} from 'react-bootstrap';\nimport {\n    Search as SearchIcon,\n    Person,\n    Building,\n    Grid3x3Gap,\n    Eye,\n    Calendar,\n    GeoAlt,\n    Telephone,\n    Envelope,\n    ArrowRight,\n    X,\n    PersonFill,\n    BookFill,\n    JournalBookmarkFill\n} from 'react-bootstrap-icons';\nimport { secureApiEndpoints } from '../utils/apiMigration';\nimport { useAuth } from '../hooks/useAuth';\n\nconst Search = () => {\n    const navigate = useNavigate();\n    const [searchParams, setSearchParams] = useSearchParams();\n    const { user } = useAuth();\n    \n    const [query, setQuery] = useState(searchParams.get('q') || '');\n    const [results, setResults] = useState({\n        students: [],\n        classes: [],\n        series: [],\n        teachers: [],\n        subjects: []\n    });\n    const [meta, setMeta] = useState({\n        query: '',\n        total_results: 0,\n        categories: {\n            students: 0,\n            classes: 0,\n            series: 0,\n            teachers: 0,\n            subjects: 0\n        },\n        is_admin: false\n    });\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [hasSearched, setHasSearched] = useState(false);\n    const [activeTab, setActiveTab] = useState('all');\n\n    // Gérer la sélection d'onglet avec vérification des permissions\n    const handleTabSelect = (tab) => {\n        // Empêcher les non-admins d'accéder aux onglets enseignants et matières\n        if (!meta.is_admin && (tab === 'teachers' || tab === 'subjects')) {\n            return;\n        }\n        setActiveTab(tab);\n    };\n\n    // Effectuer la recherche au chargement si query est présente dans l'URL\n    useEffect(() => {\n        const urlQuery = searchParams.get('q');\n        if (urlQuery && urlQuery.trim()) {\n            setQuery(urlQuery);\n            performSearch(urlQuery);\n        }\n    }, [searchParams]);\n\n    const performSearch = async (searchQuery = query) => {\n        if (!searchQuery.trim()) {\n            setError('Veuillez saisir un terme de recherche');\n            return;\n        }\n\n        try {\n            setLoading(true);\n            setError('');\n            setHasSearched(true);\n\n            const response = await secureApiEndpoints.search.global(searchQuery.trim(), 20);\n            \n            if (response.success) {\n                setResults(response.data);\n                setMeta(response.meta);\n                \n                // Réinitialiser l'onglet actif si nécessaire\n                if (!response.meta.is_admin && (activeTab === 'teachers' || activeTab === 'subjects')) {\n                    setActiveTab('all');\n                }\n                \n                // Mettre à jour l'URL\n                setSearchParams({ q: searchQuery.trim() });\n            } else {\n                setError(response.message || 'Erreur lors de la recherche');\n            }\n        } catch (error) {\n            console.error('Search error:', error);\n            setError('Erreur lors de la recherche');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        performSearch();\n    };\n\n    const clearSearch = () => {\n        setQuery('');\n        setResults({ students: [], classes: [], series: [], teachers: [], subjects: [] });\n        setMeta({ query: '', total_results: 0, categories: { students: 0, classes: 0, series: 0, teachers: 0, subjects: 0 }, is_admin: false });\n        setError('');\n        setHasSearched(false);\n        setSearchParams({});\n    };\n\n    const renderStudents = (students) => {\n        if (students.length === 0) {\n            return (\n                <div className=\"text-center py-3\">\n                    <Person size={32} className=\"text-muted mb-2\" />\n                    <p className=\"text-muted mb-0\">Aucun étudiant trouvé</p>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"border rounded bg-light p-3\">\n                {students.map((student, index) => (\n                    <div key={student.id}>\n                        <div className=\"d-flex align-items-center justify-content-between py-2\">\n                            <div className=\"d-flex align-items-center flex-grow-1\">\n                                <div className=\"me-3\">\n                                    {student.photo_url ? (\n                                        <img \n                                            src={student.photo_url} \n                                            alt={student.full_name}\n                                            className=\"rounded-circle\"\n                                            style={{ width: '40px', height: '40px', objectFit: 'cover' }}\n                                        />\n                                    ) : (\n                                        <div \n                                            className=\"bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center\"\n                                            style={{ width: '40px', height: '40px' }}\n                                        >\n                                            <Person className=\"text-primary\" size={20} />\n                                        </div>\n                                    )}\n                                </div>\n                                <div className=\"flex-grow-1\">\n                                    <div className=\"d-flex align-items-center mb-1\">\n                                        <h6 className=\"mb-0 me-2\">{student.full_name}</h6>\n                                        <Badge bg={student.gender === 'M' ? 'info' : 'danger'} className=\"me-2\">\n                                            {student.gender === 'M' ? 'M' : 'F'}\n                                        </Badge>\n                                        <span className=\"text-muted small\">Mat: {student.student_number}</span>\n                                    </div>\n                                    <div className=\"d-flex align-items-center text-muted small\">\n                                        <Building size={12} className=\"me-1\" />\n                                        <span className=\"me-3\">{student.section_name} - {student.level_name} - {student.class_name} ({student.series_name})</span>\n                                        {student.parent_name && (\n                                            <>\n                                                <Person size={12} className=\"me-1\" />\n                                                <span className=\"me-3\">Parent: {student.parent_name}</span>\n                                            </>\n                                        )}\n                                        {student.date_of_birth && (\n                                            <>\n                                                <Calendar size={12} className=\"me-1\" />\n                                                <span>\n                                                    {new Date(student.date_of_birth).toLocaleDateString('fr-FR')}\n                                                    {student.place_of_birth && ` à ${student.place_of_birth}`}\n                                                </span>\n                                            </>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                            <Link\n                                to={`/students/series/${student.series_id}`}\n                                className=\"btn btn-sm btn-outline-primary ms-2\"\n                                title=\"Voir la série de l'étudiant\"\n                            >\n                                <Eye size={14} className=\"me-1\" />\n                                Voir\n                            </Link>\n                        </div>\n                        {index < students.length - 1 && <hr className=\"my-2\" />}\n                    </div>\n                ))}\n            </div>\n        );\n    };\n\n    const renderClasses = (classes) => {\n        if (classes.length === 0) {\n            return (\n                <div className=\"text-center py-3\">\n                    <Building size={32} className=\"text-muted mb-2\" />\n                    <p className=\"text-muted mb-0\">Aucune classe trouvée</p>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"border rounded bg-light p-3\">\n                {classes.map((schoolClass, index) => (\n                    <div key={schoolClass.id}>\n                        <div className=\"d-flex align-items-center justify-content-between py-2\">\n                            <div className=\"d-flex align-items-center flex-grow-1\">\n                                <div className=\"me-3\">\n                                    <div \n                                        className=\"bg-success bg-opacity-10 rounded d-flex align-items-center justify-content-center\"\n                                        style={{ width: '40px', height: '40px' }}\n                                    >\n                                        <Building className=\"text-success\" size={20} />\n                                    </div>\n                                </div>\n                                <div className=\"flex-grow-1\">\n                                    <div className=\"d-flex align-items-center mb-1\">\n                                        <h6 className=\"mb-0 me-2\">{schoolClass.name}</h6>\n                                        <Badge bg=\"success\" className=\"me-2\">\n                                            {schoolClass.series_count} série{schoolClass.series_count > 1 ? 's' : ''}\n                                        </Badge>\n                                        <Badge bg=\"info\">\n                                            {schoolClass.total_students} élève{schoolClass.total_students > 1 ? 's' : ''}\n                                        </Badge>\n                                    </div>\n                                    <div className=\"d-flex align-items-center text-muted small\">\n                                        <span className=\"me-3\">{schoolClass.section_name} - {schoolClass.level_name}</span>\n                                        {schoolClass.description && (\n                                            <span className=\"me-3\">{schoolClass.description}</span>\n                                        )}\n                                        {schoolClass.series.length > 0 && (\n                                            <span>\n                                                Séries: {schoolClass.series.map(series => `${series.name} (${series.students_count})`).join(', ')}\n                                            </span>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                            <Link\n                                to={user?.role === 'admin' ? `/school-classes?search=${encodeURIComponent(schoolClass.name)}` : `/class-comp/${schoolClass.id}`}\n                                className=\"btn btn-sm btn-outline-success ms-2\"\n                                title={user?.role === 'admin' ? \"Voir la classe dans la liste\" : \"Voir les détails de la classe\"}\n                            >\n                                <Eye size={14} className=\"me-1\" />\n                                Voir\n                            </Link>\n                        </div>\n                        {index < classes.length - 1 && <hr className=\"my-2\" />}\n                    </div>\n                ))}\n            </div>\n        );\n    };\n\n    const renderSeries = (series) => {\n        if (series.length === 0) {\n            return (\n                <div className=\"text-center py-3\">\n                    <Grid3x3Gap size={32} className=\"text-muted mb-2\" />\n                    <p className=\"text-muted mb-0\">Aucune série trouvée</p>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"border rounded bg-light p-3\">\n                {series.map((serie, index) => (\n                    <div key={serie.id}>\n                        <div className=\"d-flex align-items-center justify-content-between py-2\">\n                            <div className=\"d-flex align-items-center flex-grow-1\">\n                                <div className=\"me-3\">\n                                    <div \n                                        className=\"bg-info bg-opacity-10 rounded d-flex align-items-center justify-content-center\"\n                                        style={{ width: '40px', height: '40px' }}\n                                    >\n                                        <Grid3x3Gap className=\"text-info\" size={20} />\n                                    </div>\n                                </div>\n                                <div className=\"flex-grow-1\">\n                                    <div className=\"d-flex align-items-center mb-1\">\n                                        <h6 className=\"mb-0 me-2\">\n                                            {serie.name}\n                                            {serie.code && <span className=\"text-muted\"> ({serie.code})</span>}\n                                        </h6>\n                                        <Badge bg=\"info\" className=\"me-2\">\n                                            {serie.students_count} élève{serie.students_count > 1 ? 's' : ''}\n                                        </Badge>\n                                        <Badge bg=\"secondary\">\n                                            Cap: {serie.capacity}\n                                        </Badge>\n                                    </div>\n                                    <div className=\"d-flex align-items-center text-muted small\">\n                                        <Building size={12} className=\"me-1\" />\n                                        <span className=\"me-3\">{serie.class_name} - {serie.section_name} - {serie.level_name}</span>\n                                        {serie.main_teacher && (\n                                            <span>Prof. principal: {serie.main_teacher}</span>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                            <Link\n                                to={`/students/series/${serie.id}`}\n                                className=\"btn btn-sm btn-outline-info ms-2\"\n                                title=\"Voir les élèves de la série\"\n                            >\n                                <Eye size={14} className=\"me-1\" />\n                                Voir\n                            </Link>\n                        </div>\n                        {index < series.length - 1 && <hr className=\"my-2\" />}\n                    </div>\n                ))}\n            </div>\n        );\n    };\n\n    const renderTeachers = (teachers) => {\n        if (teachers.length === 0) {\n            return (\n                <div className=\"text-center py-3\">\n                    <PersonFill size={32} className=\"text-muted mb-2\" />\n                    <p className=\"text-muted mb-0\">Aucun enseignant trouvé</p>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"border rounded bg-light p-3\">\n                {teachers.map((teacher, index) => (\n                    <div key={teacher.id}>\n                        <div className=\"d-flex align-items-center justify-content-between py-2\">\n                            <div className=\"d-flex align-items-center flex-grow-1\">\n                                <div className=\"me-3\">\n                                    {teacher.photo_url ? (\n                                        <img \n                                            src={teacher.photo_url} \n                                            alt={teacher.name}\n                                            className=\"rounded-circle\"\n                                            style={{ width: '40px', height: '40px', objectFit: 'cover' }}\n                                        />\n                                    ) : (\n                                        <div \n                                            className=\"bg-warning bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center\"\n                                            style={{ width: '40px', height: '40px' }}\n                                        >\n                                            <PersonFill className=\"text-warning\" size={20} />\n                                        </div>\n                                    )}\n                                </div>\n                                <div className=\"flex-grow-1\">\n                                    <div className=\"d-flex align-items-center mb-1\">\n                                        <h6 className=\"mb-0 me-2\">{teacher.name}</h6>\n                                        {teacher.specialty && (\n                                            <Badge bg=\"warning\" text=\"dark\" className=\"me-2\">\n                                                {teacher.specialty}\n                                            </Badge>\n                                        )}\n                                        <Badge bg={teacher.is_active ? 'success' : 'danger'}>\n                                            {teacher.is_active ? 'Actif' : 'Inactif'}\n                                        </Badge>\n                                    </div>\n                                    <div className=\"d-flex align-items-center text-muted small\">\n                                        {teacher.email && (\n                                            <>\n                                                <Envelope size={12} className=\"me-1\" />\n                                                <span className=\"me-3\">{teacher.email}</span>\n                                            </>\n                                        )}\n                                        {teacher.phone && (\n                                            <>\n                                                <Telephone size={12} className=\"me-1\" />\n                                                <span>{teacher.phone}</span>\n                                            </>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                            <Link\n                                to={`/teachers?search=${encodeURIComponent(teacher.name)}`}\n                                className=\"btn btn-sm btn-outline-warning ms-2\"\n                                title=\"Voir l'enseignant dans la liste\"\n                            >\n                                <Eye size={14} className=\"me-1\" />\n                                Voir\n                            </Link>\n                        </div>\n                        {index < teachers.length - 1 && <hr className=\"my-2\" />}\n                    </div>\n                ))}\n            </div>\n        );\n    };\n\n    const renderSubjects = (subjects) => {\n        if (subjects.length === 0) {\n            return (\n                <div className=\"text-center py-3\">\n                    <JournalBookmarkFill size={32} className=\"text-muted mb-2\" />\n                    <p className=\"text-muted mb-0\">Aucune matière trouvée</p>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"border rounded bg-light p-3\">\n                {subjects.map((subject, index) => (\n                    <div key={subject.id}>\n                        <div className=\"d-flex align-items-center justify-content-between py-2\">\n                            <div className=\"d-flex align-items-center flex-grow-1\">\n                                <div className=\"me-3\">\n                                    <div \n                                        className=\"bg-dark bg-opacity-10 rounded d-flex align-items-center justify-content-center\"\n                                        style={{ width: '40px', height: '40px' }}\n                                    >\n                                        <JournalBookmarkFill className=\"text-dark\" size={20} />\n                                    </div>\n                                </div>\n                                <div className=\"flex-grow-1\">\n                                    <div className=\"d-flex align-items-center mb-1\">\n                                        <h6 className=\"mb-0 me-2\">{subject.name}</h6>\n                                        {subject.code && (\n                                            <Badge bg=\"dark\" className=\"me-2\">\n                                                {subject.code}\n                                            </Badge>\n                                        )}\n                                        {subject.coefficient && (\n                                            <Badge bg=\"secondary\">\n                                                Coeff: {subject.coefficient}\n                                            </Badge>\n                                        )}\n                                    </div>\n                                    <div className=\"d-flex align-items-center text-muted small\">\n                                        {subject.description && (\n                                            <span>{subject.description}</span>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                            <Link\n                                to={`/subjects?search=${encodeURIComponent(subject.name)}`}\n                                className=\"btn btn-sm btn-outline-dark ms-2\"\n                                title=\"Voir la matière dans la liste\"\n                            >\n                                <Eye size={14} className=\"me-1\" />\n                                Voir\n                            </Link>\n                        </div>\n                        {index < subjects.length - 1 && <hr className=\"my-2\" />}\n                    </div>\n                ))}\n            </div>\n        );\n    };\n\n    const getAllResults = () => {\n        const allResults = [\n            ...results.students.map(item => ({ ...item, category: 'student' })),\n            ...results.classes.map(item => ({ ...item, category: 'class' })),\n            ...results.series.map(item => ({ ...item, category: 'series' }))\n        ];\n        \n        if (meta.is_admin) {\n            allResults.push(\n                ...results.teachers.map(item => ({ ...item, category: 'teacher' })),\n                ...results.subjects.map(item => ({ ...item, category: 'subject' }))\n            );\n        }\n        \n        return allResults;\n    };\n\n    return (\n        <Container fluid className=\"py-4\">\n            {/* Header */}\n            <Row className=\"mb-4\">\n                <Col>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <h2 className=\"h4 mb-1 d-flex align-items-center\">\n                                <SearchIcon size={24} className=\"me-2\" />\n                                Recherche Globale\n                            </h2>\n                            <p className=\"text-muted mb-0\">\n                                Recherchez des étudiants, classes et séries\n                            </p>\n                        </div>\n                    </div>\n                </Col>\n            </Row>\n\n            {/* Search Form */}\n            <Row className=\"mb-4\">\n                <Col>\n                    <Card>\n                        <Card.Body>\n                            <Form onSubmit={handleSubmit}>\n                                <InputGroup size=\"lg\">\n                                    <Form.Control\n                                        type=\"text\"\n                                        placeholder=\"Tapez votre recherche (nom, prénom, matricule, classe, série...)\"\n                                        value={query}\n                                        onChange={(e) => setQuery(e.target.value)}\n                                        disabled={loading}\n                                    />\n                                    {query && (\n                                        <Button \n                                            variant=\"outline-secondary\"\n                                            onClick={clearSearch}\n                                            disabled={loading}\n                                        >\n                                            <X size={16} />\n                                        </Button>\n                                    )}\n                                    <Button \n                                        variant=\"primary\" \n                                        type=\"submit\" \n                                        disabled={loading || !query.trim()}\n                                    >\n                                        {loading ? (\n                                            <Spinner animation=\"border\" size=\"sm\" />\n                                        ) : (\n                                            <SearchIcon size={16} />\n                                        )}\n                                    </Button>\n                                </InputGroup>\n                            </Form>\n                        </Card.Body>\n                    </Card>\n                </Col>\n            </Row>\n\n            {/* Error Alert */}\n            {error && (\n                <Row className=\"mb-3\">\n                    <Col>\n                        <Alert variant=\"danger\" dismissible onClose={() => setError('')}>\n                            {error}\n                        </Alert>\n                    </Col>\n                </Row>\n            )}\n\n            {/* Results */}\n            {hasSearched && !loading && (\n                <Row>\n                    <Col>\n                        <Card>\n                            <Card.Header>\n                                <div className=\"d-flex justify-content-between align-items-center\">\n                                    <h5 className=\"mb-0\">\n                                        Résultats de recherche\n                                        {meta.query && <span className=\"text-muted\"> pour \"{meta.query}\"</span>}\n                                    </h5>\n                                    <Badge bg=\"primary\">{meta.total_results} résultat{meta.total_results > 1 ? 's' : ''}</Badge>\n                                </div>\n                            </Card.Header>\n                            <Card.Body>\n                                {meta.total_results === 0 ? (\n                                    <div className=\"text-center py-5\">\n                                        <SearchIcon size={48} className=\"text-muted mb-3\" />\n                                        <h5 className=\"text-muted\">Aucun résultat trouvé</h5>\n                                        <p className=\"text-muted\">\n                                            Essayez avec d'autres mots-clés ou vérifiez l'orthographe\n                                        </p>\n                                    </div>\n                                ) : (\n                                    <Tabs activeKey={activeTab} onSelect={handleTabSelect}>\n                                        <Tab \n                                            eventKey=\"all\" \n                                            title={`Tous (${meta.total_results})`}\n                                        >\n                                            <div className=\"mt-3\">\n                                                {/* Students */}\n                                                {meta.categories.students > 0 && (\n                                                    <div className=\"mb-5\">\n                                                        <div className=\"d-flex align-items-center mb-3 pb-2 border-bottom\">\n                                                            <Person size={20} className=\"me-2 text-primary\" />\n                                                            <h5 className=\"mb-0 text-primary\">\n                                                                Étudiants\n                                                            </h5>\n                                                            <Badge bg=\"primary\" className=\"ms-2\">\n                                                                {meta.categories.students}\n                                                            </Badge>\n                                                        </div>\n                                                        {renderStudents(results.students)}\n                                                    </div>\n                                                )}\n\n                                                {/* Classes */}\n                                                {meta.categories.classes > 0 && (\n                                                    <div className=\"mb-5\">\n                                                        <div className=\"d-flex align-items-center mb-3 pb-2 border-bottom\">\n                                                            <Building size={20} className=\"me-2 text-success\" />\n                                                            <h5 className=\"mb-0 text-success\">\n                                                                Classes\n                                                            </h5>\n                                                            <Badge bg=\"success\" className=\"ms-2\">\n                                                                {meta.categories.classes}\n                                                            </Badge>\n                                                        </div>\n                                                        {renderClasses(results.classes)}\n                                                    </div>\n                                                )}\n\n                                                {/* Series */}\n                                                {meta.categories.series > 0 && (\n                                                    <div className=\"mb-5\">\n                                                        <div className=\"d-flex align-items-center mb-3 pb-2 border-bottom\">\n                                                            <Grid3x3Gap size={20} className=\"me-2 text-info\" />\n                                                            <h5 className=\"mb-0 text-info\">\n                                                                Séries\n                                                            </h5>\n                                                            <Badge bg=\"info\" className=\"ms-2\">\n                                                                {meta.categories.series}\n                                                            </Badge>\n                                                        </div>\n                                                        {renderSeries(results.series)}\n                                                    </div>\n                                                )}\n\n                                                {/* Teachers - Admin only */}\n                                                {meta.is_admin && meta.categories.teachers > 0 && (\n                                                    <div className=\"mb-5\">\n                                                        <div className=\"d-flex align-items-center mb-3 pb-2 border-bottom\">\n                                                            <PersonFill size={20} className=\"me-2 text-warning\" />\n                                                            <h5 className=\"mb-0 text-warning\">\n                                                                Enseignants\n                                                            </h5>\n                                                            <Badge bg=\"warning\" text=\"dark\" className=\"ms-2\">\n                                                                {meta.categories.teachers}\n                                                            </Badge>\n                                                        </div>\n                                                        {renderTeachers(results.teachers)}\n                                                    </div>\n                                                )}\n\n                                                {/* Subjects - Admin only */}\n                                                {meta.is_admin && meta.categories.subjects > 0 && (\n                                                    <div className=\"mb-4\">\n                                                        <div className=\"d-flex align-items-center mb-3 pb-2 border-bottom\">\n                                                            <JournalBookmarkFill size={20} className=\"me-2 text-dark\" />\n                                                            <h5 className=\"mb-0 text-dark\">\n                                                                Matières\n                                                            </h5>\n                                                            <Badge bg=\"dark\" className=\"ms-2\">\n                                                                {meta.categories.subjects}\n                                                            </Badge>\n                                                        </div>\n                                                        {renderSubjects(results.subjects)}\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </Tab>\n\n                                        <Tab \n                                            eventKey=\"students\" \n                                            title={`Étudiants (${meta.categories.students})`}\n                                            disabled={meta.categories.students === 0}\n                                        >\n                                            <div className=\"mt-3\">\n                                                {renderStudents(results.students)}\n                                            </div>\n                                        </Tab>\n\n                                        <Tab \n                                            eventKey=\"classes\" \n                                            title={`Classes (${meta.categories.classes})`}\n                                            disabled={meta.categories.classes === 0}\n                                        >\n                                            <div className=\"mt-3\">\n                                                {renderClasses(results.classes)}\n                                            </div>\n                                        </Tab>\n\n                                        <Tab \n                                            eventKey=\"series\" \n                                            title={`Séries (${meta.categories.series})`}\n                                            disabled={meta.categories.series === 0}\n                                        >\n                                            <div className=\"mt-3\">\n                                                {renderSeries(results.series)}\n                                            </div>\n                                        </Tab>\n\n                                        {/* Onglets admin uniquement */}\n                                        {meta.is_admin && (\n                                            <Tab \n                                                eventKey=\"teachers\" \n                                                title={`Enseignants (${meta.categories.teachers || 0})`}\n                                                disabled={meta.categories.teachers === 0}\n                                            >\n                                                <div className=\"mt-3\">\n                                                    {renderTeachers(results.teachers)}\n                                                </div>\n                                            </Tab>\n                                        )}\n\n                                        {meta.is_admin && (\n                                            <Tab \n                                                eventKey=\"subjects\" \n                                                title={`Matières (${meta.categories.subjects || 0})`}\n                                                disabled={meta.categories.subjects === 0}\n                                            >\n                                                <div className=\"mt-3\">\n                                                    {renderSubjects(results.subjects)}\n                                                </div>\n                                            </Tab>\n                                        )}\n                                    </Tabs>\n                                )}\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            )}\n        </Container>\n    );\n};\n\nexport default Search;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}