{"ast":null,"code":"import React,{useState}from'react';import{Button,Modal,Alert,ProgressBar,Badge}from'react-bootstrap';import{Images,Upload,X,CheckCircle,XCircle}from'react-bootstrap-icons';import{secureApiEndpoints}from'../utils/apiMigration';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BulkPhotoUpload=_ref=>{let{onUploadSuccess}=_ref;const[show,setShow]=useState(false);const[files,setFiles]=useState([]);const[uploading,setUploading]=useState(false);const[uploadResults,setUploadResults]=useState(null);const[dragOver,setDragOver]=useState(false);const handleClose=()=>{setShow(false);setFiles([]);setUploadResults(null);};const handleFileSelect=event=>{const selectedFiles=Array.from(event.target.files);const imageFiles=selectedFiles.filter(file=>file.type.startsWith('image/'));setFiles(imageFiles);};const handleDrop=event=>{event.preventDefault();setDragOver(false);const droppedFiles=Array.from(event.dataTransfer.files);const imageFiles=droppedFiles.filter(file=>file.type.startsWith('image/'));setFiles(imageFiles);};const handleDragOver=event=>{event.preventDefault();setDragOver(true);};const handleDragLeave=event=>{event.preventDefault();setDragOver(false);};const extractStudentNumber=filename=>{// Extraire le matricule du nom de fichier\n// Supporte: 20240008, 25A00014, etc.\nconst match=filename.match(/([0-9]{2}[A-Z]?[0-9]{5,}|\\d{8,})/);return match?match[1]:null;};const handleUpload=async()=>{if(files.length===0)return;setUploading(true);setUploadResults(null);try{const formData=new FormData();files.forEach((file,index)=>{formData.append(`photos[${index}]`,file);});const response=await secureApiEndpoints.students.bulkUploadPhotos(formData);if(response.success){setUploadResults(response.data);if(onUploadSuccess){onUploadSuccess();}}else{throw new Error(response.message||'Erreur lors de l\\'upload');}}catch(error){console.error('Error uploading photos:',error);setUploadResults({total:files.length,success:0,errors:files.length,details:files.map(file=>({file:file.name,status:'error',message:'Erreur lors de l\\'upload'}))});}finally{setUploading(false);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline-primary\",className:\"d-flex align-items-center gap-2\",onClick:()=>setShow(true),title:\"Upload en lot de photos d'\\xE9tudiants\",children:[/*#__PURE__*/_jsx(Images,{size:16}),\"Photos en lot\"]}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(Images,{size:20}),\"Upload en lot de photos d'\\xE9tudiants\"]})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Alert,{variant:\"info\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Instructions :\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mb-0 mt-2\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Nommez vos photos avec le matricule de l'\\xE9tudiant (ex: 20240008.jpg)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Formats accept\\xE9s : JPG, PNG, GIF (max 5MB par photo)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Les photos existantes seront remplac\\xE9es automatiquement\"})]})]}),!uploadResults&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:`border border-dashed rounded p-4 text-center mb-3 ${dragOver?'border-primary bg-primary bg-opacity-10':'border-secondary'}`,onDrop:handleDrop,onDragOver:handleDragOver,onDragLeave:handleDragLeave,children:[/*#__PURE__*/_jsx(Upload,{size:48,className:\"text-muted mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:\"Glissez-d\\xE9posez vos photos ici ou cliquez pour s\\xE9lectionner\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handleFileSelect,className:\"form-control\"})]}),files.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"Photos s\\xE9lectionn\\xE9es (\",files.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:files.map((file,index)=>{const studentNumber=extractStudentNumber(file.name);return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4 mb-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(file),alt:file.name,className:\"rounded\",style:{width:'40px',height:'40px',objectFit:'cover'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small fw-bold\",children:file.name}),studentNumber?/*#__PURE__*/_jsxs(Badge,{bg:\"success\",children:[\"Matricule: \",studentNumber]}):/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Matricule non d\\xE9tect\\xE9\"})]})]})})})},index);})})]})]}),uploading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border mb-3\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Upload en cours...\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload des photos en cours...\"})]}),uploadResults&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Alert,{variant:uploadResults.errors===0?'success':'warning',children:[/*#__PURE__*/_jsx(\"strong\",{children:\"R\\xE9sultats de l'upload :\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mb-0 mt-2\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[uploadResults.success,\" photo(s) upload\\xE9e(s) avec succ\\xE8s\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[uploadResults.errors,\" erreur(s)\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-height-300 overflow-auto\",children:uploadResults.details.map((detail,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2 mb-2 p-2 border rounded\",children:[detail.status==='success'?/*#__PURE__*/_jsx(CheckCircle,{className:\"text-success\",size:16}):/*#__PURE__*/_jsx(XCircle,{className:\"text-danger\",size:16}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:detail.file}),detail.student_number&&/*#__PURE__*/_jsxs(\"div\",{className:\"small text-muted\",children:[\"Matricule: \",detail.student_number,detail.student_name&&` - ${detail.student_name}`]}),/*#__PURE__*/_jsx(\"div\",{className:`small ${detail.status==='success'?'text-success':'text-danger'}`,children:detail.message})]})]},index))})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Fermer\"}),!uploadResults&&files.length>0&&/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handleUpload,disabled:uploading,className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(Upload,{size:16}),uploading?'Upload en cours...':`Uploader ${files.length} photo(s)`]})]})]})]});};export default BulkPhotoUpload;","map":{"version":3,"names":["React","useState","Button","Modal","Alert","ProgressBar","Badge","Images","Upload","X","CheckCircle","XCircle","secureApiEndpoints","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BulkPhotoUpload","_ref","onUploadSuccess","show","setShow","files","setFiles","uploading","setUploading","uploadResults","setUploadResults","dragOver","setDragOver","handleClose","handleFileSelect","event","selectedFiles","Array","from","target","imageFiles","filter","file","type","startsWith","handleDrop","preventDefault","droppedFiles","dataTransfer","handleDragOver","handleDragLeave","extractStudentNumber","filename","match","handleUpload","length","formData","FormData","forEach","index","append","response","students","bulkUploadPhotos","success","data","Error","message","error","console","total","errors","details","map","name","status","children","variant","className","onClick","title","size","onHide","Header","closeButton","Title","Body","onDrop","onDragOver","onDragLeave","multiple","accept","onChange","studentNumber","src","URL","createObjectURL","alt","style","width","height","objectFit","bg","role","detail","student_number","student_name","Footer","disabled"],"sources":["/var/www/College-IUP/front/src/components/BulkPhotoUpload.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Modal, Alert, ProgressBar, Badge } from 'react-bootstrap';\nimport { Images, Upload, X, CheckCircle, XCircle } from 'react-bootstrap-icons';\nimport { secureApiEndpoints } from '../utils/apiMigration';\n\nconst BulkPhotoUpload = ({ onUploadSuccess }) => {\n    const [show, setShow] = useState(false);\n    const [files, setFiles] = useState([]);\n    const [uploading, setUploading] = useState(false);\n    const [uploadResults, setUploadResults] = useState(null);\n    const [dragOver, setDragOver] = useState(false);\n\n    const handleClose = () => {\n        setShow(false);\n        setFiles([]);\n        setUploadResults(null);\n    };\n\n    const handleFileSelect = (event) => {\n        const selectedFiles = Array.from(event.target.files);\n        const imageFiles = selectedFiles.filter(file => \n            file.type.startsWith('image/')\n        );\n        setFiles(imageFiles);\n    };\n\n    const handleDrop = (event) => {\n        event.preventDefault();\n        setDragOver(false);\n        \n        const droppedFiles = Array.from(event.dataTransfer.files);\n        const imageFiles = droppedFiles.filter(file => \n            file.type.startsWith('image/')\n        );\n        setFiles(imageFiles);\n    };\n\n    const handleDragOver = (event) => {\n        event.preventDefault();\n        setDragOver(true);\n    };\n\n    const handleDragLeave = (event) => {\n        event.preventDefault();\n        setDragOver(false);\n    };\n\n    const extractStudentNumber = (filename) => {\n        // Extraire le matricule du nom de fichier\n        // Supporte: 20240008, 25A00014, etc.\n        const match = filename.match(/([0-9]{2}[A-Z]?[0-9]{5,}|\\d{8,})/);\n        return match ? match[1] : null;\n    };\n\n    const handleUpload = async () => {\n        if (files.length === 0) return;\n\n        setUploading(true);\n        setUploadResults(null);\n\n        try {\n            const formData = new FormData();\n            files.forEach((file, index) => {\n                formData.append(`photos[${index}]`, file);\n            });\n\n            const response = await secureApiEndpoints.students.bulkUploadPhotos(formData);\n\n            if (response.success) {\n                setUploadResults(response.data);\n                if (onUploadSuccess) {\n                    onUploadSuccess();\n                }\n            } else {\n                throw new Error(response.message || 'Erreur lors de l\\'upload');\n            }\n        } catch (error) {\n            console.error('Error uploading photos:', error);\n            setUploadResults({\n                total: files.length,\n                success: 0,\n                errors: files.length,\n                details: files.map(file => ({\n                    file: file.name,\n                    status: 'error',\n                    message: 'Erreur lors de l\\'upload'\n                }))\n            });\n        } finally {\n            setUploading(false);\n        }\n    };\n\n    return (\n        <>\n            <Button\n                variant=\"outline-primary\"\n                className=\"d-flex align-items-center gap-2\"\n                onClick={() => setShow(true)}\n                title=\"Upload en lot de photos d'étudiants\"\n            >\n                <Images size={16} />\n                Photos en lot\n            </Button>\n\n            <Modal show={show} onHide={handleClose} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title className=\"d-flex align-items-center gap-2\">\n                        <Images size={20} />\n                        Upload en lot de photos d'étudiants\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Alert variant=\"info\" className=\"mb-3\">\n                        <strong>Instructions :</strong>\n                        <ul className=\"mb-0 mt-2\">\n                            <li>Nommez vos photos avec le matricule de l'étudiant (ex: 20240008.jpg)</li>\n                            <li>Formats acceptés : JPG, PNG, GIF (max 5MB par photo)</li>\n                            <li>Les photos existantes seront remplacées automatiquement</li>\n                        </ul>\n                    </Alert>\n\n                    {!uploadResults && (\n                        <div>\n                            <div\n                                className={`border border-dashed rounded p-4 text-center mb-3 ${\n                                    dragOver ? 'border-primary bg-primary bg-opacity-10' : 'border-secondary'\n                                }`}\n                                onDrop={handleDrop}\n                                onDragOver={handleDragOver}\n                                onDragLeave={handleDragLeave}\n                            >\n                                <Upload size={48} className=\"text-muted mb-3\" />\n                                <p className=\"mb-2\">\n                                    Glissez-déposez vos photos ici ou cliquez pour sélectionner\n                                </p>\n                                <input\n                                    type=\"file\"\n                                    multiple\n                                    accept=\"image/*\"\n                                    onChange={handleFileSelect}\n                                    className=\"form-control\"\n                                />\n                            </div>\n\n                            {files.length > 0 && (\n                                <div>\n                                    <h6>Photos sélectionnées ({files.length})</h6>\n                                    <div className=\"row\">\n                                        {files.map((file, index) => {\n                                            const studentNumber = extractStudentNumber(file.name);\n                                            return (\n                                                <div key={index} className=\"col-md-6 col-lg-4 mb-2\">\n                                                    <div className=\"card\">\n                                                        <div className=\"card-body p-2\">\n                                                            <div className=\"d-flex align-items-center gap-2\">\n                                                                <img\n                                                                    src={URL.createObjectURL(file)}\n                                                                    alt={file.name}\n                                                                    className=\"rounded\"\n                                                                    style={{ width: '40px', height: '40px', objectFit: 'cover' }}\n                                                                />\n                                                                <div className=\"flex-grow-1\">\n                                                                    <div className=\"small fw-bold\">{file.name}</div>\n                                                                    {studentNumber ? (\n                                                                        <Badge bg=\"success\">Matricule: {studentNumber}</Badge>\n                                                                    ) : (\n                                                                        <Badge bg=\"warning\">Matricule non détecté</Badge>\n                                                                    )}\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    )}\n\n                    {uploading && (\n                        <div className=\"text-center py-4\">\n                            <div className=\"spinner-border mb-3\" role=\"status\">\n                                <span className=\"visually-hidden\">Upload en cours...</span>\n                            </div>\n                            <p>Upload des photos en cours...</p>\n                        </div>\n                    )}\n\n                    {uploadResults && (\n                        <div>\n                            <Alert variant={uploadResults.errors === 0 ? 'success' : 'warning'}>\n                                <strong>Résultats de l'upload :</strong>\n                                <ul className=\"mb-0 mt-2\">\n                                    <li>{uploadResults.success} photo(s) uploadée(s) avec succès</li>\n                                    <li>{uploadResults.errors} erreur(s)</li>\n                                </ul>\n                            </Alert>\n\n                            <div className=\"max-height-300 overflow-auto\">\n                                {uploadResults.details.map((detail, index) => (\n                                    <div key={index} className=\"d-flex align-items-center gap-2 mb-2 p-2 border rounded\">\n                                        {detail.status === 'success' ? (\n                                            <CheckCircle className=\"text-success\" size={16} />\n                                        ) : (\n                                            <XCircle className=\"text-danger\" size={16} />\n                                        )}\n                                        <div className=\"flex-grow-1\">\n                                            <div className=\"fw-bold\">{detail.file}</div>\n                                            {detail.student_number && (\n                                                <div className=\"small text-muted\">\n                                                    Matricule: {detail.student_number}\n                                                    {detail.student_name && ` - ${detail.student_name}`}\n                                                </div>\n                                            )}\n                                            <div className={`small ${detail.status === 'success' ? 'text-success' : 'text-danger'}`}>\n                                                {detail.message}\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    )}\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Fermer\n                    </Button>\n                    {!uploadResults && files.length > 0 && (\n                        <Button\n                            variant=\"primary\"\n                            onClick={handleUpload}\n                            disabled={uploading}\n                            className=\"d-flex align-items-center gap-2\"\n                        >\n                            <Upload size={16} />\n                            {uploading ? 'Upload en cours...' : `Uploader ${files.length} photo(s)`}\n                        </Button>\n                    )}\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nexport default BulkPhotoUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}