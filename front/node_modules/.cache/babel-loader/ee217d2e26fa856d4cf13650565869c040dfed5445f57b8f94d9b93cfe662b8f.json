{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Alert,Button,Card,Col,Container,Form,Row,Spinner}from\"react-bootstrap\";import{ArrowLeft,FileEarmarkText,Save,Search}from\"react-bootstrap-icons\";import{useNavigate}from\"react-router-dom\";import{useSchool}from\"../../contexts/SchoolContext\";import{secureApi}from\"../../utils/apiMigration\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CreateDocumentaryFee=()=>{var _selectedStudent$clas,_paymentMethods$find;const navigate=useNavigate();const{formatCurrency}=useSchool();const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");// États pour la recherche d'étudiant\nconst[searchTerm,setSearchTerm]=useState(\"\");const[searchResults,setSearchResults]=useState([]);const[selectedStudent,setSelectedStudent]=useState(null);const[searchLoading,setSearchLoading]=useState(false);const[formData,setFormData]=useState({student_id:\"\",description:\"\",fee_amount:\"\",penalty_amount:\"\",payment_date:new Date().toISOString().split(\"T\")[0],versement_date:\"\",payment_method:\"cash\",reference_number:\"\",notes:\"\"});const[formErrors,setFormErrors]=useState({});// Note: Fee type is now fixed as \"frais_dossier\" with optional penalty\n// Méthodes de paiement\nconst paymentMethods=[{value:\"cash\",label:\"Espèces\"},{value:\"cheque\",label:\"Chèque\"},{value:\"transfer\",label:\"Virement\"},{value:\"mobile_money\",label:\"Mobile Money\"}];useEffect(()=>{if(searchTerm.length>=2){const delayedSearch=setTimeout(()=>{searchStudents();},500);return()=>clearTimeout(delayedSearch);}else{setSearchResults([]);}},[searchTerm]);const searchStudents=async()=>{try{setSearchLoading(true);const data=await secureApi.makeRequest(`/students/search?q=${encodeURIComponent(searchTerm)}`);if(data.success){setSearchResults(data.data||[]);}}catch(err){console.error(\"Error searching students:\",err);}finally{setSearchLoading(false);}};const selectStudent=student=>{setSelectedStudent(student);setFormData(prev=>({...prev,student_id:student.id}));setSearchResults([]);setSearchTerm(\"\");setFormErrors(prev=>({...prev,student_id:\"\"}));};const clearSelectedStudent=()=>{setSelectedStudent(null);setFormData(prev=>({...prev,student_id:\"\"}));};const handleInputChange=(field,value)=>{setFormData(prev=>({...prev,[field]:value}));if(formErrors[field]){setFormErrors(prev=>({...prev,[field]:\"\"}));}};const validateForm=()=>{const errors={};if(!formData.student_id){errors.student_id=\"Veuillez sélectionner un étudiant\";}if(!formData.fee_amount||parseFloat(formData.fee_amount)<=0){errors.fee_amount=\"Le montant des frais de dossier doit être supérieur à 0\";}if(formData.penalty_amount&&parseFloat(formData.penalty_amount)<0){errors.penalty_amount=\"Le montant de la pénalité ne peut pas être négatif\";}if(!formData.payment_date){errors.payment_date=\"La date de paiement est requise\";}if(formData.payment_method===\"cheque\"&&!formData.reference_number){errors.reference_number=\"Le numéro de chèque est requis\";}if(formData.payment_method===\"transfer\"&&!formData.reference_number){errors.reference_number=\"Le numéro de virement est requis\";}setFormErrors(errors);return Object.keys(errors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}try{setLoading(true);setError(\"\");setSuccess(\"\");const data=await secureApi.makeRequest(\"/documentary-fees\",{method:\"POST\",body:JSON.stringify(formData)});if(data.success){setSuccess(\"Frais de dossier enregistré avec succès\");setTimeout(()=>{navigate(\"/payments/documentary-fees\");},2000);}else{setError(data.message||\"Erreur lors de l'enregistrement\");if(data.errors){setFormErrors(data.errors);}}}catch(err){console.error(\"Error creating documentary fee:\",err);setError(\"Erreur lors de l'enregistrement du frais\");}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"py-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:()=>navigate(\"/payments/documentary-fees\"),className:\"me-3\",children:/*#__PURE__*/_jsx(ArrowLeft,{})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(FileEarmarkText,{className:\"me-2\"}),\"Nouveau Frais de Dossier\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Enregistrer un nouveau frais hors scolarit\\xE9\"})]})]})})}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",className:\"mb-3\",children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",className:\"mb-3\",children:success}),/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{lg:8,children:[/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Informations du Frais\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:12,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\xC9tudiant *\"}),selectedStudent?/*#__PURE__*/_jsx(\"div\",{className:\"border rounded p-3 bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[selectedStudent.first_name,\" \",selectedStudent.last_name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Matricule: \",selectedStudent.student_number]}),((_selectedStudent$clas=selectedStudent.class_series)===null||_selectedStudent$clas===void 0?void 0:_selectedStudent$clas.school_class)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Classe: \",selectedStudent.class_series.school_class.name,\" - \",selectedStudent.class_series.name]})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:clearSelectedStudent,children:\"Changer\"})]})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Rechercher un \\xE9tudiant (nom, pr\\xE9nom, matricule...)\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),isInvalid:!!formErrors.student_id}),/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute end-0 top-50 translate-middle-y me-2\",children:searchLoading?/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\"}):/*#__PURE__*/_jsx(Search,{})})]}),searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"border rounded mt-1 bg-white position-relative\",style:{zIndex:1000},children:searchResults.map(student=>{var _student$class_series;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 border-bottom cursor-pointer hover-bg-light\",onClick:()=>selectStudent(student),style:{cursor:\"pointer\"},onMouseEnter:e=>e.target.style.backgroundColor=\"#f8f9fa\",onMouseLeave:e=>e.target.style.backgroundColor=\"white\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[student.first_name,\" \",student.last_name]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted ms-2\",children:[\"(\",student.student_number,\")\"]})]}),((_student$class_series=student.class_series)===null||_student$class_series===void 0?void 0:_student$class_series.school_class)&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[student.class_series.school_class.name,\" - \",student.class_series.name]})]},student.id);})}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:formErrors.student_id})]})]})})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Frais de dossier (FCFA) *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",min:\"0\",step:\"1\",placeholder:\"Ex: 5000\",value:formData.fee_amount,onChange:e=>handleInputChange(\"fee_amount\",e.target.value),isInvalid:!!formErrors.fee_amount}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:formErrors.fee_amount})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"P\\xE9nalit\\xE9 (FCFA)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",min:\"0\",step:\"1\",placeholder:\"Ex: 500 (optionnel)\",value:formData.penalty_amount,onChange:e=>handleInputChange(\"penalty_amount\",e.target.value),isInvalid:!!formErrors.penalty_amount}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:formErrors.penalty_amount}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Montant optionnel pour les retards ou autres p\\xE9nalit\\xE9s\"})]})})]}),(formData.fee_amount||formData.penalty_amount)&&/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Col,{md:12,children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-light border rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Total \\xE0 payer:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"h5 text-primary mb-0\",children:formatCurrency((parseFloat(formData.fee_amount)||0)+(parseFloat(formData.penalty_amount)||0))})]}),formData.penalty_amount&&parseFloat(formData.penalty_amount)>0&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Frais: \",formatCurrency(parseFloat(formData.fee_amount)||0),\" + P\\xE9nalit\\xE9: \",formatCurrency(parseFloat(formData.penalty_amount)||0)]})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:12,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Description optionnelle du frais\",value:formData.description,onChange:e=>handleInputChange(\"description\",e.target.value),isInvalid:!!formErrors.description}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:formErrors.description})]})})})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Informations de Paiement\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Date de paiement *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:formData.payment_date,onChange:e=>handleInputChange(\"payment_date\",e.target.value),isInvalid:!!formErrors.payment_date}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:formErrors.payment_date})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Date de versement\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:formData.versement_date,onChange:e=>handleInputChange(\"versement_date\",e.target.value),isInvalid:!!formErrors.versement_date}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:formErrors.versement_date})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Mode de paiement *\"}),/*#__PURE__*/_jsx(Form.Select,{value:formData.payment_method,onChange:e=>handleInputChange(\"payment_method\",e.target.value),isInvalid:!!formErrors.payment_method,children:paymentMethods.map(method=>/*#__PURE__*/_jsx(\"option\",{value:method.value,children:method.label},method.value))}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:formErrors.payment_method})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Num\\xE9ro de r\\xE9f\\xE9rence\",(formData.payment_method===\"cheque\"||formData.payment_method===\"transfer\")&&\" *\"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:formData.payment_method===\"cheque\"?\"Numéro de chèque\":formData.payment_method===\"transfer\"?\"Numéro de virement\":formData.payment_method===\"mobile_money\"?\"Numéro de transaction\":\"Référence optionnelle\",value:formData.reference_number,onChange:e=>handleInputChange(\"reference_number\",e.target.value),isInvalid:!!formErrors.reference_number}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:formErrors.reference_number})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:12,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Notes\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,placeholder:\"Notes optionnelles\",value:formData.notes,onChange:e=>handleInputChange(\"notes\",e.target.value),isInvalid:!!formErrors.notes}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:formErrors.notes})]})})})]})]})]}),/*#__PURE__*/_jsx(Col,{lg:4,children:/*#__PURE__*/_jsxs(Card,{className:\"position-sticky\",style:{top:\"20px\"},children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"R\\xE9sum\\xE9\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[selectedStudent&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\xC9tudiant:\"}),/*#__PURE__*/_jsx(\"br\",{}),selectedStudent.first_name,\" \",selectedStudent.last_name,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:selectedStudent.student_number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Frais de dossier\",formData.penalty_amount&&parseFloat(formData.penalty_amount)>0&&\" + Pénalité\"]}),(formData.fee_amount||formData.penalty_amount)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"D\\xE9tail des montants:\"}),/*#__PURE__*/_jsx(\"br\",{}),formData.fee_amount&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Frais: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary fw-bold\",children:formatCurrency(parseFloat(formData.fee_amount)||0)})]}),formData.penalty_amount&&parseFloat(formData.penalty_amount)>0&&/*#__PURE__*/_jsxs(\"div\",{children:[\"P\\xE9nalit\\xE9: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger fw-bold\",children:formatCurrency(parseFloat(formData.penalty_amount)||0)})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total: \",/*#__PURE__*/_jsx(\"span\",{className:\"h5 text-primary\",children:formatCurrency((parseFloat(formData.fee_amount)||0)+(parseFloat(formData.penalty_amount)||0))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Mode de paiement:\"}),/*#__PURE__*/_jsx(\"br\",{}),(_paymentMethods$find=paymentMethods.find(m=>m.value===formData.payment_method))===null||_paymentMethods$find===void 0?void 0:_paymentMethods$find.label]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success small\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u2713 Statut :\"}),\" Ce frais sera automatiquement valid\\xE9 apr\\xE8s cr\\xE9ation\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",disabled:loading||!selectedStudent,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\",className:\"me-2\"}),\"Enregistrement...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Save,{className:\"me-1\"}),\"Enregistrer\"]})}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline-secondary\",onClick:()=>navigate(\"/payments/documentary-fees\"),children:\"Annuler\"})]})]})]})})]})})]});};export default CreateDocumentaryFee;","map":{"version":3,"names":["useEffect","useState","Alert","Button","Card","Col","Container","Form","Row","Spinner","ArrowLeft","FileEarmarkText","Save","Search","useNavigate","useSchool","secureApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CreateDocumentaryFee","_selectedStudent$clas","_paymentMethods$find","navigate","formatCurrency","loading","setLoading","error","setError","success","setSuccess","searchTerm","setSearchTerm","searchResults","setSearchResults","selectedStudent","setSelectedStudent","searchLoading","setSearchLoading","formData","setFormData","student_id","description","fee_amount","penalty_amount","payment_date","Date","toISOString","split","versement_date","payment_method","reference_number","notes","formErrors","setFormErrors","paymentMethods","value","label","length","delayedSearch","setTimeout","searchStudents","clearTimeout","data","makeRequest","encodeURIComponent","err","console","selectStudent","student","prev","id","clearSelectedStudent","handleInputChange","field","validateForm","errors","parseFloat","Object","keys","handleSubmit","e","preventDefault","method","body","JSON","stringify","message","fluid","className","children","variant","onClick","onSubmit","lg","Header","Body","md","Group","Label","first_name","last_name","student_number","class_series","school_class","name","size","Control","type","placeholder","onChange","target","isInvalid","animation","style","zIndex","map","_student$class_series","cursor","onMouseEnter","backgroundColor","onMouseLeave","Feedback","min","step","Text","Select","as","rows","top","find","m","disabled"],"sources":["/var/www/College-IUP/front/src/pages/Payments/CreateDocumentaryFee.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  Alert,\n  Button,\n  Card,\n  Col,\n  Container,\n  Form,\n  Row,\n  Spinner,\n} from \"react-bootstrap\";\nimport {\n  ArrowLeft,\n  FileEarmarkText,\n  Save,\n  Search,\n} from \"react-bootstrap-icons\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSchool } from \"../../contexts/SchoolContext\";\nimport { secureApi } from \"../../utils/apiMigration\";\n\nconst CreateDocumentaryFee = () => {\n  const navigate = useNavigate();\n  const { formatCurrency } = useSchool();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  // États pour la recherche d'étudiant\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [searchLoading, setSearchLoading] = useState(false);\n\n  const [formData, setFormData] = useState({\n    student_id: \"\",\n    description: \"\",\n    fee_amount: \"\",\n    penalty_amount: \"\",\n    payment_date: new Date().toISOString().split(\"T\")[0],\n    versement_date: \"\",\n    payment_method: \"cash\",\n    reference_number: \"\",\n    notes: \"\",\n  });\n\n  const [formErrors, setFormErrors] = useState({});\n\n  // Note: Fee type is now fixed as \"frais_dossier\" with optional penalty\n\n  // Méthodes de paiement\n  const paymentMethods = [\n    { value: \"cash\", label: \"Espèces\" },\n    { value: \"cheque\", label: \"Chèque\" },\n    { value: \"transfer\", label: \"Virement\" },\n    { value: \"mobile_money\", label: \"Mobile Money\" },\n  ];\n\n  useEffect(() => {\n    if (searchTerm.length >= 2) {\n      const delayedSearch = setTimeout(() => {\n        searchStudents();\n      }, 500);\n      return () => clearTimeout(delayedSearch);\n    } else {\n      setSearchResults([]);\n    }\n  }, [searchTerm]);\n\n  const searchStudents = async () => {\n    try {\n      setSearchLoading(true);\n      const data = await secureApi.makeRequest(`/students/search?q=${encodeURIComponent(searchTerm)}`);\n      if (data.success) {\n        setSearchResults(data.data || []);\n      }\n    } catch (err) {\n      console.error(\"Error searching students:\", err);\n    } finally {\n      setSearchLoading(false);\n    }\n  };\n\n  const selectStudent = (student) => {\n    setSelectedStudent(student);\n    setFormData(prev => ({ ...prev, student_id: student.id }));\n    setSearchResults([]);\n    setSearchTerm(\"\");\n    setFormErrors(prev => ({ ...prev, student_id: \"\" }));\n  };\n\n  const clearSelectedStudent = () => {\n    setSelectedStudent(null);\n    setFormData(prev => ({ ...prev, student_id: \"\" }));\n  };\n\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    if (formErrors[field]) {\n      setFormErrors(prev => ({ ...prev, [field]: \"\" }));\n    }\n  };\n\n  const validateForm = () => {\n    const errors = {};\n\n    if (!formData.student_id) {\n      errors.student_id = \"Veuillez sélectionner un étudiant\";\n    }\n\n    if (!formData.fee_amount || parseFloat(formData.fee_amount) <= 0) {\n      errors.fee_amount = \"Le montant des frais de dossier doit être supérieur à 0\";\n    }\n\n    if (formData.penalty_amount && parseFloat(formData.penalty_amount) < 0) {\n      errors.penalty_amount = \"Le montant de la pénalité ne peut pas être négatif\";\n    }\n\n    if (!formData.payment_date) {\n      errors.payment_date = \"La date de paiement est requise\";\n    }\n\n    if (formData.payment_method === \"cheque\" && !formData.reference_number) {\n      errors.reference_number = \"Le numéro de chèque est requis\";\n    }\n\n    if (formData.payment_method === \"transfer\" && !formData.reference_number) {\n      errors.reference_number = \"Le numéro de virement est requis\";\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(\"\");\n      setSuccess(\"\");\n\n      const data = await secureApi.makeRequest(\"/documentary-fees\", {\n        method: \"POST\",\n        body: JSON.stringify(formData),\n      });\n\n      if (data.success) {\n        setSuccess(\"Frais de dossier enregistré avec succès\");\n        setTimeout(() => {\n          navigate(\"/payments/documentary-fees\");\n        }, 2000);\n      } else {\n        setError(data.message || \"Erreur lors de l'enregistrement\");\n        if (data.errors) {\n          setFormErrors(data.errors);\n        }\n      }\n    } catch (err) {\n      console.error(\"Error creating documentary fee:\", err);\n      setError(\"Erreur lors de l'enregistrement du frais\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container fluid className=\"py-4\">\n      <Row className=\"mb-4\">\n        <Col>\n          <div className=\"d-flex align-items-center\">\n            <Button\n              variant=\"outline-secondary\"\n              onClick={() => navigate(\"/payments/documentary-fees\")}\n              className=\"me-3\"\n            >\n              <ArrowLeft />\n            </Button>\n            <div>\n              <h2 className=\"mb-1\">\n                <FileEarmarkText className=\"me-2\" />\n                Nouveau Frais de Dossier\n              </h2>\n              <p className=\"text-muted mb-0\">\n                Enregistrer un nouveau frais hors scolarité\n              </p>\n            </div>\n          </div>\n        </Col>\n      </Row>\n\n      {/* Messages */}\n      {error && <Alert variant=\"danger\" className=\"mb-3\">{error}</Alert>}\n      {success && <Alert variant=\"success\" className=\"mb-3\">{success}</Alert>}\n\n      <Form onSubmit={handleSubmit}>\n        <Row>\n          <Col lg={8}>\n            <Card className=\"mb-4\">\n              <Card.Header>\n                <h5 className=\"mb-0\">Informations du Frais</h5>\n              </Card.Header>\n              <Card.Body>\n                {/* Recherche d'étudiant */}\n                <Row>\n                  <Col md={12}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Étudiant *</Form.Label>\n                      {selectedStudent ? (\n                        <div className=\"border rounded p-3 bg-light\">\n                          <div className=\"d-flex justify-content-between align-items-start\">\n                            <div>\n                              <strong>{selectedStudent.first_name} {selectedStudent.last_name}</strong>\n                              <br />\n                              <small className=\"text-muted\">\n                                Matricule: {selectedStudent.student_number}\n                              </small>\n                              {selectedStudent.class_series?.school_class && (\n                                <>\n                                  <br />\n                                  <small className=\"text-muted\">\n                                    Classe: {selectedStudent.class_series.school_class.name} - {selectedStudent.class_series.name}\n                                  </small>\n                                </>\n                              )}\n                            </div>\n                            <Button\n                              variant=\"outline-danger\"\n                              size=\"sm\"\n                              onClick={clearSelectedStudent}\n                            >\n                              Changer\n                            </Button>\n                          </div>\n                        </div>\n                      ) : (\n                        <div>\n                          <div className=\"position-relative\">\n                            <Form.Control\n                              type=\"text\"\n                              placeholder=\"Rechercher un étudiant (nom, prénom, matricule...)\"\n                              value={searchTerm}\n                              onChange={(e) => setSearchTerm(e.target.value)}\n                              isInvalid={!!formErrors.student_id}\n                            />\n                            <div className=\"position-absolute end-0 top-50 translate-middle-y me-2\">\n                              {searchLoading ? (\n                                <Spinner animation=\"border\" size=\"sm\" />\n                              ) : (\n                                <Search />\n                              )}\n                            </div>\n                          </div>\n                          \n                          {searchResults.length > 0 && (\n                            <div className=\"border rounded mt-1 bg-white position-relative\" style={{ zIndex: 1000 }}>\n                              {searchResults.map((student) => (\n                                <div\n                                  key={student.id}\n                                  className=\"p-2 border-bottom cursor-pointer hover-bg-light\"\n                                  onClick={() => selectStudent(student)}\n                                  style={{ cursor: \"pointer\" }}\n                                  onMouseEnter={(e) => e.target.style.backgroundColor = \"#f8f9fa\"}\n                                  onMouseLeave={(e) => e.target.style.backgroundColor = \"white\"}\n                                >\n                                  <div>\n                                    <strong>{student.first_name} {student.last_name}</strong>\n                                    <small className=\"text-muted ms-2\">({student.student_number})</small>\n                                  </div>\n                                  {student.class_series?.school_class && (\n                                    <small className=\"text-muted\">\n                                      {student.class_series.school_class.name } - {student.class_series.name}\n                                    </small>\n                                  )}\n                                </div>\n                              ))}\n                            </div>\n                          )}\n                          \n                          <Form.Control.Feedback type=\"invalid\">\n                            {formErrors.student_id}\n                          </Form.Control.Feedback>\n                        </div>\n                      )}\n                    </Form.Group>\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Frais de dossier (FCFA) *</Form.Label>\n                      <Form.Control\n                        type=\"number\"\n                        min=\"0\"\n                        step=\"1\"\n                        placeholder=\"Ex: 5000\"\n                        value={formData.fee_amount}\n                        onChange={(e) => handleInputChange(\"fee_amount\", e.target.value)}\n                        isInvalid={!!formErrors.fee_amount}\n                      />\n                      <Form.Control.Feedback type=\"invalid\">\n                        {formErrors.fee_amount}\n                      </Form.Control.Feedback>\n                    </Form.Group>\n                  </Col>\n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Pénalité (FCFA)</Form.Label>\n                      <Form.Control\n                        type=\"number\"\n                        min=\"0\"\n                        step=\"1\"\n                        placeholder=\"Ex: 500 (optionnel)\"\n                        value={formData.penalty_amount}\n                        onChange={(e) => handleInputChange(\"penalty_amount\", e.target.value)}\n                        isInvalid={!!formErrors.penalty_amount}\n                      />\n                      <Form.Control.Feedback type=\"invalid\">\n                        {formErrors.penalty_amount}\n                      </Form.Control.Feedback>\n                      <Form.Text className=\"text-muted\">\n                        Montant optionnel pour les retards ou autres pénalités\n                      </Form.Text>\n                    </Form.Group>\n                  </Col>\n                </Row>\n\n                {/* Total calculation */}\n                {(formData.fee_amount || formData.penalty_amount) && (\n                  <Row className=\"mb-3\">\n                    <Col md={12}>\n                      <div className=\"p-3 bg-light border rounded\">\n                        <div className=\"d-flex justify-content-between align-items-center\">\n                          <span className=\"fw-bold\">Total à payer:</span>\n                          <span className=\"h5 text-primary mb-0\">\n                            {formatCurrency(\n                              (parseFloat(formData.fee_amount) || 0) + \n                              (parseFloat(formData.penalty_amount) || 0)\n                            )}\n                          </span>\n                        </div>\n                        {formData.penalty_amount && parseFloat(formData.penalty_amount) > 0 && (\n                          <small className=\"text-muted\">\n                            Frais: {formatCurrency(parseFloat(formData.fee_amount) || 0)} + \n                            Pénalité: {formatCurrency(parseFloat(formData.penalty_amount) || 0)}\n                          </small>\n                        )}\n                      </div>\n                    </Col>\n                  </Row>\n                )}\n\n                <Row>\n                  <Col md={12}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Description</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        placeholder=\"Description optionnelle du frais\"\n                        value={formData.description}\n                        onChange={(e) => handleInputChange(\"description\", e.target.value)}\n                        isInvalid={!!formErrors.description}\n                      />\n                      <Form.Control.Feedback type=\"invalid\">\n                        {formErrors.description}\n                      </Form.Control.Feedback>\n                    </Form.Group>\n                  </Col>\n                </Row>\n              </Card.Body>\n            </Card>\n\n            <Card className=\"mb-4\">\n              <Card.Header>\n                <h5 className=\"mb-0\">Informations de Paiement</h5>\n              </Card.Header>\n              <Card.Body>\n                <Row>\n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Date de paiement *</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        value={formData.payment_date}\n                        onChange={(e) => handleInputChange(\"payment_date\", e.target.value)}\n                        isInvalid={!!formErrors.payment_date}\n                      />\n                      <Form.Control.Feedback type=\"invalid\">\n                        {formErrors.payment_date}\n                      </Form.Control.Feedback>\n                    </Form.Group>\n                  </Col>\n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Date de versement</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        value={formData.versement_date}\n                        onChange={(e) => handleInputChange(\"versement_date\", e.target.value)}\n                        isInvalid={!!formErrors.versement_date}\n                      />\n                      <Form.Control.Feedback type=\"invalid\">\n                        {formErrors.versement_date}\n                      </Form.Control.Feedback>\n                    </Form.Group>\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Mode de paiement *</Form.Label>\n                      <Form.Select\n                        value={formData.payment_method}\n                        onChange={(e) => handleInputChange(\"payment_method\", e.target.value)}\n                        isInvalid={!!formErrors.payment_method}\n                      >\n                        {paymentMethods.map(method => (\n                          <option key={method.value} value={method.value}>\n                            {method.label}\n                          </option>\n                        ))}\n                      </Form.Select>\n                      <Form.Control.Feedback type=\"invalid\">\n                        {formErrors.payment_method}\n                      </Form.Control.Feedback>\n                    </Form.Group>\n                  </Col>\n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>\n                        Numéro de référence\n                        {(formData.payment_method === \"cheque\" || formData.payment_method === \"transfer\") && \" *\"}\n                      </Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        placeholder={\n                          formData.payment_method === \"cheque\" ? \"Numéro de chèque\" :\n                          formData.payment_method === \"transfer\" ? \"Numéro de virement\" :\n                          formData.payment_method === \"mobile_money\" ? \"Numéro de transaction\" :\n                          \"Référence optionnelle\"\n                        }\n                        value={formData.reference_number}\n                        onChange={(e) => handleInputChange(\"reference_number\", e.target.value)}\n                        isInvalid={!!formErrors.reference_number}\n                      />\n                      <Form.Control.Feedback type=\"invalid\">\n                        {formErrors.reference_number}\n                      </Form.Control.Feedback>\n                    </Form.Group>\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col md={12}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Notes</Form.Label>\n                      <Form.Control\n                        as=\"textarea\"\n                        rows={3}\n                        placeholder=\"Notes optionnelles\"\n                        value={formData.notes}\n                        onChange={(e) => handleInputChange(\"notes\", e.target.value)}\n                        isInvalid={!!formErrors.notes}\n                      />\n                      <Form.Control.Feedback type=\"invalid\">\n                        {formErrors.notes}\n                      </Form.Control.Feedback>\n                    </Form.Group>\n                  </Col>\n                </Row>\n              </Card.Body>\n            </Card>\n          </Col>\n\n          <Col lg={4}>\n            <Card className=\"position-sticky\" style={{ top: \"20px\" }}>\n              <Card.Header>\n                <h5 className=\"mb-0\">Résumé</h5>\n              </Card.Header>\n              <Card.Body>\n                {selectedStudent && (\n                  <div className=\"mb-3\">\n                    <strong>Étudiant:</strong>\n                    <br />\n                    {selectedStudent.first_name} {selectedStudent.last_name}\n                    <br />\n                    <small className=\"text-muted\">{selectedStudent.student_number}</small>\n                  </div>\n                )}\n\n                <div className=\"mb-3\">\n                  <strong>Type:</strong>\n                  <br />\n                  Frais de dossier\n                  {formData.penalty_amount && parseFloat(formData.penalty_amount) > 0 && \" + Pénalité\"}\n                </div>\n\n                {(formData.fee_amount || formData.penalty_amount) && (\n                  <div className=\"mb-3\">\n                    <strong>Détail des montants:</strong>\n                    <br />\n                    {formData.fee_amount && (\n                      <div>\n                        Frais: <span className=\"text-primary fw-bold\">\n                          {formatCurrency(parseFloat(formData.fee_amount) || 0)}\n                        </span>\n                      </div>\n                    )}\n                    {formData.penalty_amount && parseFloat(formData.penalty_amount) > 0 && (\n                      <div>\n                        Pénalité: <span className=\"text-danger fw-bold\">\n                          {formatCurrency(parseFloat(formData.penalty_amount) || 0)}\n                        </span>\n                      </div>\n                    )}\n                    <hr className=\"my-2\" />\n                    <div>\n                      <strong>Total: <span className=\"h5 text-primary\">\n                        {formatCurrency(\n                          (parseFloat(formData.fee_amount) || 0) + \n                          (parseFloat(formData.penalty_amount) || 0)\n                        )}\n                      </span></strong>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"mb-3\">\n                  <strong>Mode de paiement:</strong>\n                  <br />\n                  {paymentMethods.find(m => m.value === formData.payment_method)?.label}\n                </div>\n\n                <div className=\"alert alert-success small\">\n                  <strong>✓ Statut :</strong> Ce frais sera automatiquement validé après création\n                </div>\n\n                <hr />\n\n                <div className=\"d-grid gap-2\">\n                  <Button\n                    type=\"submit\"\n                    variant=\"primary\"\n                    disabled={loading || !selectedStudent}\n                  >\n                    {loading ? (\n                      <>\n                        <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\n                        Enregistrement...\n                      </>\n                    ) : (\n                      <>\n                        <Save className=\"me-1\" />\n                        Enregistrer\n                      </>\n                    )}\n                  </Button>\n                  \n                  <Button\n                    type=\"button\"\n                    variant=\"outline-secondary\"\n                    onClick={() => navigate(\"/payments/documentary-fees\")}\n                  >\n                    Annuler\n                  </Button>\n                </div>\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n      </Form>\n    </Container>\n  );\n};\n\nexport default CreateDocumentaryFee;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}