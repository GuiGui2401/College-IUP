{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Modal,Form,Alert,Badge,Card,Table,Row,Col,Tabs,Tab}from'react-bootstrap';import{PlusCircle,PencilFill,Trash2,PersonFill,JournalBookmarkFill,HouseHeartFill}from'react-bootstrap-icons';import{secureApiEndpoints}from'../../utils/apiMigration';import Swal from'sweetalert2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TeacherAssignments=()=>{const[loading,setLoading]=useState(false);const[teachers,setTeachers]=useState([]);const[subjects,setSubjects]=useState([]);const[schoolClasses,setSchoolClasses]=useState([]);const[assignments,setAssignments]=useState([]);const[showModal,setShowModal]=useState(false);const[selectedTeacher,setSelectedTeacher]=useState(null);const[assignmentData,setAssignmentData]=useState({subject_id:'',class_series_id:'',coefficient:1,is_main_teacher:false});const[activeTab,setActiveTab]=useState('assignments');useEffect(()=>{loadData();},[]);const loadData=async()=>{try{setLoading(true);const[teachersRes,subjectsRes,classesRes]=await Promise.all([secureApiEndpoints.teachers.getAll({with_details:true}),secureApiEndpoints.subjects.getAll({active:true}),secureApiEndpoints.schoolClasses.getAll()]);if(teachersRes.success)setTeachers(teachersRes.data);if(subjectsRes.success)setSubjects(subjectsRes.data);if(classesRes.success)setSchoolClasses(classesRes.data);}catch(error){console.error('Erreur lors du chargement des données:',error);Swal.fire('Erreur','Impossible de charger les données','error');}finally{setLoading(false);}};const handleShowAssignModal=teacher=>{setSelectedTeacher(teacher);setAssignmentData({subject_id:'',class_series_id:'',coefficient:1,is_main_teacher:false});setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);setSelectedTeacher(null);setAssignmentData({subject_id:'',class_series_id:'',coefficient:1,is_main_teacher:false});};const handleInputChange=(field,value)=>{setAssignmentData(prev=>({...prev,[field]:value}));};const handleAssignSubject=async e=>{e.preventDefault();if(!selectedTeacher||!assignmentData.subject_id||!assignmentData.class_series_id){Swal.fire('Erreur','Veuillez remplir tous les champs obligatoires','error');return;}try{const response=await secureApiEndpoints.teachers.assignSubjects(selectedTeacher.id,{assignments:[{subject_id:assignmentData.subject_id,class_series_id:assignmentData.class_series_id,coefficient:assignmentData.coefficient,is_main_teacher:assignmentData.is_main_teacher}]});if(response.success){Swal.fire('Succès!','Affectation créée avec succès','success');handleCloseModal();loadData();}}catch(error){var _error$response,_error$response$data;console.error('Erreur lors de l\\'affectation:',error);Swal.fire('Erreur',((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Une erreur est survenue','error');}};const handleRemoveAssignment=async(teacherId,subjectId,classSeriesId)=>{try{const result=await Swal.fire({title:'Confirmation',text:'Êtes-vous sûr de vouloir supprimer cette affectation ?',icon:'warning',showCancelButton:true,confirmButtonText:'Oui, supprimer',cancelButtonText:'Annuler',confirmButtonColor:'#d33'});if(result.isConfirmed){const response=await secureApiEndpoints.teachers.removeAssignment(teacherId,{subject_id:subjectId,class_series_id:classSeriesId});if(response.success){Swal.fire('Succès!','Affectation supprimée avec succès','success');loadData();}}}catch(error){var _error$response2,_error$response2$data;console.error('Erreur lors de la suppression:',error);Swal.fire('Erreur',((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Une erreur est survenue','error');}};const getSubjectName=subjectId=>{const subject=subjects.find(s=>s.id===subjectId);return subject?subject.name:'Matière inconnue';};const getClassName=classId=>{var _schoolClass$level;const schoolClass=schoolClasses.find(c=>c.id===classId);return schoolClass?`${schoolClass.name} (${((_schoolClass$level=schoolClass.level)===null||_schoolClass$level===void 0?void 0:_schoolClass$level.name)||''})`:'Classe inconnue';};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Chargement...\"})})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Affectation des Enseignants\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"G\\xE9rez les affectations des enseignants aux mati\\xE8res et classes\"})]})}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onSelect:setActiveTab,className:\"mb-3\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"assignments\",title:\"Vue par Enseignant\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:teachers.map(teacher=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4\",children:/*#__PURE__*/_jsxs(Card,{className:\"h-100\",children:[/*#__PURE__*/_jsxs(Card.Header,{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(PersonFill,{className:\"text-primary me-2\"}),/*#__PURE__*/_jsx(\"strong\",{children:teacher.full_name})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-primary\",size:\"sm\",onClick:()=>handleShowAssignModal(teacher),children:[/*#__PURE__*/_jsx(PlusCircle,{size:14,className:\"me-1\"}),\"Affecter\"]})]}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Contact:\"}),\" \",teacher.phone_number]})}),teacher.teacher_subjects&&teacher.teacher_subjects.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted mb-2 d-block\",children:\"Affectations actuelles:\"}),teacher.teacher_subjects.map((assignment,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 p-2 bg-light rounded\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{className:\"text-primary\",children:getSubjectName(assignment.subject_id)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:getClassName(assignment.class_series_id)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",className:\"me-1\",children:[\"Coeff: \",assignment.coefficient]}),assignment.is_main_teacher&&/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Professeur Principal\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>handleRemoveAssignment(teacher.id,assignment.subject_id,assignment.class_series_id),children:/*#__PURE__*/_jsx(Trash2,{size:12})})]})},index))]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-muted py-3\",children:[/*#__PURE__*/_jsx(JournalBookmarkFill,{size:24,className:\"mb-2\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"Aucune affectation\"})]})]})]})},teacher.id))})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"subjects\",title:\"Vue par Mati\\xE8re\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:subjects.map(subject=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4\",children:/*#__PURE__*/_jsxs(Card,{className:\"h-100\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(JournalBookmarkFill,{className:\"text-primary me-2\"}),/*#__PURE__*/_jsx(\"strong\",{children:subject.name}),/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",className:\"ms-2\",children:subject.code})]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-muted py-3\",children:[/*#__PURE__*/_jsx(\"small\",{children:\"Enseignants affect\\xE9s \\xE0 cette mati\\xE8re\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-info\",children:\"Fonctionnalit\\xE9 en d\\xE9veloppement\"})]})})]})},subject.id))})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"classes\",title:\"Vue par Classe\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:schoolClasses.map(schoolClass=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4\",children:/*#__PURE__*/_jsxs(Card,{className:\"h-100\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(HouseHeartFill,{className:\"text-primary me-2\"}),/*#__PURE__*/_jsx(\"strong\",{children:schoolClass.name}),schoolClass.level&&/*#__PURE__*/_jsx(Badge,{bg:\"info\",className:\"ms-2\",children:schoolClass.level.name})]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-muted py-3\",children:[/*#__PURE__*/_jsx(\"small\",{children:\"Enseignants de cette classe\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-info\",children:\"Fonctionnalit\\xE9 en d\\xE9veloppement\"})]})})]})},schoolClass.id))})})]})})}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:handleCloseModal,size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Affecter une mati\\xE8re \\xE0 \",selectedTeacher===null||selectedTeacher===void 0?void 0:selectedTeacher.full_name]})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleAssignSubject,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Mati\\xE8re \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(Form.Select,{value:assignmentData.subject_id,onChange:e=>handleInputChange('subject_id',e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une mati\\xE8re...\"}),subjects.map(subject=>/*#__PURE__*/_jsxs(\"option\",{value:subject.id,children:[subject.name,\" (\",subject.code,\")\"]},subject.id))]})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Classe \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(Form.Select,{value:assignmentData.class_series_id,onChange:e=>handleInputChange('class_series_id',e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une classe...\"}),schoolClasses.map(schoolClass=>/*#__PURE__*/_jsxs(\"option\",{value:schoolClass.id,children:[schoolClass.name,\" \",schoolClass.level&&`(${schoolClass.level.name})`]},schoolClass.id))]})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Coefficient\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",min:\"1\",max:\"10\",step:\"0.5\",value:assignmentData.coefficient,onChange:e=>handleInputChange('coefficient',parseFloat(e.target.value)||1)}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Coefficient de la mati\\xE8re pour cette classe\"})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",label:\"Professeur principal de cette classe\",checked:assignmentData.is_main_teacher,onChange:e=>handleInputChange('is_main_teacher',e.target.checked)}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Cet enseignant sera le professeur principal de la classe s\\xE9lectionn\\xE9e\"})]})})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseModal,children:\"Annuler\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",type:\"submit\",children:[/*#__PURE__*/_jsx(PlusCircle,{className:\"me-2\"}),\"Affecter\"]})]})]})]})]});};export default TeacherAssignments;","map":{"version":3,"names":["React","useState","useEffect","Button","Modal","Form","Alert","Badge","Card","Table","Row","Col","Tabs","Tab","PlusCircle","PencilFill","Trash2","PersonFill","JournalBookmarkFill","HouseHeartFill","secureApiEndpoints","Swal","jsx","_jsx","jsxs","_jsxs","TeacherAssignments","loading","setLoading","teachers","setTeachers","subjects","setSubjects","schoolClasses","setSchoolClasses","assignments","setAssignments","showModal","setShowModal","selectedTeacher","setSelectedTeacher","assignmentData","setAssignmentData","subject_id","class_series_id","coefficient","is_main_teacher","activeTab","setActiveTab","loadData","teachersRes","subjectsRes","classesRes","Promise","all","getAll","with_details","active","success","data","error","console","fire","handleShowAssignModal","teacher","handleCloseModal","handleInputChange","field","value","prev","handleAssignSubject","e","preventDefault","response","assignSubjects","id","_error$response","_error$response$data","message","handleRemoveAssignment","teacherId","subjectId","classSeriesId","result","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonColor","isConfirmed","removeAssignment","_error$response2","_error$response2$data","getSubjectName","subject","find","s","name","getClassName","classId","_schoolClass$level","schoolClass","c","level","className","children","role","Body","activeKey","onSelect","eventKey","map","Header","full_name","variant","size","onClick","phone_number","teacher_subjects","length","assignment","index","bg","code","show","onHide","closeButton","Title","onSubmit","md","Group","Label","Select","onChange","target","required","Control","type","min","max","step","parseFloat","Text","Check","label","checked","Footer"],"sources":["/var/www/College-IUP/front/src/pages/Teachers/TeacherAssignments.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Modal, Form, Alert, Badge, Card, Table, Row, Col, Tabs, Tab } from 'react-bootstrap';\nimport { PlusCircle, PencilFill, Trash2, PersonFill, JournalBookmarkFill, HouseHeartFill } from 'react-bootstrap-icons';\nimport { secureApiEndpoints } from '../../utils/apiMigration';\nimport Swal from 'sweetalert2';\n\nconst TeacherAssignments = () => {\n    const [loading, setLoading] = useState(false);\n    const [teachers, setTeachers] = useState([]);\n    const [subjects, setSubjects] = useState([]);\n    const [schoolClasses, setSchoolClasses] = useState([]);\n    const [assignments, setAssignments] = useState([]);\n    const [showModal, setShowModal] = useState(false);\n    const [selectedTeacher, setSelectedTeacher] = useState(null);\n    const [assignmentData, setAssignmentData] = useState({\n        subject_id: '',\n        class_series_id: '',\n        coefficient: 1,\n        is_main_teacher: false\n    });\n    const [activeTab, setActiveTab] = useState('assignments');\n\n    useEffect(() => {\n        loadData();\n    }, []);\n\n    const loadData = async () => {\n        try {\n            setLoading(true);\n            const [teachersRes, subjectsRes, classesRes] = await Promise.all([\n                secureApiEndpoints.teachers.getAll({ with_details: true }),\n                secureApiEndpoints.subjects.getAll({ active: true }),\n                secureApiEndpoints.schoolClasses.getAll()\n            ]);\n\n            if (teachersRes.success) setTeachers(teachersRes.data);\n            if (subjectsRes.success) setSubjects(subjectsRes.data);\n            if (classesRes.success) setSchoolClasses(classesRes.data);\n\n        } catch (error) {\n            console.error('Erreur lors du chargement des données:', error);\n            Swal.fire('Erreur', 'Impossible de charger les données', 'error');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleShowAssignModal = (teacher) => {\n        setSelectedTeacher(teacher);\n        setAssignmentData({\n            subject_id: '',\n            class_series_id: '',\n            coefficient: 1,\n            is_main_teacher: false\n        });\n        setShowModal(true);\n    };\n\n    const handleCloseModal = () => {\n        setShowModal(false);\n        setSelectedTeacher(null);\n        setAssignmentData({\n            subject_id: '',\n            class_series_id: '',\n            coefficient: 1,\n            is_main_teacher: false\n        });\n    };\n\n    const handleInputChange = (field, value) => {\n        setAssignmentData(prev => ({\n            ...prev,\n            [field]: value\n        }));\n    };\n\n    const handleAssignSubject = async (e) => {\n        e.preventDefault();\n        \n        if (!selectedTeacher || !assignmentData.subject_id || !assignmentData.class_series_id) {\n            Swal.fire('Erreur', 'Veuillez remplir tous les champs obligatoires', 'error');\n            return;\n        }\n\n        try {\n            const response = await secureApiEndpoints.teachers.assignSubjects(selectedTeacher.id, {\n                assignments: [{\n                    subject_id: assignmentData.subject_id,\n                    class_series_id: assignmentData.class_series_id,\n                    coefficient: assignmentData.coefficient,\n                    is_main_teacher: assignmentData.is_main_teacher\n                }]\n            });\n\n            if (response.success) {\n                Swal.fire('Succès!', 'Affectation créée avec succès', 'success');\n                handleCloseModal();\n                loadData();\n            }\n        } catch (error) {\n            console.error('Erreur lors de l\\'affectation:', error);\n            Swal.fire('Erreur', error.response?.data?.message || 'Une erreur est survenue', 'error');\n        }\n    };\n\n    const handleRemoveAssignment = async (teacherId, subjectId, classSeriesId) => {\n        try {\n            const result = await Swal.fire({\n                title: 'Confirmation',\n                text: 'Êtes-vous sûr de vouloir supprimer cette affectation ?',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Oui, supprimer',\n                cancelButtonText: 'Annuler',\n                confirmButtonColor: '#d33'\n            });\n\n            if (result.isConfirmed) {\n                const response = await secureApiEndpoints.teachers.removeAssignment(teacherId, {\n                    subject_id: subjectId,\n                    class_series_id: classSeriesId\n                });\n\n                if (response.success) {\n                    Swal.fire('Succès!', 'Affectation supprimée avec succès', 'success');\n                    loadData();\n                }\n            }\n        } catch (error) {\n            console.error('Erreur lors de la suppression:', error);\n            Swal.fire('Erreur', error.response?.data?.message || 'Une erreur est survenue', 'error');\n        }\n    };\n\n    const getSubjectName = (subjectId) => {\n        const subject = subjects.find(s => s.id === subjectId);\n        return subject ? subject.name : 'Matière inconnue';\n    };\n\n    const getClassName = (classId) => {\n        const schoolClass = schoolClasses.find(c => c.id === classId);\n        return schoolClass ? `${schoolClass.name} (${schoolClass.level?.name || ''})` : 'Classe inconnue';\n    };\n\n    if (loading) {\n        return (\n            <div className=\"container-fluid py-4\">\n                <div className=\"text-center\">\n                    <div className=\"spinner-border text-primary\" role=\"status\">\n                        <span className=\"visually-hidden\">Chargement...</span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"container-fluid py-4\">\n            {/* Header */}\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                <div>\n                    <h2>Affectation des Enseignants</h2>\n                    <p className=\"text-muted\">Gérez les affectations des enseignants aux matières et classes</p>\n                </div>\n            </div>\n\n            {/* Tabs */}\n            <Card className=\"mb-4\">\n                <Card.Body>\n                    <Tabs activeKey={activeTab} onSelect={setActiveTab} className=\"mb-3\">\n                        <Tab eventKey=\"assignments\" title=\"Vue par Enseignant\">\n                            <div className=\"row g-4\">\n                                {teachers.map((teacher) => (\n                                    <div key={teacher.id} className=\"col-md-6 col-lg-4\">\n                                        <Card className=\"h-100\">\n                                            <Card.Header className=\"d-flex justify-content-between align-items-center\">\n                                                <div className=\"d-flex align-items-center\">\n                                                    <PersonFill className=\"text-primary me-2\" />\n                                                    <strong>{teacher.full_name}</strong>\n                                                </div>\n                                                <Button\n                                                    variant=\"outline-primary\"\n                                                    size=\"sm\"\n                                                    onClick={() => handleShowAssignModal(teacher)}\n                                                >\n                                                    <PlusCircle size={14} className=\"me-1\" />\n                                                    Affecter\n                                                </Button>\n                                            </Card.Header>\n                                            <Card.Body>\n                                                <div className=\"mb-2\">\n                                                    <small className=\"text-muted\">\n                                                        <strong>Contact:</strong> {teacher.phone_number}\n                                                    </small>\n                                                </div>\n                                                \n                                                {teacher.teacher_subjects && teacher.teacher_subjects.length > 0 ? (\n                                                    <div>\n                                                        <small className=\"text-muted mb-2 d-block\">Affectations actuelles:</small>\n                                                        {teacher.teacher_subjects.map((assignment, index) => (\n                                                            <div key={index} className=\"mb-2 p-2 bg-light rounded\">\n                                                                <div className=\"d-flex justify-content-between align-items-start\">\n                                                                    <div>\n                                                                        <strong className=\"text-primary\">\n                                                                            {getSubjectName(assignment.subject_id)}\n                                                                        </strong>\n                                                                        <br />\n                                                                        <small className=\"text-muted\">\n                                                                            {getClassName(assignment.class_series_id)}\n                                                                        </small>\n                                                                        <br />\n                                                                        <Badge bg=\"secondary\" className=\"me-1\">\n                                                                            Coeff: {assignment.coefficient}\n                                                                        </Badge>\n                                                                        {assignment.is_main_teacher && (\n                                                                            <Badge bg=\"success\">Professeur Principal</Badge>\n                                                                        )}\n                                                                    </div>\n                                                                    <Button\n                                                                        variant=\"outline-danger\"\n                                                                        size=\"sm\"\n                                                                        onClick={() => handleRemoveAssignment(teacher.id, assignment.subject_id, assignment.class_series_id)}\n                                                                    >\n                                                                        <Trash2 size={12} />\n                                                                    </Button>\n                                                                </div>\n                                                            </div>\n                                                        ))}\n                                                    </div>\n                                                ) : (\n                                                    <div className=\"text-center text-muted py-3\">\n                                                        <JournalBookmarkFill size={24} className=\"mb-2\" />\n                                                        <br />\n                                                        <small>Aucune affectation</small>\n                                                    </div>\n                                                )}\n                                            </Card.Body>\n                                        </Card>\n                                    </div>\n                                ))}\n                            </div>\n                        </Tab>\n\n                        <Tab eventKey=\"subjects\" title=\"Vue par Matière\">\n                            <div className=\"row g-4\">\n                                {subjects.map((subject) => (\n                                    <div key={subject.id} className=\"col-md-6 col-lg-4\">\n                                        <Card className=\"h-100\">\n                                            <Card.Header>\n                                                <div className=\"d-flex align-items-center\">\n                                                    <JournalBookmarkFill className=\"text-primary me-2\" />\n                                                    <strong>{subject.name}</strong>\n                                                    <Badge bg=\"secondary\" className=\"ms-2\">{subject.code}</Badge>\n                                                </div>\n                                            </Card.Header>\n                                            <Card.Body>\n                                                <div className=\"text-center text-muted py-3\">\n                                                    <small>Enseignants affectés à cette matière</small>\n                                                    <br />\n                                                    <small className=\"text-info\">Fonctionnalité en développement</small>\n                                                </div>\n                                            </Card.Body>\n                                        </Card>\n                                    </div>\n                                ))}\n                            </div>\n                        </Tab>\n\n                        <Tab eventKey=\"classes\" title=\"Vue par Classe\">\n                            <div className=\"row g-4\">\n                                {schoolClasses.map((schoolClass) => (\n                                    <div key={schoolClass.id} className=\"col-md-6 col-lg-4\">\n                                        <Card className=\"h-100\">\n                                            <Card.Header>\n                                                <div className=\"d-flex align-items-center\">\n                                                    <HouseHeartFill className=\"text-primary me-2\" />\n                                                    <strong>{schoolClass.name}</strong>\n                                                    {schoolClass.level && (\n                                                        <Badge bg=\"info\" className=\"ms-2\">{schoolClass.level.name}</Badge>\n                                                    )}\n                                                </div>\n                                            </Card.Header>\n                                            <Card.Body>\n                                                <div className=\"text-center text-muted py-3\">\n                                                    <small>Enseignants de cette classe</small>\n                                                    <br />\n                                                    <small className=\"text-info\">Fonctionnalité en développement</small>\n                                                </div>\n                                            </Card.Body>\n                                        </Card>\n                                    </div>\n                                ))}\n                            </div>\n                        </Tab>\n                    </Tabs>\n                </Card.Body>\n            </Card>\n\n            {/* Modal d'affectation */}\n            <Modal show={showModal} onHide={handleCloseModal} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        Affecter une matière à {selectedTeacher?.full_name}\n                    </Modal.Title>\n                </Modal.Header>\n                <Form onSubmit={handleAssignSubject}>\n                    <Modal.Body>\n                        <Row>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Matière <span className=\"text-danger\">*</span></Form.Label>\n                                    <Form.Select\n                                        value={assignmentData.subject_id}\n                                        onChange={(e) => handleInputChange('subject_id', e.target.value)}\n                                        required\n                                    >\n                                        <option value=\"\">Sélectionner une matière...</option>\n                                        {subjects.map((subject) => (\n                                            <option key={subject.id} value={subject.id}>\n                                                {subject.name} ({subject.code})\n                                            </option>\n                                        ))}\n                                    </Form.Select>\n                                </Form.Group>\n                            </Col>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Classe <span className=\"text-danger\">*</span></Form.Label>\n                                    <Form.Select\n                                        value={assignmentData.class_series_id}\n                                        onChange={(e) => handleInputChange('class_series_id', e.target.value)}\n                                        required\n                                    >\n                                        <option value=\"\">Sélectionner une classe...</option>\n                                        {schoolClasses.map((schoolClass) => (\n                                            <option key={schoolClass.id} value={schoolClass.id}>\n                                                {schoolClass.name} {schoolClass.level && `(${schoolClass.level.name})`}\n                                            </option>\n                                        ))}\n                                    </Form.Select>\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                        \n                        <Row>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Label>Coefficient</Form.Label>\n                                    <Form.Control\n                                        type=\"number\"\n                                        min=\"1\"\n                                        max=\"10\"\n                                        step=\"0.5\"\n                                        value={assignmentData.coefficient}\n                                        onChange={(e) => handleInputChange('coefficient', parseFloat(e.target.value) || 1)}\n                                    />\n                                    <Form.Text className=\"text-muted\">\n                                        Coefficient de la matière pour cette classe\n                                    </Form.Text>\n                                </Form.Group>\n                            </Col>\n                            <Col md={6}>\n                                <Form.Group className=\"mb-3\">\n                                    <Form.Check\n                                        type=\"checkbox\"\n                                        label=\"Professeur principal de cette classe\"\n                                        checked={assignmentData.is_main_teacher}\n                                        onChange={(e) => handleInputChange('is_main_teacher', e.target.checked)}\n                                    />\n                                    <Form.Text className=\"text-muted\">\n                                        Cet enseignant sera le professeur principal de la classe sélectionnée\n                                    </Form.Text>\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleCloseModal}>\n                            Annuler\n                        </Button>\n                        <Button variant=\"primary\" type=\"submit\">\n                            <PlusCircle className=\"me-2\" />\n                            Affecter\n                        </Button>\n                    </Modal.Footer>\n                </Form>\n            </Modal>\n        </div>\n    );\n};\n\nexport default TeacherAssignments;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}