{"ast":null,"code":"import{useState,useEffect}from'react';import{Container,Row,Col,Card,Button,Table,Form,Alert,Spinner,Badge}from'react-bootstrap';import{FileEarmarkText,Calendar2,CurrencyDollar,Collection,Search,List,Download,FiletypePdf}from'react-bootstrap-icons';import{secureApiEndpoints}from'../../utils/apiMigration';import{extractErrorMessage}from'../../utils/errorHandler';import{authService}from'../../services/authService';import{host}from'../../utils/fetch';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DetailedCollectionReport=()=>{const[encaissements,setEncaissements]=useState([]);const[sections,setSections]=useState([]);const[summary,setSummary]=useState({});const[sectionInfo,setSectionInfo]=useState(null);const[schoolYear,setSchoolYear]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');// Filtres\nconst[filters,setFilters]=useState({start_date:'',end_date:'',section_id:''});useEffect(()=>{// Définir les dates par défaut (mois courant)\nconst today=new Date();const firstDayOfMonth=new Date(today.getFullYear(),today.getMonth(),1);const lastDayOfMonth=new Date(today.getFullYear(),today.getMonth()+1,0);setFilters({start_date:firstDayOfMonth.toISOString().split('T')[0],end_date:lastDayOfMonth.toISOString().split('T')[0],section_id:''});loadSections();},[]);const loadSections=async()=>{try{const response=await secureApiEndpoints.sections.getAll();if(response.success){setSections(response.data);}}catch(error){console.error('Erreur lors du chargement des sections:',error);}};const loadEncaissements=async()=>{if(!filters.start_date||!filters.end_date){setError('Les dates de début et de fin sont obligatoires');return;}if(new Date(filters.start_date)>new Date(filters.end_date)){setError('La date de début doit être antérieure à la date de fin');return;}try{setLoading(true);setError('');const response=await secureApiEndpoints.reports.getDetailedCollectionReport(filters);if(response.success){setEncaissements(response.data.encaissements);setSummary(response.data.summary);setSectionInfo(response.data.section_info);setSchoolYear(response.data.school_year);setSuccess(`${response.data.encaissements.length} encaissements trouvés`);}else{setError(response.message);}}catch(error){setError(extractErrorMessage(error));}finally{setLoading(false);}};const formatAmount=amount=>{return new Intl.NumberFormat('fr-FR',{style:'currency',currency:'XAF',minimumFractionDigits:0,maximumFractionDigits:0}).format(amount).replace('XAF','FCFA');};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('fr-FR');};const exportToPdf=async()=>{try{setLoading(true);const exportParams={start_date:filters.start_date,end_date:filters.end_date,section_id:filters.section_id};const response=await fetch(`${host}/api/reports/detailed-collection/export-pdf?${new URLSearchParams(exportParams).toString()}`,{method:'GET',headers:{'Authorization':`Bearer ${authService.getToken()}`,'Accept':'application/pdf'}});if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const pdfBlob=await response.blob();const blobUrl=window.URL.createObjectURL(pdfBlob);// Créer un lien de téléchargement\nconst link=document.createElement('a');link.href=blobUrl;link.download=`encaissement_detaille_${filters.start_date}_${filters.end_date}.pdf`;document.body.appendChild(link);link.click();document.body.removeChild(link);setTimeout(()=>window.URL.revokeObjectURL(blobUrl),1000);setSuccess('Rapport téléchargé avec succès');}catch(error){console.error('Error exporting PDF:',error);setError('Erreur lors de l\\'export PDF');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"py-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Encaissement D\\xE9taill\\xE9 de la P\\xE9riode\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Rapport d\\xE9taill\\xE9 des encaissements avec filtres par p\\xE9riode et section\"})]})})})}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",dismissible:true,onClose:()=>setError(''),children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",dismissible:true,onClose:()=>setSuccess(''),children:success}),/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(Calendar2,{className:\"me-2\"}),\"Filtres\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Date de d\\xE9but \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:filters.start_date,onChange:e=>setFilters({...filters,start_date:e.target.value}),required:true})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Date de fin \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:filters.end_date,onChange:e=>setFilters({...filters,end_date:e.target.value}),required:true})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Section\"}),/*#__PURE__*/_jsxs(Form.Select,{value:filters.section_id,onChange:e=>setFilters({...filters,section_id:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les sections\"}),sections.map(section=>/*#__PURE__*/_jsx(\"option\",{value:section.id,children:section.name},section.id))]})]})}),/*#__PURE__*/_jsxs(Col,{md:3,className:\"d-flex align-items-end\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:loadEncaissements,disabled:loading,className:\"me-2\",children:[/*#__PURE__*/_jsx(Search,{className:\"me-2\"}),loading?'Chargement...':'Générer']}),/*#__PURE__*/_jsxs(Button,{variant:\"danger\",onClick:exportToPdf,disabled:loading||encaissements.length===0,children:[/*#__PURE__*/_jsx(FiletypePdf,{className:\"me-2\"}),\"Export PDF\"]})]})]})})]}),summary.total_encaissements>0&&/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"bg-primary text-white\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Total Encaissements\"}),/*#__PURE__*/_jsx(\"h4\",{children:summary.total_encaissements})]}),/*#__PURE__*/_jsx(FileEarmarkText,{size:30})]})})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"bg-warning text-white\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Total Inscriptions\"}),/*#__PURE__*/_jsx(\"h4\",{children:formatAmount(summary.total_inscription)})]}),/*#__PURE__*/_jsx(Collection,{size:30})]})})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"bg-info text-white\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Total Tranches\"}),/*#__PURE__*/_jsx(\"h4\",{children:formatAmount(summary.total_tranches)})]}),/*#__PURE__*/_jsx(List,{size:30})]})})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"bg-success text-white\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Total G\\xE9n\\xE9ral\"}),/*#__PURE__*/_jsx(\"h4\",{children:formatAmount(summary.total_general)})]}),/*#__PURE__*/_jsx(CurrencyDollar,{size:30})]})})})})]}),summary.total_encaissements>0&&/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"P\\xE9riode :\"}),\" Du \",formatDate(summary.period_start),\" au \",formatDate(summary.period_end)]}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Section :\"}),\" \",sectionInfo?sectionInfo.name:'Toutes les sections']}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ann\\xE9e scolaire :\"}),\" \",(schoolYear===null||schoolYear===void 0?void 0:schoolYear.name)||'N/A']})]})})}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[\"D\\xE9tail des Encaissements\",summary.total_encaissements>0&&/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",className:\"ms-2\",children:[summary.total_encaissements,\" encaissements\"]})]})}),/*#__PURE__*/_jsx(Card.Body,{children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Chargement...\"})})}):encaissements.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(FileEarmarkText,{size:48,className:\"text-muted mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Aucun encaissement trouv\\xE9 pour la p\\xE9riode s\\xE9lectionn\\xE9e\"}),/*#__PURE__*/_jsx(\"p\",{className:\"small text-muted\",children:\"Veuillez s\\xE9lectionner des filtres et cliquer sur \\\"G\\xE9n\\xE9rer\\\"\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"N\\xB0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Matricule\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pr\\xE9nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Classe\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:\"Inscription\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:\"Tranches\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:encaissements.map((encaissement,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:encaissement.numero}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"outline-primary\",text:\"primary\",children:encaissement.matricule})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:encaissement.nom})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:encaissement.prenom})}),/*#__PURE__*/_jsx(\"td\",{children:encaissement.classe}),/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"strong\",{className:\"text-warning\",children:formatAmount(encaissement.inscription_montant)})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"strong\",{className:\"text-info\",children:formatAmount(encaissement.tranche_montant)})}),/*#__PURE__*/_jsx(\"td\",{children:encaissement.payment_date})]},index))}),/*#__PURE__*/_jsx(\"tfoot\",{className:\"table-secondary\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{colSpan:5,className:\"text-end\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"TOTAL :\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"strong\",{className:\"text-warning fs-6\",children:formatAmount(summary.total_inscription)})}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"strong\",{className:\"text-info fs-6\",children:formatAmount(summary.total_tranches)})}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"strong\",{className:\"text-success fs-6\",children:formatAmount(summary.total_general)})})]})})]})})})})]})]});};export default DetailedCollectionReport;","map":{"version":3,"names":["useState","useEffect","Container","Row","Col","Card","Button","Table","Form","Alert","Spinner","Badge","FileEarmarkText","Calendar2","CurrencyDollar","Collection","Search","List","Download","FiletypePdf","secureApiEndpoints","extractErrorMessage","authService","host","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DetailedCollectionReport","encaissements","setEncaissements","sections","setSections","summary","setSummary","sectionInfo","setSectionInfo","schoolYear","setSchoolYear","loading","setLoading","error","setError","success","setSuccess","filters","setFilters","start_date","end_date","section_id","today","Date","firstDayOfMonth","getFullYear","getMonth","lastDayOfMonth","toISOString","split","loadSections","response","getAll","data","console","loadEncaissements","reports","getDetailedCollectionReport","section_info","school_year","length","message","formatAmount","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","replace","formatDate","dateString","toLocaleDateString","exportToPdf","exportParams","fetch","URLSearchParams","toString","method","headers","getToken","ok","Error","status","pdfBlob","blob","blobUrl","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","setTimeout","revokeObjectURL","fluid","className","children","variant","dismissible","onClose","Header","Body","md","Group","Label","Control","type","value","onChange","e","target","required","Select","map","section","id","name","onClick","disabled","total_encaissements","size","total_inscription","total_tranches","total_general","period_start","period_end","bg","animation","role","striped","hover","encaissement","index","numero","text","matricule","nom","prenom","classe","inscription_montant","tranche_montant","payment_date","colSpan"],"sources":["/var/www/College-IUP/front/src/pages/Reports/DetailedCollectionReport.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n    Container,\n    Row,\n    Col,\n    Card,\n    Button,\n    Table,\n    Form,\n    Alert,\n    Spinner,\n    Badge\n} from 'react-bootstrap';\nimport {\n    FileEarmarkText,\n    Calendar2,\n    CurrencyDollar,\n    Collection,\n    Search,\n    List,\n    Download,\n    FiletypePdf\n} from 'react-bootstrap-icons';\nimport { secureApiEndpoints } from '../../utils/apiMigration';\nimport { extractErrorMessage } from '../../utils/errorHandler';\nimport { authService } from '../../services/authService';\nimport { host } from '../../utils/fetch';\n\nconst DetailedCollectionReport = () => {\n    const [encaissements, setEncaissements] = useState([]);\n    const [sections, setSections] = useState([]);\n    const [summary, setSummary] = useState({});\n    const [sectionInfo, setSectionInfo] = useState(null);\n    const [schoolYear, setSchoolYear] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    // Filtres\n    const [filters, setFilters] = useState({\n        start_date: '',\n        end_date: '',\n        section_id: ''\n    });\n\n    useEffect(() => {\n        // Définir les dates par défaut (mois courant)\n        const today = new Date();\n        const firstDayOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);\n        const lastDayOfMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n\n        setFilters({\n            start_date: firstDayOfMonth.toISOString().split('T')[0],\n            end_date: lastDayOfMonth.toISOString().split('T')[0],\n            section_id: ''\n        });\n\n        loadSections();\n    }, []);\n\n    const loadSections = async () => {\n        try {\n            const response = await secureApiEndpoints.sections.getAll();\n            if (response.success) {\n                setSections(response.data);\n            }\n        } catch (error) {\n            console.error('Erreur lors du chargement des sections:', error);\n        }\n    };\n\n    const loadEncaissements = async () => {\n        if (!filters.start_date || !filters.end_date) {\n            setError('Les dates de début et de fin sont obligatoires');\n            return;\n        }\n\n        if (new Date(filters.start_date) > new Date(filters.end_date)) {\n            setError('La date de début doit être antérieure à la date de fin');\n            return;\n        }\n\n        try {\n            setLoading(true);\n            setError('');\n\n            const response = await secureApiEndpoints.reports.getDetailedCollectionReport(filters);\n\n            if (response.success) {\n                setEncaissements(response.data.encaissements);\n                setSummary(response.data.summary);\n                setSectionInfo(response.data.section_info);\n                setSchoolYear(response.data.school_year);\n                setSuccess(`${response.data.encaissements.length} encaissements trouvés`);\n            } else {\n                setError(response.message);\n            }\n        } catch (error) {\n            setError(extractErrorMessage(error));\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const formatAmount = (amount) => {\n        return new Intl.NumberFormat('fr-FR', {\n            style: 'currency',\n            currency: 'XAF',\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 0\n        }).format(amount).replace('XAF', 'FCFA');\n    };\n\n    const formatDate = (dateString) => {\n        return new Date(dateString).toLocaleDateString('fr-FR');\n    };\n\n    const exportToPdf = async () => {\n        try {\n            setLoading(true);\n\n            const exportParams = {\n                start_date: filters.start_date,\n                end_date: filters.end_date,\n                section_id: filters.section_id\n            };\n\n            const response = await fetch(`${host}/api/reports/detailed-collection/export-pdf?${new URLSearchParams(exportParams).toString()}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${authService.getToken()}`,\n                    'Accept': 'application/pdf'\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n\n            const pdfBlob = await response.blob();\n            const blobUrl = window.URL.createObjectURL(pdfBlob);\n            \n            // Créer un lien de téléchargement\n            const link = document.createElement('a');\n            link.href = blobUrl;\n            link.download = `encaissement_detaille_${filters.start_date}_${filters.end_date}.pdf`;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            \n            setTimeout(() => window.URL.revokeObjectURL(blobUrl), 1000);\n            setSuccess('Rapport téléchargé avec succès');\n            \n        } catch (error) {\n            console.error('Error exporting PDF:', error);\n            setError('Erreur lors de l\\'export PDF');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Container fluid className=\"py-4\">\n            {/* Header */}\n            <Row className=\"mb-4\">\n                <Col>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <h2>Encaissement Détaillé de la Période</h2>\n                            <p className=\"text-muted\">\n                                Rapport détaillé des encaissements avec filtres par période et section\n                            </p>\n                        </div>\n                    </div>\n                </Col>\n            </Row>\n\n            {/* Alerts */}\n            {error && (\n                <Alert variant=\"danger\" dismissible onClose={() => setError('')}>\n                    {error}\n                </Alert>\n            )}\n            {success && (\n                <Alert variant=\"success\" dismissible onClose={() => setSuccess('')}>\n                    {success}\n                </Alert>\n            )}\n\n            {/* Filtres */}\n            <Card className=\"mb-4\">\n                <Card.Header>\n                    <h5 className=\"mb-0\">\n                        <Calendar2 className=\"me-2\" />\n                        Filtres\n                    </h5>\n                </Card.Header>\n                <Card.Body>\n                    <Row>\n                        <Col md={3}>\n                            <Form.Group>\n                                <Form.Label>Date de début <span className=\"text-danger\">*</span></Form.Label>\n                                <Form.Control\n                                    type=\"date\"\n                                    value={filters.start_date}\n                                    onChange={(e) => setFilters({ ...filters, start_date: e.target.value })}\n                                    required\n                                />\n                            </Form.Group>\n                        </Col>\n                        <Col md={3}>\n                            <Form.Group>\n                                <Form.Label>Date de fin <span className=\"text-danger\">*</span></Form.Label>\n                                <Form.Control\n                                    type=\"date\"\n                                    value={filters.end_date}\n                                    onChange={(e) => setFilters({ ...filters, end_date: e.target.value })}\n                                    required\n                                />\n                            </Form.Group>\n                        </Col>\n                        <Col md={3}>\n                            <Form.Group>\n                                <Form.Label>Section</Form.Label>\n                                <Form.Select\n                                    value={filters.section_id}\n                                    onChange={(e) => setFilters({ ...filters, section_id: e.target.value })}\n                                >\n                                    <option value=\"\">Toutes les sections</option>\n                                    {sections.map(section => (\n                                        <option key={section.id} value={section.id}>\n                                            {section.name}\n                                        </option>\n                                    ))}\n                                </Form.Select>\n                            </Form.Group>\n                        </Col>\n                        <Col md={3} className=\"d-flex align-items-end\">\n                            <Button\n                                variant=\"primary\"\n                                onClick={loadEncaissements}\n                                disabled={loading}\n                                className=\"me-2\"\n                            >\n                                <Search className=\"me-2\" />\n                                {loading ? 'Chargement...' : 'Générer'}\n                            </Button>\n                            <Button\n                                variant=\"danger\"\n                                onClick={exportToPdf}\n                                disabled={loading || encaissements.length === 0}\n                            >\n                                <FiletypePdf className=\"me-2\" />\n                                Export PDF\n                            </Button>\n                        </Col>\n                    </Row>\n                </Card.Body>\n            </Card>\n\n            {/* Résumé */}\n            {summary.total_encaissements > 0 && (\n                <Row className=\"mb-4\">\n                    <Col md={3}>\n                        <Card className=\"bg-primary text-white\">\n                            <Card.Body>\n                                <div className=\"d-flex justify-content-between align-items-center\">\n                                    <div>\n                                        <h6>Total Encaissements</h6>\n                                        <h4>{summary.total_encaissements}</h4>\n                                    </div>\n                                    <FileEarmarkText size={30} />\n                                </div>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                    <Col md={3}>\n                        <Card className=\"bg-warning text-white\">\n                            <Card.Body>\n                                <div className=\"d-flex justify-content-between align-items-center\">\n                                    <div>\n                                        <h6>Total Inscriptions</h6>\n                                        <h4>{formatAmount(summary.total_inscription)}</h4>\n                                    </div>\n                                    <Collection size={30} />\n                                </div>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                    <Col md={3}>\n                        <Card className=\"bg-info text-white\">\n                            <Card.Body>\n                                <div className=\"d-flex justify-content-between align-items-center\">\n                                    <div>\n                                        <h6>Total Tranches</h6>\n                                        <h4>{formatAmount(summary.total_tranches)}</h4>\n                                    </div>\n                                    <List size={30} />\n                                </div>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                    <Col md={3}>\n                        <Card className=\"bg-success text-white\">\n                            <Card.Body>\n                                <div className=\"d-flex justify-content-between align-items-center\">\n                                    <div>\n                                        <h6>Total Général</h6>\n                                        <h4>{formatAmount(summary.total_general)}</h4>\n                                    </div>\n                                    <CurrencyDollar size={30} />\n                                </div>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            )}\n\n            {/* Informations de la période et section */}\n            {summary.total_encaissements > 0 && (\n                <Card className=\"mb-4\">\n                    <Card.Body>\n                        <Row>\n                            <Col md={4}>\n                                <strong>Période :</strong> Du {formatDate(summary.period_start)} au {formatDate(summary.period_end)}\n                            </Col>\n                            <Col md={4}>\n                                <strong>Section :</strong> {sectionInfo ? sectionInfo.name : 'Toutes les sections'}\n                            </Col>\n                            <Col md={4}>\n                                <strong>Année scolaire :</strong> {schoolYear?.name || 'N/A'}\n                            </Col>\n                        </Row>\n                    </Card.Body>\n                </Card>\n            )}\n\n            {/* Tableau des encaissements */}\n            <Card>\n                <Card.Header>\n                    <h5 className=\"mb-0\">\n                        Détail des Encaissements\n                        {summary.total_encaissements > 0 && (\n                            <Badge bg=\"secondary\" className=\"ms-2\">\n                                {summary.total_encaissements} encaissements\n                            </Badge>\n                        )}\n                    </h5>\n                </Card.Header>\n                <Card.Body>\n                    {loading ? (\n                        <div className=\"text-center py-4\">\n                            <Spinner animation=\"border\" role=\"status\">\n                                <span className=\"visually-hidden\">Chargement...</span>\n                            </Spinner>\n                        </div>\n                    ) : encaissements.length === 0 ? (\n                        <div className=\"text-center py-4\">\n                            <FileEarmarkText size={48} className=\"text-muted mb-3\" />\n                            <p className=\"text-muted\">\n                                Aucun encaissement trouvé pour la période sélectionnée\n                            </p>\n                            <p className=\"small text-muted\">\n                                Veuillez sélectionner des filtres et cliquer sur \"Générer\"\n                            </p>\n                        </div>\n                    ) : (\n                        <>\n                            <div className=\"table-responsive\">\n                                <Table striped hover>\n                                    <thead className=\"table-dark\">\n                                        <tr>\n                                            <th>N°</th>\n                                            <th>Matricule</th>\n                                            <th>Nom</th>\n                                            <th>Prénom</th>\n                                            <th>Classe</th>\n                                            <th className=\"text-end\">Inscription</th>\n                                            <th className=\"text-end\">Tranches</th>\n                                            <th>Date</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {encaissements.map((encaissement, index) => (\n                                            <tr key={index}>\n                                                <td>{encaissement.numero}</td>\n                                                <td>\n                                                    <Badge bg=\"outline-primary\" text=\"primary\">\n                                                        {encaissement.matricule}\n                                                    </Badge>\n                                                </td>\n                                                <td><strong>{encaissement.nom}</strong></td>\n                                                <td><strong>{encaissement.prenom}</strong></td>\n                                                <td>{encaissement.classe}</td>\n                                                <td className=\"text-end\">\n                                                    <strong className=\"text-warning\">\n                                                        {formatAmount(encaissement.inscription_montant)}\n                                                    </strong>\n                                                </td>\n                                                <td className=\"text-end\">\n                                                    <strong className=\"text-info\">\n                                                        {formatAmount(encaissement.tranche_montant)}\n                                                    </strong>\n                                                </td>\n                                                <td>{encaissement.payment_date}</td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                    <tfoot className=\"table-secondary\">\n                                        <tr>\n                                            <th colSpan={5} className=\"text-end\">\n                                                <strong>TOTAL :</strong>\n                                            </th>\n                                            <th className=\"text-end\">\n                                                <strong className=\"text-warning fs-6\">\n                                                    {formatAmount(summary.total_inscription)}\n                                                </strong>\n                                            </th>\n                                            <th className=\"text-end\">\n                                                <strong className=\"text-info fs-6\">\n                                                    {formatAmount(summary.total_tranches)}\n                                                </strong>\n                                            </th>\n                                            <th className=\"text-center\">\n                                                <strong className=\"text-success fs-6\">\n                                                    {formatAmount(summary.total_general)}\n                                                </strong>\n                                            </th>\n                                        </tr>\n                                    </tfoot>\n                                </Table>\n                            </div>\n                        </>\n                    )}\n                </Card.Body>\n            </Card>\n        </Container>\n    );\n};\n\nexport default DetailedCollectionReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}